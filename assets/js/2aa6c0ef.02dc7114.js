"use strict";(self.webpackChunktddocs=self.webpackChunktddocs||[]).push([[6508],{3905:function(t,e,n){n.d(e,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},l=Object.keys(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)n=l[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var s=a.createContext({}),p=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},c=function(t){var e=p(t.components);return a.createElement(s.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,l=t.originalType,s=t.parentName,c=o(t,["components","mdxType","originalType","parentName"]),d=p(n),m=r,g=d["".concat(s,".").concat(m)]||d[m]||u[m]||l;return n?a.createElement(g,i(i({ref:e},c),{},{components:n})):a.createElement(g,i({ref:e},c))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=n.length,i=new Array(l);i[0]=d;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5141:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return p},assets:function(){return c},toc:function(){return u},default:function(){return m}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],o={sidebar_position:2},s="Java Connector",p={unversionedId:"reference/connector/java",id:"reference/connector/java",title:"Java Connector",description:"\u603b\u4f53\u4ecb\u7ecd",source:"@site/docs/reference/connector/java.mdx",sourceDirName:"reference/connector",slug:"/reference/connector/java",permalink:"/tddocs/docs/next/reference/connector/java",editUrl:"https://github.com/dingbo8128/tddocs/edit/main/docs/reference/connector/java.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"C/C++ Connector",permalink:"/tddocs/docs/next/reference/connector/cpp"},next:{title:"Python Connector",permalink:"/tddocs/docs/next/reference/connector/python"}},c={},u=[{value:"\u603b\u4f53\u4ecb\u7ecd",id:"\u603b\u4f53\u4ecb\u7ecd",level:2},{value:"JDBC-JNI \u548c JDBC-RESTful \u7684\u5bf9\u6bd4",id:"jdbc-jni-\u548c-jdbc-restful-\u7684\u5bf9\u6bd4",level:3},{value:'<a class="anchor" id="version"></a>TAOS-JDBCDriver \u7248\u672c\u4ee5\u53ca\u652f\u6301\u7684 TDengine \u7248\u672c\u548c JDK \u7248\u672c',id:"taos-jdbcdriver-\u7248\u672c\u4ee5\u53ca\u652f\u6301\u7684-tdengine-\u7248\u672c\u548c-jdk-\u7248\u672c",level:2},{value:"TDengine DataType \u548c Java DataType",id:"tdengine-datatype-\u548c-java-datatype",level:2},{value:"\u5b89\u88c5 Java Connector",id:"\u5b89\u88c5-java-connector",level:2},{value:"\u5b89\u88c5\u524d\u51c6\u5907",id:"\u5b89\u88c5\u524d\u51c6\u5907",level:3},{value:"\u901a\u8fc7 maven \u83b7\u53d6 JDBC driver",id:"\u901a\u8fc7-maven-\u83b7\u53d6-jdbc-driver",level:3},{value:"\u901a\u8fc7\u6e90\u7801\u7f16\u8bd1\u83b7\u53d6 JDBC driver",id:"\u901a\u8fc7\u6e90\u7801\u7f16\u8bd1\u83b7\u53d6-jdbc-driver",level:3},{value:"Java \u8fde\u63a5\u5668\u7684\u4f7f\u7528",id:"java-\u8fde\u63a5\u5668\u7684\u4f7f\u7528",level:2},{value:"\u83b7\u53d6\u8fde\u63a5",id:"\u83b7\u53d6\u8fde\u63a5",level:3},{value:"\u6307\u5b9a URL \u83b7\u53d6\u8fde\u63a5",id:"\u6307\u5b9a-url-\u83b7\u53d6\u8fde\u63a5",level:4},{value:"\u6307\u5b9a URL \u548c Properties \u83b7\u53d6\u8fde\u63a5",id:"\u6307\u5b9a-url-\u548c-properties-\u83b7\u53d6\u8fde\u63a5",level:4},{value:"\u4f7f\u7528\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u5efa\u7acb\u8fde\u63a5",id:"\u4f7f\u7528\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u5efa\u7acb\u8fde\u63a5",level:4},{value:"\u914d\u7f6e\u53c2\u6570\u7684\u4f18\u5148\u7ea7",id:"\u914d\u7f6e\u53c2\u6570\u7684\u4f18\u5148\u7ea7",level:4},{value:"\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868",id:"\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868",level:3},{value:"\u63d2\u5165\u6570\u636e",id:"\u63d2\u5165\u6570\u636e",level:3},{value:"\u67e5\u8be2\u6570\u636e",id:"\u67e5\u8be2\u6570\u636e",level:3},{value:"\u5904\u7406\u5f02\u5e38",id:"\u5904\u7406\u5f02\u5e38",level:3},{value:'<a class="anchor" id="stmt-java"></a>\u901a\u8fc7\u53c2\u6570\u7ed1\u5b9a\u5199\u5165\u6570\u636e',id:"\u901a\u8fc7\u53c2\u6570\u7ed1\u5b9a\u5199\u5165\u6570\u636e",level:3},{value:'<a class="anchor" id="set-client-configuration"></a>\u8bbe\u7f6e\u5ba2\u6237\u7aef\u53c2\u6570',id:"\u8bbe\u7f6e\u5ba2\u6237\u7aef\u53c2\u6570",level:3},{value:'<a class="anchor" id="subscribe"></a>\u8ba2\u9605',id:"\u8ba2\u9605",level:2},{value:"\u521b\u5efa",id:"\u521b\u5efa",level:3},{value:"\u6d88\u8d39\u6570\u636e",id:"\u6d88\u8d39\u6570\u636e",level:3},{value:"\u5173\u95ed\u8ba2\u9605",id:"\u5173\u95ed\u8ba2\u9605",level:3},{value:"\u5173\u95ed\u8d44\u6e90",id:"\u5173\u95ed\u8d44\u6e90",level:2},{value:"\u4e0e\u8fde\u63a5\u6c60\u4f7f\u7528",id:"\u4e0e\u8fde\u63a5\u6c60\u4f7f\u7528",level:2},{value:"HikariCP",id:"hikaricp",level:3},{value:"Druid",id:"druid",level:3},{value:"\u5728\u6846\u67b6\u4e2d\u4f7f\u7528",id:"\u5728\u6846\u67b6\u4e2d\u4f7f\u7528",level:2},{value:"\u793a\u4f8b\u7a0b\u5e8f",id:"\u793a\u4f8b\u7a0b\u5e8f",level:2},{value:"\u5e38\u89c1\u95ee\u9898",id:"\u5e38\u89c1\u95ee\u9898",level:2}],d={toc:u};function m(t){var e=t.components,o=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,a.Z)({},d,o,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"java-connector"},"Java Connector"),(0,l.kt)("h2",{id:"\u603b\u4f53\u4ecb\u7ecd"},"\u603b\u4f53\u4ecb\u7ecd"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"taos-jdbcdriver")," \u7684\u5b9e\u73b0\u5305\u62ec 2 \u79cd\u5f62\u5f0f\uff1a JDBC-JNI \u548c JDBC-RESTful\uff08taos-jdbcdriver-2.0.18 \u5f00\u59cb\u652f\u6301 JDBC-RESTful\uff09\u3002 JDBC-JNI \u901a\u8fc7\u8c03\u7528\u5ba2\u6237\u7aef libtaos.so\uff08\u6216 taos.dll \uff09\u7684\u672c\u5730\u65b9\u6cd5\u5b9e\u73b0\uff0c JDBC-RESTful \u5219\u5728\u5185\u90e8\u5c01\u88c5\u4e86 RESTful \u63a5\u53e3\u5b9e\u73b0\u3002"),(0,l.kt)("p",null,(0,l.kt)("img",{loading:"lazy",alt:"tdengine-connector",src:n(9999).Z,width:"1091",height:"324"})),(0,l.kt)("p",null,"\u4e0a\u56fe\u663e\u793a\u4e86 3 \u79cd Java \u5e94\u7528\u4f7f\u7528\u8fde\u63a5\u5668\u8bbf\u95ee TDengine \u7684\u65b9\u5f0f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JDBC-JNI\uff1aJava \u5e94\u7528\u5728\u7269\u7406\u8282\u70b9 1\uff08pnode1\uff09\u4e0a\u4f7f\u7528 JDBC-JNI \u7684 API \uff0c\u76f4\u63a5\u8c03\u7528\u5ba2\u6237\u7aef API\uff08libtaos.so \u6216 taos.dll\uff09\u5c06\u5199\u5165\u548c\u67e5\u8be2\u8bf7\u6c42\u53d1\u9001\u5230\u4f4d\u4e8e\u7269\u7406\u8282\u70b9 2\uff08pnode2\uff09\u4e0a\u7684 taosd \u5b9e\u4f8b\u3002"),(0,l.kt)("li",{parentName:"ul"},"RESTful\uff1a\u5e94\u7528\u5c06 SQL \u53d1\u9001\u7ed9\u4f4d\u4e8e\u7269\u7406\u8282\u70b9 2\uff08pnode2\uff09\u4e0a\u7684 RESTful \u8fde\u63a5\u5668\uff0c\u518d\u8c03\u7528\u5ba2\u6237\u7aef API\uff08libtaos.so\uff09\u3002"),(0,l.kt)("li",{parentName:"ul"},"JDBC-RESTful\uff1aJava \u5e94\u7528\u901a\u8fc7 JDBC-RESTful \u7684 API \uff0c\u5c06 SQL \u5c01\u88c5\u6210\u4e00\u4e2a RESTful \u8bf7\u6c42\uff0c\u53d1\u9001\u7ed9\u7269\u7406\u8282\u70b9 2 \u7684 RESTful \u8fde\u63a5\u5668\u3002")),(0,l.kt)("p",null,"TDengine \u7684 JDBC \u9a71\u52a8\u5b9e\u73b0\u5c3d\u53ef\u80fd\u4e0e\u5173\u7cfb\u578b\u6570\u636e\u5e93\u9a71\u52a8\u4fdd\u6301\u4e00\u81f4\uff0c\u4f46 TDengine \u4e0e\u5173\u7cfb\u5bf9\u8c61\u578b\u6570\u636e\u5e93\u7684\u4f7f\u7528\u573a\u666f\u548c\u6280\u672f\u7279\u5f81\u5b58\u5728\u5dee\u5f02\uff0c\u5bfc\u81f4 ",(0,l.kt)("inlineCode",{parentName:"p"},"taos-jdbcdriver")," \u4e0e\u4f20\u7edf\u7684 JDBC driver \u4e5f\u5b58\u5728\u4e00\u5b9a\u5dee\u5f02\u3002\u5728\u4f7f\u7528\u65f6\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u51e0\u70b9\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"TDengine \u76ee\u524d\u4e0d\u652f\u6301\u9488\u5bf9\u5355\u6761\u6570\u636e\u8bb0\u5f55\u7684\u5220\u9664\u64cd\u4f5c\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u76ee\u524d\u4e0d\u652f\u6301\u4e8b\u52a1\u64cd\u4f5c\u3002")),(0,l.kt)("h3",{id:"jdbc-jni-\u548c-jdbc-restful-\u7684\u5bf9\u6bd4"},"JDBC-JNI \u548c JDBC-RESTful \u7684\u5bf9\u6bd4"),(0,l.kt)("table",null,(0,l.kt)("tr",{align:"center"},(0,l.kt)("th",null,"\u5bf9\u6bd4\u9879"),(0,l.kt)("th",null,"JDBC-JNI"),(0,l.kt)("th",null,"JDBC-RESTful")),(0,l.kt)("tr",{align:"center"},(0,l.kt)("td",null,"\u652f\u6301\u7684\u64cd\u4f5c\u7cfb\u7edf"),(0,l.kt)("td",null,"linux\u3001windows"),(0,l.kt)("td",null,"\u5168\u5e73\u53f0")),(0,l.kt)("tr",{align:"center"},(0,l.kt)("td",null,"\u662f\u5426\u9700\u8981\u5b89\u88c5 client"),(0,l.kt)("td",null,"\u9700\u8981"),(0,l.kt)("td",null,"\u4e0d\u9700\u8981")),(0,l.kt)("tr",{align:"center"},(0,l.kt)("td",null,"server \u5347\u7ea7\u540e\u662f\u5426\u9700\u8981\u5347\u7ea7 client"),(0,l.kt)("td",null,"\u9700\u8981"),(0,l.kt)("td",null,"\u4e0d\u9700\u8981")),(0,l.kt)("tr",{align:"center"},(0,l.kt)("td",null,"\u5199\u5165\u6027\u80fd"),(0,l.kt)("td",{colspan:"2"},"JDBC-RESTful \u662f JDBC-JNI \u7684 50%\uff5e90% ")),(0,l.kt)("tr",{align:"center"},(0,l.kt)("td",null,"\u67e5\u8be2\u6027\u80fd"),(0,l.kt)("td",{colspan:"2"},"JDBC-RESTful \u4e0e JDBC-JNI \u6ca1\u6709\u5dee\u522b"))),(0,l.kt)("p",null,"\u6ce8\u610f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4e0e JNI \u65b9\u5f0f\u4e0d\u540c\uff0cRESTful \u63a5\u53e3\u662f\u65e0\u72b6\u6001\u7684\u3002\u5728\u4f7f\u7528 JDBC-RESTful \u65f6\uff0c\u9700\u8981\u5728 sql \u4e2d\u6307\u5b9a\u8868\u3001\u8d85\u7ea7\u8868\u7684\u6570\u636e\u5e93\u540d\u79f0\u3002\u4f8b\u5982\uff1a")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO test.t1 USING test.weather (ts, temperature) TAGS('beijing') VALUES(now, 24.6);\n")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u4ece taos-jdbcdriver-2.0.36 \u548c TDengine 2.2.0.0 \u7248\u672c\u5f00\u59cb\uff0c\u5982\u679c\u5728 url \u4e2d\u6307\u5b9a\u4e86 dbname\uff0c\u90a3\u4e48\uff0cJDBC-RESTful \u4f1a\u9ed8\u8ba4\u4f7f\u7528/rest/sql/dbname \u4f5c\u4e3a resful \u8bf7\u6c42\u7684 url\uff0c\u5728 sql \u4e2d\u4e0d\u9700\u8981\u6307\u5b9a dbname\u3002\u4f8b\u5982\uff1aurl \u4e3a jdbc:TAOS-RS://127.0.0.1:6041/test\uff0c\u90a3\u4e48\uff0c\u53ef\u4ee5\u6267\u884c sql\uff1ainsert into t1 using weather(ts, temperatrue) tags('beijing') values(now, 24.6);")),(0,l.kt)("h2",{id:"taos-jdbcdriver-\u7248\u672c\u4ee5\u53ca\u652f\u6301\u7684-tdengine-\u7248\u672c\u548c-jdk-\u7248\u672c"},(0,l.kt)("a",{class:"anchor",id:"version"}),"TAOS-JDBCDriver \u7248\u672c\u4ee5\u53ca\u652f\u6301\u7684 TDengine \u7248\u672c\u548c JDK \u7248\u672c"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"taos-jdbcdriver \u7248\u672c"),(0,l.kt)("th",{parentName:"tr",align:null},"TDengine 2.0.x.x \u7248\u672c"),(0,l.kt)("th",{parentName:"tr",align:null},"TDengine 2.2.x.x \u7248\u672c"),(0,l.kt)("th",{parentName:"tr",align:null},"TDengine 2.4.x.x \u7248\u672c"),(0,l.kt)("th",{parentName:"tr",align:null},"JDK \u7248\u672c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2.0.37"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"2.4.0.6 \u4ee5\u4e0a"),(0,l.kt)("td",{parentName:"tr",align:null},"1.8.x")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2.0.36"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"2.2.2.11 \u4ee5\u4e0a"),(0,l.kt)("td",{parentName:"tr",align:null},"2.4.0.0 - 2.4.0.5"),(0,l.kt)("td",{parentName:"tr",align:null},"1.8.x")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2.0.35"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"2.2.2.11 \u4ee5\u4e0a"),(0,l.kt)("td",{parentName:"tr",align:null},"2.3.0.0 - 2.4.0.5"),(0,l.kt)("td",{parentName:"tr",align:null},"1.8.x")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2.0.33 - 2.0.34"),(0,l.kt)("td",{parentName:"tr",align:null},"2.0.3.0 \u4ee5\u4e0a"),(0,l.kt)("td",{parentName:"tr",align:null},"2.2.0.0 \u4ee5\u4e0a"),(0,l.kt)("td",{parentName:"tr",align:null},"2.4.0.0 - 2.4.0.5"),(0,l.kt)("td",{parentName:"tr",align:null},"1.8.x")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2.0.31 - 2.0.32"),(0,l.kt)("td",{parentName:"tr",align:null},"2.1.3.0 - 2.1.7.7"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"1.8.x")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2.0.22 - 2.0.30"),(0,l.kt)("td",{parentName:"tr",align:null},"2.0.18.0 - 2.1.2.1"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"1.8.x")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2.0.12 - 2.0.21"),(0,l.kt)("td",{parentName:"tr",align:null},"2.0.8.0 - 2.0.17.4"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"1.8.x")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2.0.4 - 2.0.11"),(0,l.kt)("td",{parentName:"tr",align:null},"2.0.0.0 - 2.0.7.3"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"X"),(0,l.kt)("td",{parentName:"tr",align:null},"1.8.x")))),(0,l.kt)("h2",{id:"tdengine-datatype-\u548c-java-datatype"},"TDengine DataType \u548c Java DataType"),(0,l.kt)("p",null,"TDengine \u76ee\u524d\u652f\u6301\u65f6\u95f4\u6233\u3001\u6570\u5b57\u3001\u5b57\u7b26\u3001\u5e03\u5c14\u7c7b\u578b\uff0c\u4e0e Java \u5bf9\u5e94\u7c7b\u578b\u8f6c\u6362\u5982\u4e0b\uff1a"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"TDengine DataType"),(0,l.kt)("th",{parentName:"tr",align:null},"JDBCType \uff08driver \u7248\u672c < 2.0.24\uff09"),(0,l.kt)("th",{parentName:"tr",align:null},"JDBCType \uff08driver \u7248\u672c >= 2.0.24\uff09"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"TIMESTAMP"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Long"),(0,l.kt)("td",{parentName:"tr",align:null},"java.sql.Timestamp")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"INT"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Integer"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Integer")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"BIGINT"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Long"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Long")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"FLOAT"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Float"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Float")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"DOUBLE"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Double"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Double")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SMALLINT"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Short"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Short")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"TINYINT"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Byte"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Byte")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"BOOL"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.Boolean")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"BINARY"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.String"),(0,l.kt)("td",{parentName:"tr",align:null},"byte array")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"NCHAR"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.String"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.String")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"JSON"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"java.lang.String")))),(0,l.kt)("p",null,"\u6ce8\u610f\uff1aJSON \u7c7b\u578b\u4ec5\u5728 tag \u4e2d\u652f\u6301\u3002"),(0,l.kt)("h2",{id:"\u5b89\u88c5-java-connector"},"\u5b89\u88c5 Java Connector"),(0,l.kt)("h3",{id:"\u5b89\u88c5\u524d\u51c6\u5907"},"\u5b89\u88c5\u524d\u51c6\u5907"),(0,l.kt)("p",null,"\u4f7f\u7528 Java Connector \u8fde\u63a5\u6570\u636e\u5e93\u524d\uff0c\u9700\u8981\u5177\u5907\u4ee5\u4e0b\u6761\u4ef6\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Linux \u6216 Windows \u64cd\u4f5c\u7cfb\u7edf"),(0,l.kt)("li",{parentName:"ol"},"Java 1.8 \u4ee5\u4e0a\u8fd0\u884c\u65f6\u73af\u5883"),(0,l.kt)("li",{parentName:"ol"},"TDengine-client\uff08\u4f7f\u7528 JDBC-JNI \u65f6\u5fc5\u987b\uff0c\u4f7f\u7528 JDBC-RESTful \u65f6\u975e\u5fc5\u987b\uff09")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1a\u7531\u4e8e TDengine \u7684\u5e94\u7528\u9a71\u52a8\u662f\u4f7f\u7528 C \u8bed\u8a00\u5f00\u53d1\u7684\uff0c\u4f7f\u7528 taos-jdbcdriver \u9a71\u52a8\u5305\u65f6\u9700\u8981\u4f9d\u8d56\u7cfb\u7edf\u5bf9\u5e94\u7684\u672c\u5730\u51fd\u6570\u5e93\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"libtaos.so \u5728 Linux \u7cfb\u7edf\u4e2d\u6210\u529f\u5b89\u88c5 TDengine \u540e\uff0c\u4f9d\u8d56\u7684\u672c\u5730\u51fd\u6570\u5e93 libtaos.so \u6587\u4ef6\u4f1a\u88ab\u81ea\u52a8\u62f7\u8d1d\u81f3 /usr/lib/libtaos.so\uff0c\u8be5\u76ee\u5f55\u5305\u542b\u5728 Linux \u81ea\u52a8\u626b\u63cf\u8def\u5f84\u4e0a\uff0c\u65e0\u9700\u5355\u72ec\u6307\u5b9a\u3002"),(0,l.kt)("li",{parentName:"ul"},"taos.dll \u5728 Windows \u7cfb\u7edf\u4e2d\u5b89\u88c5\u5b8c\u5ba2\u6237\u7aef\u4e4b\u540e\uff0c\u9a71\u52a8\u5305\u4f9d\u8d56\u7684 taos.dll \u6587\u4ef6\u4f1a\u81ea\u52a8\u62f7\u8d1d\u5230\u7cfb\u7edf\u9ed8\u8ba4\u641c\u7d22\u8def\u5f84 C:/Windows/System32 \u4e0b\uff0c\u540c\u6837\u65e0\u9700\u8981\u5355\u72ec\u6307\u5b9a\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1a\u5728 Windows \u73af\u5883\u5f00\u53d1\u65f6\u9700\u8981\u5b89\u88c5 TDengine \u5bf9\u5e94\u7684 ",(0,l.kt)("a",{parentName:"p",href:"https://www.taosdata.com/cn/all-downloads/#TDengine-Windows-Client"},"windows \u5ba2\u6237\u7aef"),"\uff0cLinux \u670d\u52a1\u5668\u5b89\u88c5\u5b8c TDengine \u4e4b\u540e\u9ed8\u8ba4\u5df2\u5b89\u88c5 client\uff0c\u4e5f\u53ef\u4ee5\u5355\u72ec\u5b89\u88c5 ",(0,l.kt)("a",{parentName:"p",href:"https://www.taosdata.com/cn/getting-started/#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B"},"Linux \u5ba2\u6237\u7aef")," \u8fde\u63a5\u8fdc\u7a0b TDengine Server\u3002"),(0,l.kt)("h3",{id:"\u901a\u8fc7-maven-\u83b7\u53d6-jdbc-driver"},"\u901a\u8fc7 maven \u83b7\u53d6 JDBC driver"),(0,l.kt)("p",null,"\u76ee\u524d taos-jdbcdriver \u5df2\u7ecf\u53d1\u5e03\u5230 ",(0,l.kt)("a",{parentName:"p",href:"https://search.maven.org/artifact/com.taosdata.jdbc/taos-jdbcdriver"},"Sonatype Repository")," \u4ed3\u5e93\uff0c\u4e14\u5404\u5927\u4ed3\u5e93\u90fd\u5df2\u540c\u6b65\u3002"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://search.maven.org/artifact/com.taosdata.jdbc/taos-jdbcdriver"},"sonatype")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://mvnrepository.com/artifact/com.taosdata.jdbc/taos-jdbcdriver"},"mvnrepository")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://maven.aliyun.com/mvn/search"},"maven.aliyun"))),(0,l.kt)("p",null,"maven \u9879\u76ee\u4e2d\uff0c\u5728 pom.xml \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u4f9d\u8d56\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-xml-dtd"},"<dependency>\n <groupId>com.taosdata.jdbc</groupId>\n <artifactId>taos-jdbcdriver</artifactId>\n <version>2.0.18</version>\n</dependency>\n")),(0,l.kt)("h3",{id:"\u901a\u8fc7\u6e90\u7801\u7f16\u8bd1\u83b7\u53d6-jdbc-driver"},"\u901a\u8fc7\u6e90\u7801\u7f16\u8bd1\u83b7\u53d6 JDBC driver"),(0,l.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7\u4e0b\u8f7d TDengine \u7684\u6e90\u7801\uff0c\u81ea\u5df1\u7f16\u8bd1\u6700\u65b0\u7248\u672c\u7684 java connector"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/taosdata/TDengine.git\ncd TDengine/src/connector/jdbc\nmvn clean package -Dmaven.test.skip=true\n")),(0,l.kt)("p",null,"\u7f16\u8bd1\u540e\uff0c\u5728 target \u76ee\u5f55\u4e0b\u4f1a\u4ea7\u751f taos-jdbcdriver-2.0.XX-dist.jar \u7684 jar \u5305\u3002"),(0,l.kt)("h2",{id:"java-\u8fde\u63a5\u5668\u7684\u4f7f\u7528"},"Java \u8fde\u63a5\u5668\u7684\u4f7f\u7528"),(0,l.kt)("h3",{id:"\u83b7\u53d6\u8fde\u63a5"},"\u83b7\u53d6\u8fde\u63a5"),(0,l.kt)("h4",{id:"\u6307\u5b9a-url-\u83b7\u53d6\u8fde\u63a5"},"\u6307\u5b9a URL \u83b7\u53d6\u8fde\u63a5"),(0,l.kt)("p",null,"\u901a\u8fc7\u6307\u5b9a URL \u83b7\u53d6\u8fde\u63a5\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'Class.forName("com.taosdata.jdbc.rs.RestfulDriver");\nString jdbcUrl = "jdbc:TAOS-RS://taosdemo.com:6041/test?user=root&password=taosdata";\nConnection conn = DriverManager.getConnection(jdbcUrl);\n')),(0,l.kt)("p",null,"\u4ee5\u4e0a\u793a\u4f8b\uff0c\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"JDBC-RESTful")," \u7684 driver\uff0c\u5efa\u7acb\u4e86\u5230 hostname \u4e3a taosdemo.com\uff0c\u7aef\u53e3\u4e3a 6041\uff0c\u6570\u636e\u5e93\u540d\u4e3a test \u7684\u8fde\u63a5\u3002\u8fd9\u4e2a URL \u4e2d\u6307\u5b9a\u7528\u6237\u540d\uff08user\uff09\u4e3a root\uff0c\u5bc6\u7801\uff08password\uff09\u4e3a taosdata\u3002"),(0,l.kt)("p",null,"\u4f7f\u7528 JDBC-RESTful \u63a5\u53e3\uff0c\u4e0d\u9700\u8981\u4f9d\u8d56\u672c\u5730\u51fd\u6570\u5e93\u3002\u4e0e JDBC-JNI \u76f8\u6bd4\uff0c\u4ec5\u9700\u8981\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"driverClass \u6307\u5b9a\u4e3a\u201ccom.taosdata.jdbc.rs.RestfulDriver\u201d\uff1b"),(0,l.kt)("li",{parentName:"ol"},"jdbcUrl \u4ee5\u201cjdbc:TAOS-RS://\u201d\u5f00\u5934\uff1b"),(0,l.kt)("li",{parentName:"ol"},"\u4f7f\u7528 6041 \u4f5c\u4e3a\u8fde\u63a5\u7aef\u53e3\u3002")),(0,l.kt)("p",null,"\u5982\u679c\u5e0c\u671b\u83b7\u5f97\u66f4\u597d\u7684\u5199\u5165\u548c\u67e5\u8be2\u6027\u80fd\uff0cJava \u5e94\u7528\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("strong",{parentName:"p"},"JDBC-JNI")," \u7684 driver\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'Class.forName("com.taosdata.jdbc.TSDBDriver");\nString jdbcUrl = "jdbc:TAOS://taosdemo.com:6030/test?user=root&password=taosdata";\nConnection conn = DriverManager.getConnection(jdbcUrl);\n')),(0,l.kt)("p",null,"\u4ee5\u4e0a\u793a\u4f8b\uff0c\u4f7f\u7528\u4e86 JDBC-JNI \u7684 driver\uff0c\u5efa\u7acb\u4e86\u5230 hostname \u4e3a taosdemo.com\uff0c\u7aef\u53e3\u4e3a 6030\uff08TDengine \u7684\u9ed8\u8ba4\u7aef\u53e3\uff09\uff0c\u6570\u636e\u5e93\u540d\u4e3a test \u7684\u8fde\u63a5\u3002\u8fd9\u4e2a URL \u4e2d\u6307\u5b9a\u7528\u6237\u540d\uff08user\uff09\u4e3a root\uff0c\u5bc6\u7801\uff08password\uff09\u4e3a taosdata\u3002"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1a\u4f7f\u7528 JDBC-JNI \u7684 driver\uff0ctaos-jdbcdriver \u9a71\u52a8\u5305\u65f6\u9700\u8981\u4f9d\u8d56\u7cfb\u7edf\u5bf9\u5e94\u7684\u672c\u5730\u51fd\u6570\u5e93\uff08Linux \u4e0b\u662f libtaos.so\uff1bWindows \u4e0b\u662f taos.dll\uff09\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u5728 Windows \u73af\u5883\u5f00\u53d1\u65f6\u9700\u8981\u5b89\u88c5 TDengine \u5bf9\u5e94\u7684 ",(0,l.kt)("a",{parentName:"p",href:"https://www.taosdata.com/cn/all-downloads/#TDengine-Windows-Client"},"windows \u5ba2\u6237\u7aef"),"\uff0cLinux \u670d\u52a1\u5668\u5b89\u88c5\u5b8c TDengine \u4e4b\u540e\u9ed8\u8ba4\u5df2\u5b89\u88c5 client\uff0c\u4e5f\u53ef\u4ee5\u5355\u72ec\u5b89\u88c5 ",(0,l.kt)("a",{parentName:"p",href:"https://www.taosdata.com/cn/getting-started/#%E5%AE%A2%E6%88%B7%E7%AB%AF"},"Linux \u5ba2\u6237\u7aef")," \u8fde\u63a5\u8fdc\u7a0b TDengine Server\u3002")),(0,l.kt)("p",null,"JDBC-JNI \u7684\u4f7f\u7528\u8bf7\u53c2\u89c1",(0,l.kt)("a",{parentName:"p",href:"https://www.taosdata.com/blog/2020/11/11/1955.html"},"\u89c6\u9891\u6559\u7a0b"),"\u3002"),(0,l.kt)("p",null,"TDengine \u7684 JDBC URL \u89c4\u8303\u683c\u5f0f\u4e3a\uff1a\n",(0,l.kt)("inlineCode",{parentName:"p"},"jdbc:[TAOS|TAOS-RS]://[host_name]:[port]/[database_name]?[user={user}|&password={password}|&charset={charset}|&cfgdir={config_dir}|&locale={locale}|&timezone={timezone}]")),(0,l.kt)("p",null,"url \u4e2d\u7684\u914d\u7f6e\u53c2\u6570\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"user\uff1a\u767b\u5f55 TDengine \u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u503c 'root'\u3002"),(0,l.kt)("li",{parentName:"ul"},"password\uff1a\u7528\u6237\u767b\u5f55\u5bc6\u7801\uff0c\u9ed8\u8ba4\u503c 'taosdata'\u3002"),(0,l.kt)("li",{parentName:"ul"},"cfgdir\uff1a\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u8def\u5f84\uff0cLinux OS \u4e0a\u9ed8\u8ba4\u503c ",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/taos"),"\uff0cWindows OS \u4e0a\u9ed8\u8ba4\u503c ",(0,l.kt)("inlineCode",{parentName:"li"},"C:/TDengine/cfg"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"charset\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\uff0c\u9ed8\u8ba4\u503c\u4e3a\u7cfb\u7edf\u5b57\u7b26\u96c6\u3002"),(0,l.kt)("li",{parentName:"ul"},"locale\uff1a\u5ba2\u6237\u7aef\u8bed\u8a00\u73af\u5883\uff0c\u9ed8\u8ba4\u503c\u7cfb\u7edf\u5f53\u524d locale\u3002"),(0,l.kt)("li",{parentName:"ul"},"timezone\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u65f6\u533a\uff0c\u9ed8\u8ba4\u503c\u4e3a\u7cfb\u7edf\u5f53\u524d\u65f6\u533a\u3002"),(0,l.kt)("li",{parentName:"ul"},"batchfetch: \u4ec5\u5728\u4f7f\u7528 JDBC-JNI \u65f6\u751f\u6548\u3002true\uff1a\u5728\u6267\u884c\u67e5\u8be2\u65f6\u6279\u91cf\u62c9\u53d6\u7ed3\u679c\u96c6\uff1bfalse\uff1a\u9010\u884c\u62c9\u53d6\u7ed3\u679c\u96c6\u3002\u9ed8\u8ba4\u503c\u4e3a\uff1afalse\u3002"),(0,l.kt)("li",{parentName:"ul"},"timestampFormat: \u4ec5\u5728\u4f7f\u7528 JDBC-RESTful \u65f6\u751f\u6548. 'TIMESTAMP'\uff1a\u7ed3\u679c\u96c6\u4e2d timestamp \u7c7b\u578b\u7684\u5b57\u6bb5\u4e3a\u4e00\u4e2a long \u503c; 'UTC'\uff1a\u7ed3\u679c\u96c6\u4e2d timestamp \u7c7b\u578b\u7684\u5b57\u6bb5\u4e3a\u4e00\u4e2a UTC \u65f6\u95f4\u683c\u5f0f\u7684\u5b57\u7b26\u4e32; 'STRING'\uff1a\u7ed3\u679c\u96c6\u4e2d timestamp \u7c7b\u578b\u7684\u5b57\u6bb5\u4e3a\u4e00\u4e2a\u672c\u5730\u65f6\u95f4\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u3002\u9ed8\u8ba4\u503c\u4e3a'STRING'\u3002"),(0,l.kt)("li",{parentName:"ul"},"batchErrorIgnore\uff1atrue\uff1a\u5728\u6267\u884c Statement \u7684 executeBatch \u65f6\uff0c\u5982\u679c\u4e2d\u95f4\u6709\u4e00\u6761 sql \u6267\u884c\u5931\u8d25\uff0c\u7ee7\u7eed\u6267\u884c\u4e0b\u9762\u7684 sq \u4e86\u3002false\uff1a\u4e0d\u518d\u6267\u884c\u5931\u8d25 sql \u540e\u7684\u4efb\u4f55\u8bed\u53e5\u3002\u9ed8\u8ba4\u503c\u4e3a\uff1afalse\u3002")),(0,l.kt)("h4",{id:"\u6307\u5b9a-url-\u548c-properties-\u83b7\u53d6\u8fde\u63a5"},"\u6307\u5b9a URL \u548c Properties \u83b7\u53d6\u8fde\u63a5"),(0,l.kt)("p",null,"\u9664\u4e86\u901a\u8fc7\u6307\u5b9a\u7684 URL \u83b7\u53d6\u8fde\u63a5\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528 Properties \u6307\u5b9a\u5efa\u7acb\u8fde\u63a5\u65f6\u7684\u53c2\u6570\uff0c\u5982\u4e0b\u6240\u793a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public Connection getConn() throws Exception{\n  Class.forName("com.taosdata.jdbc.TSDBDriver");\n  // Class.forName("com.taosdata.jdbc.rs.RestfulDriver");\n  String jdbcUrl = "jdbc:TAOS://taosdemo.com:6030/test?user=root&password=taosdata";\n  // String jdbcUrl = "jdbc:TAOS-RS://taosdemo.com:6041/test?user=root&password=taosdata";\n  Properties connProps = new Properties();\n  connProps.setProperty(TSDBDriver.PROPERTY_KEY_CHARSET, "UTF-8");\n  connProps.setProperty(TSDBDriver.PROPERTY_KEY_LOCALE, "en_US.UTF-8");\n  connProps.setProperty(TSDBDriver.PROPERTY_KEY_TIME_ZONE, "UTC-8");\n  Connection conn = DriverManager.getConnection(jdbcUrl, connProps);\n  return conn;\n}\n')),(0,l.kt)("p",null,"\u4ee5\u4e0a\u793a\u4f8b\uff0c\u5efa\u7acb\u4e00\u4e2a\u5230 hostname \u4e3a taosdemo.com\uff0c\u7aef\u53e3\u4e3a 6030\uff0c\u6570\u636e\u5e93\u540d\u4e3a test \u7684\u8fde\u63a5\u3002\u6ce8\u91ca\u4e3a\u4f7f\u7528 JDBC-RESTful \u65f6\u7684\u65b9\u6cd5\u3002\u8fd9\u4e2a\u8fde\u63a5\u5728 url \u4e2d\u6307\u5b9a\u4e86\u7528\u6237\u540d(user)\u4e3a root\uff0c\u5bc6\u7801\uff08password\uff09\u4e3a taosdata\uff0c\u5e76\u5728 connProps \u4e2d\u6307\u5b9a\u4e86\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\u3001\u8bed\u8a00\u73af\u5883\u3001\u65f6\u533a\u7b49\u4fe1\u606f\u3002"),(0,l.kt)("p",null,"properties \u4e2d\u7684\u914d\u7f6e\u53c2\u6570\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_USER\uff1a\u767b\u5f55 TDengine \u7528\u6237\u540d\uff0c\u9ed8\u8ba4\u503c 'root'\u3002"),(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_PASSWORD\uff1a\u7528\u6237\u767b\u5f55\u5bc6\u7801\uff0c\u9ed8\u8ba4\u503c 'taosdata'\u3002"),(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_CONFIG_DIR\uff1a\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\u8def\u5f84\uff0cLinux OS \u4e0a\u9ed8\u8ba4\u503c ",(0,l.kt)("inlineCode",{parentName:"li"},"/etc/taos"),"\uff0cWindows OS \u4e0a\u9ed8\u8ba4\u503c ",(0,l.kt)("inlineCode",{parentName:"li"},"C:/TDengine/cfg"),"\u3002"),(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_CHARSET\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u5b57\u7b26\u96c6\uff0c\u9ed8\u8ba4\u503c\u4e3a\u7cfb\u7edf\u5b57\u7b26\u96c6\u3002"),(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_LOCALE\uff1a\u5ba2\u6237\u7aef\u8bed\u8a00\u73af\u5883\uff0c\u9ed8\u8ba4\u503c\u7cfb\u7edf\u5f53\u524d locale\u3002"),(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_TIME_ZONE\uff1a\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u65f6\u533a\uff0c\u9ed8\u8ba4\u503c\u4e3a\u7cfb\u7edf\u5f53\u524d\u65f6\u533a\u3002"),(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_BATCH_LOAD: \u4ec5\u5728\u4f7f\u7528 JDBC-JNI \u65f6\u751f\u6548\u3002true\uff1a\u5728\u6267\u884c\u67e5\u8be2\u65f6\u6279\u91cf\u62c9\u53d6\u7ed3\u679c\u96c6\uff1bfalse\uff1a\u9010\u884c\u62c9\u53d6\u7ed3\u679c\u96c6\u3002\u9ed8\u8ba4\u503c\u4e3a\uff1afalse\u3002"),(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_TIMESTAMP_FORMAT: \u4ec5\u5728\u4f7f\u7528 JDBC-RESTful \u65f6\u751f\u6548. 'TIMESTAMP'\uff1a\u7ed3\u679c\u96c6\u4e2d timestamp \u7c7b\u578b\u7684\u5b57\u6bb5\u4e3a\u4e00\u4e2a long \u503c; 'UTC'\uff1a\u7ed3\u679c\u96c6\u4e2d timestamp \u7c7b\u578b\u7684\u5b57\u6bb5\u4e3a\u4e00\u4e2a UTC \u65f6\u95f4\u683c\u5f0f\u7684\u5b57\u7b26\u4e32; 'STRING'\uff1a\u7ed3\u679c\u96c6\u4e2d timestamp \u7c7b\u578b\u7684\u5b57\u6bb5\u4e3a\u4e00\u4e2a\u672c\u5730\u65f6\u95f4\u683c\u5f0f\u7684\u5b57\u7b26\u4e32\u3002\u9ed8\u8ba4\u503c\u4e3a'STRING'\u3002"),(0,l.kt)("li",{parentName:"ul"},"TSDBDriver.PROPERTY_KEY_BATCH_ERROR_IGNORE\uff1atrue\uff1a\u5728\u6267\u884c Statement \u7684 executeBatch \u65f6\uff0c\u5982\u679c\u4e2d\u95f4\u6709\u4e00\u6761 sql \u6267\u884c\u5931\u8d25\uff0c\u7ee7\u7eed\u6267\u884c\u4e0b\u9762\u7684 sq \u4e86\u3002false\uff1a\u4e0d\u518d\u6267\u884c\u5931\u8d25 sql \u540e\u7684\u4efb\u4f55\u8bed\u53e5\u3002\u9ed8\u8ba4\u503c\u4e3a\uff1afalse\u3002")),(0,l.kt)("h4",{id:"\u4f7f\u7528\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u5efa\u7acb\u8fde\u63a5"},"\u4f7f\u7528\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u5efa\u7acb\u8fde\u63a5"),(0,l.kt)("p",null,"\u5f53\u4f7f\u7528 JDBC-JNI \u8fde\u63a5 TDengine \u96c6\u7fa4\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\uff0c\u5728\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a\u96c6\u7fa4\u7684 firstEp\u3001secondEp \u53c2\u6570\u3002\u5982\u4e0b\u6240\u793a\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u5728 Java \u5e94\u7528\u4e2d\u4e0d\u6307\u5b9a hostname \u548c port")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public Connection getConn() throws Exception{\n  Class.forName("com.taosdata.jdbc.TSDBDriver");\n  String jdbcUrl = "jdbc:TAOS://:/test?user=root&password=taosdata";\n  Properties connProps = new Properties();\n  connProps.setProperty(TSDBDriver.PROPERTY_KEY_CHARSET, "UTF-8");\n  connProps.setProperty(TSDBDriver.PROPERTY_KEY_LOCALE, "en_US.UTF-8");\n  connProps.setProperty(TSDBDriver.PROPERTY_KEY_TIME_ZONE, "UTC-8");\n  Connection conn = DriverManager.getConnection(jdbcUrl, connProps);\n  return conn;\n}\n')),(0,l.kt)("ol",{start:2},(0,l.kt)("li",{parentName:"ol"},"\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6307\u5b9a firstEp \u548c secondEp")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"# first fully qualified domain name (FQDN) for TDengine system\nfirstEp               cluster_node1:6030\n\n# second fully qualified domain name (FQDN) for TDengine system, for cluster only\nsecondEp              cluster_node2:6030\n\n# default system charset\n# charset               UTF-8\n\n# system locale\n# locale                en_US.UTF-8\n")),(0,l.kt)("p",null,"\u4ee5\u4e0a\u793a\u4f8b\uff0cjdbc \u4f1a\u4f7f\u7528\u5ba2\u6237\u7aef\u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5efa\u7acb\u5230 hostname \u4e3a cluster_node1\u3001\u7aef\u53e3\u4e3a 6030\u3001\u6570\u636e\u5e93\u540d\u4e3a test \u7684\u8fde\u63a5\u3002\u5f53\u96c6\u7fa4\u4e2d firstEp \u8282\u70b9\u5931\u6548\u65f6\uff0cJDBC \u4f1a\u5c1d\u8bd5\u4f7f\u7528 secondEp \u8fde\u63a5\u96c6\u7fa4\u3002"),(0,l.kt)("p",null,"TDengine \u4e2d\uff0c\u53ea\u8981\u4fdd\u8bc1 firstEp \u548c secondEp \u4e2d\u4e00\u4e2a\u8282\u70b9\u6709\u6548\uff0c\u5c31\u53ef\u4ee5\u6b63\u5e38\u5efa\u7acb\u5230\u96c6\u7fa4\u7684\u8fde\u63a5\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u8fd9\u91cc\u7684\u914d\u7f6e\u6587\u4ef6\u6307\u7684\u662f\u8c03\u7528 JDBC Connector \u7684\u5e94\u7528\u7a0b\u5e8f\u6240\u5728\u673a\u5668\u4e0a\u7684\u914d\u7f6e\u6587\u4ef6\uff0cLinux OS \u4e0a\u9ed8\u8ba4\u503c /etc/taos/taos.cfg \uff0cWindows OS \u4e0a\u9ed8\u8ba4\u503c C://TDengine/cfg/taos.cfg\u3002")),(0,l.kt)("h4",{id:"\u914d\u7f6e\u53c2\u6570\u7684\u4f18\u5148\u7ea7"},"\u914d\u7f6e\u53c2\u6570\u7684\u4f18\u5148\u7ea7"),(0,l.kt)("p",null,"\u901a\u8fc7\u4ee5\u4e0a 3 \u79cd\u65b9\u5f0f\u83b7\u53d6\u8fde\u63a5\uff0c\u5982\u679c\u914d\u7f6e\u53c2\u6570\u5728 url\u3001Properties\u3001\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6\u4e2d\u6709\u91cd\u590d\uff0c\u5219\u53c2\u6570\u7684",(0,l.kt)("inlineCode",{parentName:"p"},"\u4f18\u5148\u7ea7\u7531\u9ad8\u5230\u4f4e"),"\u5206\u522b\u5982\u4e0b\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"JDBC URL \u53c2\u6570\uff0c\u5982\u4e0a\u6240\u8ff0\uff0c\u53ef\u4ee5\u5728 JDBC URL \u7684\u53c2\u6570\u4e2d\u6307\u5b9a\u3002"),(0,l.kt)("li",{parentName:"ol"},"Properties connProps"),(0,l.kt)("li",{parentName:"ol"},"\u5ba2\u6237\u7aef\u914d\u7f6e\u6587\u4ef6 taos.cfg")),(0,l.kt)("p",null,"\u4f8b\u5982\uff1a\u5728 url \u4e2d\u6307\u5b9a\u4e86 password \u4e3a taosdata\uff0c\u5728 Properties \u4e2d\u6307\u5b9a\u4e86 password \u4e3a taosdemo\uff0c\u90a3\u4e48\uff0cJDBC \u4f1a\u4f7f\u7528 url \u4e2d\u7684 password \u5efa\u7acb\u8fde\u63a5\u3002"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u66f4\u591a\u8be6\u7ec6\u914d\u7f6e\u8bf7\u53c2\u8003",(0,l.kt)("a",{parentName:"p",href:"https://www.taosdata.com/cn/documentation/administrator/#client"},"\u5ba2\u6237\u7aef\u914d\u7f6e"))),(0,l.kt)("h3",{id:"\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868"},"\u521b\u5efa\u6570\u636e\u5e93\u548c\u8868"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'Statement stmt = conn.createStatement();\n\n// create database\nstmt.executeUpdate("create database if not exists db");\n\n// use database\nstmt.executeUpdate("use db");\n\n// create table\nstmt.executeUpdate("create table if not exists tb (ts timestamp, temperature int, humidity float)");\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u5982\u679c\u4e0d\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"use db")," \u6307\u5b9a\u6570\u636e\u5e93\uff0c\u5219\u540e\u7eed\u5bf9\u8868\u7684\u64cd\u4f5c\u90fd\u9700\u8981\u589e\u52a0\u6570\u636e\u5e93\u540d\u79f0\u4f5c\u4e3a\u524d\u7f00\uff0c\u5982 db.tb\u3002")),(0,l.kt)("h3",{id:"\u63d2\u5165\u6570\u636e"},"\u63d2\u5165\u6570\u636e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'// insert data\nint affectedRows = stmt.executeUpdate("insert into tb values(now, 23, 10.3) (now + 1s, 20, 9.3)");\n\nSystem.out.println("insert " + affectedRows + " rows.");\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"now \u4e3a\u7cfb\u7edf\u5185\u90e8\u51fd\u6570\uff0c\u9ed8\u8ba4\u4e3a\u5ba2\u6237\u7aef\u6240\u5728\u8ba1\u7b97\u673a\u5f53\u524d\u65f6\u95f4\u3002\n",(0,l.kt)("inlineCode",{parentName:"p"},"now + 1s")," \u4ee3\u8868\u5ba2\u6237\u7aef\u5f53\u524d\u65f6\u95f4\u5f80\u540e\u52a0 1 \u79d2\uff0c\u6570\u5b57\u540e\u9762\u4ee3\u8868\u65f6\u95f4\u5355\u4f4d\uff1aa(\u6beb\u79d2)\uff0cs(\u79d2)\uff0cm(\u5206)\uff0ch(\u5c0f\u65f6)\uff0cd(\u5929)\uff0cw(\u5468)\uff0cn(\u6708)\uff0cy(\u5e74)\u3002")),(0,l.kt)("h3",{id:"\u67e5\u8be2\u6570\u636e"},"\u67e5\u8be2\u6570\u636e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'// query data\nResultSet resultSet = stmt.executeQuery("select * from tb");\n\nTimestamp ts = null;\nint temperature = 0;\nfloat humidity = 0;\nwhile(resultSet.next()){\n\n    ts = resultSet.getTimestamp(1);\n    temperature = resultSet.getInt(2);\n    humidity = resultSet.getFloat("humidity");\n\n    System.out.printf("%s, %d, %s\\n", ts, temperature, humidity);\n}\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u67e5\u8be2\u548c\u64cd\u4f5c\u5173\u7cfb\u578b\u6570\u636e\u5e93\u4e00\u81f4\uff0c\u4f7f\u7528\u4e0b\u6807\u83b7\u53d6\u8fd4\u56de\u5b57\u6bb5\u5185\u5bb9\u65f6\u4ece 1 \u5f00\u59cb\uff0c\u5efa\u8bae\u4f7f\u7528\u5b57\u6bb5\u540d\u79f0\u83b7\u53d6\u3002")),(0,l.kt)("h3",{id:"\u5904\u7406\u5f02\u5e38"},"\u5904\u7406\u5f02\u5e38"),(0,l.kt)("p",null,"\u5728\u62a5\u9519\u540e\uff0c\u901a\u8fc7 SQLException \u53ef\u4ee5\u83b7\u53d6\u5230\u9519\u8bef\u7684\u4fe1\u606f\u548c\u9519\u8bef\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'try (Statement statement = connection.createStatement()) {\n    // executeQuery\n    ResultSet resultSet = statement.executeQuery(sql);\n    // print result\n    printResult(resultSet);\n} catch (SQLException e) {\n    System.out.println("ERROR Message: " + e.getMessage());\n    System.out.println("ERROR Code: " + e.getErrorCode());\n    e.printStackTrace();\n}\n')),(0,l.kt)("p",null,"JDBC \u8fde\u63a5\u5668\u53ef\u80fd\u62a5\u9519\u7684\u9519\u8bef\u7801\u5305\u62ec 3 \u79cd\uff1aJDBC driver \u672c\u8eab\u7684\u62a5\u9519\uff08\u9519\u8bef\u7801\u5728 0x2301 \u5230 0x2350 \u4e4b\u95f4\uff09\uff0cJNI \u65b9\u6cd5\u7684\u62a5\u9519\uff08\u9519\u8bef\u7801\u5728 0x2351 \u5230 0x2400 \u4e4b\u95f4\uff09\uff0cTDengine \u5176\u4ed6\u529f\u80fd\u6a21\u5757\u7684\u62a5\u9519\u3002"),(0,l.kt)("p",null,"\u5177\u4f53\u7684\u9519\u8bef\u7801\u8bf7\u53c2\u8003\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/taosdata/TDengine/blob/develop/src/connector/jdbc/src/main/java/com/taosdata/jdbc/TSDBErrorNumbers.java"},"https://github.com/taosdata/TDengine/blob/develop/src/connector/jdbc/src/main/java/com/taosdata/jdbc/TSDBErrorNumbers.java")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://github.com/taosdata/TDengine/blob/develop/src/inc/taoserror.h"},"https://github.com/taosdata/TDengine/blob/develop/src/inc/taoserror.h"))),(0,l.kt)("h3",{id:"\u901a\u8fc7\u53c2\u6570\u7ed1\u5b9a\u5199\u5165\u6570\u636e"},(0,l.kt)("a",{class:"anchor",id:"stmt-java"}),"\u901a\u8fc7\u53c2\u6570\u7ed1\u5b9a\u5199\u5165\u6570\u636e"),(0,l.kt)("p",null,"\u4ece 2.1.2.0 \u7248\u672c\u5f00\u59cb\uff0cTDengine \u7684 JDBC-JNI \u5b9e\u73b0\u5927\u5e45\u6539\u8fdb\u4e86\u53c2\u6570\u7ed1\u5b9a\u65b9\u5f0f\u5bf9\u6570\u636e\u5199\u5165\uff08INSERT\uff09\u573a\u666f\u7684\u652f\u6301\u3002\u91c7\u7528\u8fd9\u79cd\u65b9\u5f0f\u5199\u5165\u6570\u636e\u65f6\uff0c\u80fd\u907f\u514d SQL \u8bed\u6cd5\u89e3\u6790\u7684\u8d44\u6e90\u6d88\u8017\uff0c\u4ece\u800c\u5728\u5f88\u591a\u60c5\u51b5\u4e0b\u663e\u8457\u63d0\u5347\u5199\u5165\u6027\u80fd\u3002\n\u6ce8\u610f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JDBC-RESTful \u5b9e\u73b0\u5e76\u4e0d\u63d0\u4f9b\u53c2\u6570\u7ed1\u5b9a\u8fd9\u79cd\u4f7f\u7528\u65b9\u5f0f"),(0,l.kt)("li",{parentName:"ul"},"\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u7801\u57fa\u4e8e taos-jdbcdriver-2.0.36"),(0,l.kt)("li",{parentName:"ul"},"binary \u7c7b\u578b\u6570\u636e\u9700\u8981\u8c03\u7528 setString \u65b9\u6cd5\uff0cnchar \u7c7b\u578b\u6570\u636e\u9700\u8981\u8c03\u7528 setNString \u65b9\u6cd5"),(0,l.kt)("li",{parentName:"ul"},"setString \u548c setNString \u90fd\u8981\u6c42\u7528\u6237\u5728 size \u53c2\u6570\u91cc\u58f0\u660e\u8868\u5b9a\u4e49\u4e2d\u5bf9\u5e94\u5217\u7684\u5217\u5bbd")),(0,l.kt)("p",null,"\u793a\u4f8b\u4ee3\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class ParameterBindingDemo {\n\n    private static final String host = "127.0.0.1";\n    private static final Random random = new Random(System.currentTimeMillis());\n    private static final int BINARY_COLUMN_SIZE = 20;\n    private static final String[] schemaList = {\n            "create table stable1(ts timestamp, f1 tinyint, f2 smallint, f3 int, f4 bigint) tags(t1 tinyint, t2 smallint, t3 int, t4 bigint)",\n            "create table stable2(ts timestamp, f1 float, f2 double) tags(t1 float, t2 double)",\n            "create table stable3(ts timestamp, f1 bool) tags(t1 bool)",\n            "create table stable4(ts timestamp, f1 binary(" + BINARY_COLUMN_SIZE + ")) tags(t1 binary(" + BINARY_COLUMN_SIZE + "))",\n            "create table stable5(ts timestamp, f1 nchar(" + BINARY_COLUMN_SIZE + ")) tags(t1 nchar(" + BINARY_COLUMN_SIZE + "))"\n    };\n    private static final int numOfSubTable = 10, numOfRow = 10;\n\n    public static void main(String[] args) throws SQLException {\n\n        String jdbcUrl = "jdbc:TAOS://" + host + ":6030/";\n        Connection conn = DriverManager.getConnection(jdbcUrl, "root", "taosdata");\n\n        init(conn);\n\n        bindInteger(conn);\n\n        bindFloat(conn);\n\n        bindBoolean(conn);\n\n        bindBytes(conn);\n\n        bindString(conn);\n\n        conn.close();\n    }\n\n    private static void init(Connection conn) throws SQLException {\n        try (Statement stmt = conn.createStatement()) {\n            stmt.execute("drop database if exists test_parabind");\n            stmt.execute("create database if not exists test_parabind");\n            stmt.execute("use test_parabind");\n            for (int i = 0; i < schemaList.length; i++) {\n                stmt.execute(schemaList[i]);\n            }\n        }\n    }\n\n    private static void bindInteger(Connection conn) throws SQLException {\n        String sql = "insert into ? using stable1 tags(?,?,?,?) values(?,?,?,?,?)";\n\n        try (TSDBPreparedStatement pstmt = conn.prepareStatement(sql).unwrap(TSDBPreparedStatement.class)) {\n\n            for (int i = 1; i <= numOfSubTable; i++) {\n                // set table name\n                pstmt.setTableName("t1_" + i);\n                // set tags\n                pstmt.setTagByte(0, Byte.parseByte(Integer.toString(random.nextInt(Byte.MAX_VALUE))));\n                pstmt.setTagShort(1, Short.parseShort(Integer.toString(random.nextInt(Short.MAX_VALUE))));\n                pstmt.setTagInt(2, random.nextInt(Integer.MAX_VALUE));\n                pstmt.setTagLong(3, random.nextLong());\n                // set columns\n                ArrayList<Long> tsList = new ArrayList<>();\n                long current = System.currentTimeMillis();\n                for (int j = 0; j < numOfRow; j++)\n                    tsList.add(current + j);\n                pstmt.setTimestamp(0, tsList);\n\n                ArrayList<Byte> f1List = new ArrayList<>();\n                for (int j = 0; j < numOfRow; j++)\n                    f1List.add(Byte.parseByte(Integer.toString(random.nextInt(Byte.MAX_VALUE))));\n                pstmt.setByte(1, f1List);\n\n                ArrayList<Short> f2List = new ArrayList<>();\n                for (int j = 0; j < numOfRow; j++)\n                    f2List.add(Short.parseShort(Integer.toString(random.nextInt(Short.MAX_VALUE))));\n                pstmt.setShort(2, f2List);\n\n                ArrayList<Integer> f3List = new ArrayList<>();\n                for (int j = 0; j < numOfRow; j++)\n                    f3List.add(random.nextInt(Integer.MAX_VALUE));\n                pstmt.setInt(3, f3List);\n\n                ArrayList<Long> f4List = new ArrayList<>();\n                for (int j = 0; j < numOfRow; j++)\n                    f4List.add(random.nextLong());\n                pstmt.setLong(4, f4List);\n\n                // add column\n                pstmt.columnDataAddBatch();\n            }\n            // execute column\n            pstmt.columnDataExecuteBatch();\n        }\n    }\n\n    private static void bindFloat(Connection conn) throws SQLException {\n        String sql = "insert into ? using stable2 tags(?,?) values(?,?,?)";\n\n        TSDBPreparedStatement pstmt = conn.prepareStatement(sql).unwrap(TSDBPreparedStatement.class);\n\n        for (int i = 1; i <= numOfSubTable; i++) {\n            // set table name\n            pstmt.setTableName("t2_" + i);\n            // set tags\n            pstmt.setTagFloat(0, random.nextFloat());\n            pstmt.setTagDouble(1, random.nextDouble());\n            // set columns\n            ArrayList<Long> tsList = new ArrayList<>();\n            long current = System.currentTimeMillis();\n            for (int j = 0; j < numOfRow; j++)\n                tsList.add(current + j);\n            pstmt.setTimestamp(0, tsList);\n\n            ArrayList<Float> f1List = new ArrayList<>();\n            for (int j = 0; j < numOfRow; j++)\n                f1List.add(random.nextFloat());\n            pstmt.setFloat(1, f1List);\n\n            ArrayList<Double> f2List = new ArrayList<>();\n            for (int j = 0; j < numOfRow; j++)\n                f2List.add(random.nextDouble());\n            pstmt.setDouble(2, f2List);\n\n            // add column\n            pstmt.columnDataAddBatch();\n        }\n        // execute\n        pstmt.columnDataExecuteBatch();\n        // close if no try-with-catch statement is used\n        pstmt.close();\n    }\n\n    private static void bindBoolean(Connection conn) throws SQLException {\n        String sql = "insert into ? using stable3 tags(?) values(?,?)";\n\n        try (TSDBPreparedStatement pstmt = conn.prepareStatement(sql).unwrap(TSDBPreparedStatement.class)) {\n            for (int i = 1; i <= numOfSubTable; i++) {\n                // set table name\n                pstmt.setTableName("t3_" + i);\n                // set tags\n                pstmt.setTagBoolean(0, random.nextBoolean());\n                // set columns\n                ArrayList<Long> tsList = new ArrayList<>();\n                long current = System.currentTimeMillis();\n                for (int j = 0; j < numOfRow; j++)\n                    tsList.add(current + j);\n                pstmt.setTimestamp(0, tsList);\n\n                ArrayList<Boolean> f1List = new ArrayList<>();\n                for (int j = 0; j < numOfRow; j++)\n                    f1List.add(random.nextBoolean());\n                pstmt.setBoolean(1, f1List);\n\n                // add column\n                pstmt.columnDataAddBatch();\n            }\n            // execute\n            pstmt.columnDataExecuteBatch();\n        }\n    }\n\n    private static void bindBytes(Connection conn) throws SQLException {\n        String sql = "insert into ? using stable4 tags(?) values(?,?)";\n\n        try (TSDBPreparedStatement pstmt = conn.prepareStatement(sql).unwrap(TSDBPreparedStatement.class)) {\n\n            for (int i = 1; i <= numOfSubTable; i++) {\n                // set table name\n                pstmt.setTableName("t4_" + i);\n                // set tags\n                pstmt.setTagString(0, new String("abc"));\n\n                // set columns\n                ArrayList<Long> tsList = new ArrayList<>();\n                long current = System.currentTimeMillis();\n                for (int j = 0; j < numOfRow; j++)\n                    tsList.add(current + j);\n                pstmt.setTimestamp(0, tsList);\n\n                ArrayList<String> f1List = new ArrayList<>();\n                for (int j = 0; j < numOfRow; j++) {\n                    f1List.add(new String("abc"));\n                }\n                pstmt.setString(1, f1List, BINARY_COLUMN_SIZE);\n\n                // add column\n                pstmt.columnDataAddBatch();\n            }\n            // execute\n            pstmt.columnDataExecuteBatch();\n        }\n    }\n\n    private static void bindString(Connection conn) throws SQLException {\n        String sql = "insert into ? using stable5 tags(?) values(?,?)";\n\n        try (TSDBPreparedStatement pstmt = conn.prepareStatement(sql).unwrap(TSDBPreparedStatement.class)) {\n\n            for (int i = 1; i <= numOfSubTable; i++) {\n                // set table name\n                pstmt.setTableName("t5_" + i);\n                // set tags\n                pstmt.setTagNString(0, "\u5317\u4eac-abc");\n\n                // set columns\n                ArrayList<Long> tsList = new ArrayList<>();\n                long current = System.currentTimeMillis();\n                for (int j = 0; j < numOfRow; j++)\n                    tsList.add(current + j);\n                pstmt.setTimestamp(0, tsList);\n\n                ArrayList<String> f1List = new ArrayList<>();\n                for (int j = 0; j < numOfRow; j++) {\n                    f1List.add("\u5317\u4eac-abc");\n                }\n                pstmt.setNString(1, f1List, BINARY_COLUMN_SIZE);\n\n                // add column\n                pstmt.columnDataAddBatch();\n            }\n            // execute\n            pstmt.columnDataExecuteBatch();\n        }\n    }\n}\n')),(0,l.kt)("p",null,"\u7528\u4e8e\u8bbe\u5b9a TAGS \u53d6\u503c\u7684\u65b9\u6cd5\u603b\u5171\u6709\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public void setTagNull(int index, int type)\npublic void setTagBoolean(int index, boolean value)\npublic void setTagInt(int index, int value)\npublic void setTagByte(int index, byte value)\npublic void setTagShort(int index, short value)\npublic void setTagLong(int index, long value)\npublic void setTagTimestamp(int index, long value)\npublic void setTagFloat(int index, float value)\npublic void setTagDouble(int index, double value)\npublic void setTagString(int index, String value)\npublic void setTagNString(int index, String value)\n")),(0,l.kt)("p",null,"\u7528\u4e8e\u8bbe\u5b9a VALUES \u6570\u636e\u5217\u7684\u53d6\u503c\u7684\u65b9\u6cd5\u603b\u5171\u6709\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"public void setInt(int columnIndex, ArrayList<Integer> list) throws SQLException\npublic void setFloat(int columnIndex, ArrayList<Float> list) throws SQLException\npublic void setTimestamp(int columnIndex, ArrayList<Long> list) throws SQLException\npublic void setLong(int columnIndex, ArrayList<Long> list) throws SQLException\npublic void setDouble(int columnIndex, ArrayList<Double> list) throws SQLException\npublic void setBoolean(int columnIndex, ArrayList<Boolean> list) throws SQLException\npublic void setByte(int columnIndex, ArrayList<Byte> list) throws SQLException\npublic void setShort(int columnIndex, ArrayList<Short> list) throws SQLException\npublic void setString(int columnIndex, ArrayList<String> list, int size) throws SQLException\npublic void setNString(int columnIndex, ArrayList<String> list, int size) throws SQLException\n")),(0,l.kt)("h3",{id:"\u8bbe\u7f6e\u5ba2\u6237\u7aef\u53c2\u6570"},(0,l.kt)("a",{class:"anchor",id:"set-client-configuration"}),"\u8bbe\u7f6e\u5ba2\u6237\u7aef\u53c2\u6570"),(0,l.kt)("p",null,"\u4ece TDengine-2.3.5.0 \u7248\u672c\u5f00\u59cb\uff0cjdbc driver \u652f\u6301\u5728\u5e94\u7528\u7684\u7b2c\u4e00\u6b21\u8fde\u63a5\u4e2d\uff0c\u8bbe\u7f6e TDengine \u7684\u5ba2\u6237\u7aef\u53c2\u6570\u3002Driver \u652f\u6301 JDBC-JNI \u65b9\u5f0f\u4e2d\uff0c\u901a\u8fc7 jdbcUrl \u548c properties \u4e24\u79cd\u65b9\u5f0f\u8bbe\u7f6e client parameter\u3002\n\u6ce8\u610f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JDBC-RESTful \u4e0d\u652f\u6301\u8bbe\u7f6e client parameter \u7684\u529f\u80fd\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u5e94\u7528\u4e2d\u8bbe\u7f6e\u7684 client parameter \u4e3a\u8fdb\u7a0b\u7ea7\u522b\u7684\uff0c\u5373\u5982\u679c\u8981\u66f4\u65b0 client \u7684\u53c2\u6570\uff0c\u9700\u8981\u91cd\u542f\u5e94\u7528\u3002\u8fd9\u662f\u56e0\u4e3a client parameter \u662f\u5168\u5c40\u53c2\u6570\uff0c\u4ec5\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u7b2c\u4e00\u6b21\u8bbe\u7f6e\u751f\u6548\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u4ee5\u4e0b\u793a\u4f8b\u4ee3\u7801\u57fa\u4e8e taos-jdbcdriver-2.0.36\u3002")),(0,l.kt)("p",null,"\u793a\u4f8b\u4ee3\u7801\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public class ClientParameterSetting {\n    private static final String host = "127.0.0.1";\n\n    public static void main(String[] args) throws SQLException {\n        setParameterInJdbcUrl();\n\n        setParameterInProperties();\n    }\n\n    private static void setParameterInJdbcUrl() throws SQLException {\n        String jdbcUrl = "jdbc:TAOS://" + host + ":6030/?debugFlag=135&asyncLog=0";\n\n        Connection connection = DriverManager.getConnection(jdbcUrl, "root", "taosdata");\n\n        printDatabase(connection);\n\n        connection.close();\n    }\n\n    private static void setParameterInProperties() throws SQLException {\n        String jdbcUrl = "jdbc:TAOS://" + host + ":6030/";\n        Properties properties = new Properties();\n        properties.setProperty("user", "root");\n        properties.setProperty("password", "taosdata");\n        properties.setProperty("debugFlag", "135");\n        properties.setProperty("asyncLog", "0");\n        properties.setProperty("maxSQLLength", "1048576");\n\n        try (Connection conn = DriverManager.getConnection(jdbcUrl, properties)) {\n            printDatabase(conn);\n        }\n    }\n\n    private static void printDatabase(Connection connection) throws SQLException {\n        try (Statement stmt = connection.createStatement()) {\n            ResultSet rs = stmt.executeQuery("show databases");\n\n            ResultSetMetaData meta = rs.getMetaData();\n            while (rs.next()) {\n                for (int i = 1; i <= meta.getColumnCount(); i++) {\n                    System.out.print(meta.getColumnLabel(i) + ": " + rs.getString(i) + "\\t");\n                }\n                System.out.println();\n            }\n        }\n    }\n}\n')),(0,l.kt)("h2",{id:"\u8ba2\u9605"},(0,l.kt)("a",{class:"anchor",id:"subscribe"}),"\u8ba2\u9605"),(0,l.kt)("h3",{id:"\u521b\u5efa"},"\u521b\u5efa"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'TSDBSubscribe sub = ((TSDBConnection)conn).subscribe("topic", "select * from meters", false);\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"subscribe")," \u65b9\u6cd5\u7684\u4e09\u4e2a\u53c2\u6570\u542b\u4e49\u5982\u4e0b\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"topic\uff1a\u8ba2\u9605\u7684\u4e3b\u9898\uff08\u5373\u540d\u79f0\uff09\uff0c\u6b64\u53c2\u6570\u662f\u8ba2\u9605\u7684\u552f\u4e00\u6807\u8bc6"),(0,l.kt)("li",{parentName:"ul"},"sql\uff1a\u8ba2\u9605\u7684\u67e5\u8be2\u8bed\u53e5\uff0c\u6b64\u8bed\u53e5\u53ea\u80fd\u662f ",(0,l.kt)("inlineCode",{parentName:"li"},"select")," \u8bed\u53e5\uff0c\u53ea\u5e94\u67e5\u8be2\u539f\u59cb\u6570\u636e\uff0c\u53ea\u80fd\u6309\u65f6\u95f4\u6b63\u5e8f\u67e5\u8be2\u6570\u636e"),(0,l.kt)("li",{parentName:"ul"},"restart\uff1a\u5982\u679c\u8ba2\u9605\u5df2\u7ecf\u5b58\u5728\uff0c\u662f\u91cd\u65b0\u5f00\u59cb\uff0c\u8fd8\u662f\u7ee7\u7eed\u4e4b\u524d\u7684\u8ba2\u9605")),(0,l.kt)("p",null,"\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\u5c06\u4f7f\u7528 SQL \u8bed\u53e5 ",(0,l.kt)("inlineCode",{parentName:"p"},"select * from meters")," \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"topic")," \u7684\u8ba2\u9605\uff0c\u5982\u679c\u8fd9\u4e2a\u8ba2\u9605\u5df2\u7ecf\u5b58\u5728\uff0c\u5c06\u7ee7\u7eed\u4e4b\u524d\u7684\u67e5\u8be2\u8fdb\u5ea6\uff0c\u800c\u4e0d\u662f\u4ece\u5934\u5f00\u59cb\u6d88\u8d39\u6240\u6709\u7684\u6570\u636e\u3002"),(0,l.kt)("h3",{id:"\u6d88\u8d39\u6570\u636e"},"\u6d88\u8d39\u6570\u636e"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'int total = 0;\nwhile(true) {\n    TSDBResultSet rs = sub.consume();\n    int count = 0;\n    while(rs.next()) {\n        count++;\n    }\n    total += count;\n    System.out.printf("%d rows consumed, total %d\\n", count, total);\n    Thread.sleep(1000);\n}\n')),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"consume")," \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7ed3\u679c\u96c6\uff0c\u5176\u4e2d\u5305\u542b\u4ece\u4e0a\u6b21 ",(0,l.kt)("inlineCode",{parentName:"p"},"consume")," \u5230\u76ee\u524d\u4e3a\u6b62\u7684\u6240\u6709\u65b0\u6570\u636e\u3002\u8bf7\u52a1\u5fc5\u6309\u9700\u9009\u62e9\u5408\u7406\u7684\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"consume")," \u7684\u9891\u7387\uff08\u5982\u4f8b\u5b50\u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"Thread.sleep(1000)"),"\uff09\uff0c\u5426\u5219\u4f1a\u7ed9\u670d\u52a1\u7aef\u9020\u6210\u4e0d\u5fc5\u8981\u7684\u538b\u529b\u3002"),(0,l.kt)("h3",{id:"\u5173\u95ed\u8ba2\u9605"},"\u5173\u95ed\u8ba2\u9605"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"sub.close(true);\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"close")," \u65b9\u6cd5\u5173\u95ed\u4e00\u4e2a\u8ba2\u9605\u3002\u5982\u679c\u5176\u53c2\u6570\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"true")," \u8868\u793a\u4fdd\u7559\u8ba2\u9605\u8fdb\u5ea6\u4fe1\u606f\uff0c\u540e\u7eed\u53ef\u4ee5\u521b\u5efa\u540c\u540d\u8ba2\u9605\u7ee7\u7eed\u6d88\u8d39\u6570\u636e\uff1b\u5982\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"false")," \u5219\u4e0d\u4fdd\u7559\u8ba2\u9605\u8fdb\u5ea6\u3002"),(0,l.kt)("h2",{id:"\u5173\u95ed\u8d44\u6e90"},"\u5173\u95ed\u8d44\u6e90"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},"resultSet.close();\nstmt.close();\nconn.close();\n")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"\u6ce8\u610f\u52a1\u5fc5\u8981\u5c06 connection \u8fdb\u884c\u5173\u95ed"),"\uff0c\u5426\u5219\u4f1a\u51fa\u73b0\u8fde\u63a5\u6cc4\u9732\u3002")),(0,l.kt)("h2",{id:"\u4e0e\u8fde\u63a5\u6c60\u4f7f\u7528"},"\u4e0e\u8fde\u63a5\u6c60\u4f7f\u7528"),(0,l.kt)("h3",{id:"hikaricp"},"HikariCP"),(0,l.kt)("p",null,"\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},' public static void main(String[] args) throws SQLException {\n    HikariConfig config = new HikariConfig();\n    // jdbc properties\n    config.setJdbcUrl("jdbc:TAOS://127.0.0.1:6030/log");\n    config.setUsername("root");\n    config.setPassword("taosdata");\n    // connection pool configurations\n    config.setMinimumIdle(10);           //minimum number of idle connection\n    config.setMaximumPoolSize(10);      //maximum number of connection in the pool\n    config.setConnectionTimeout(30000); //maximum wait milliseconds for get connection from pool\n    config.setMaxLifetime(0);       // maximum life time for each connection\n    config.setIdleTimeout(0);       // max idle time for recycle idle connection\n    config.setConnectionTestQuery("select server_status()"); //validation query\n\n    HikariDataSource ds = new HikariDataSource(config); //create datasource\n\n    Connection  connection = ds.getConnection(); // get connection\n    Statement statement = connection.createStatement(); // get statement\n\n    //query or insert\n    // ...\n\n    connection.close(); // put back to conneciton pool\n}\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u901a\u8fc7 HikariDataSource.getConnection() \u83b7\u53d6\u8fde\u63a5\u540e\uff0c\u4f7f\u7528\u5b8c\u6210\u540e\u9700\u8981\u8c03\u7528 close() \u65b9\u6cd5\uff0c\u5b9e\u9645\u4e0a\u5b83\u5e76\u4e0d\u4f1a\u5173\u95ed\u8fde\u63a5\uff0c\u53ea\u662f\u653e\u56de\u8fde\u63a5\u6c60\u4e2d\u3002\n\u66f4\u591a HikariCP \u4f7f\u7528\u95ee\u9898\u8bf7\u67e5\u770b",(0,l.kt)("a",{parentName:"p",href:"https://github.com/brettwooldridge/HikariCP"},"\u5b98\u65b9\u8bf4\u660e"),"\u3002")),(0,l.kt)("h3",{id:"druid"},"Druid"),(0,l.kt)("p",null,"\u4f7f\u7528\u793a\u4f8b\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-java"},'public static void main(String[] args) throws Exception {\n\n    DruidDataSource dataSource = new DruidDataSource();\n    // jdbc properties\n    dataSource.setDriverClassName("com.taosdata.jdbc.TSDBDriver");\n    dataSource.setUrl(url);\n    dataSource.setUsername("root");\n    dataSource.setPassword("taosdata");\n    // pool configurations\n    dataSource.setInitialSize(10);\n    dataSource.setMinIdle(10);\n    dataSource.setMaxActive(10);\n    dataSource.setMaxWait(30000);\n    dataSource.setValidationQuery("select server_status()");\n\n    Connection  connection = dataSource.getConnection(); // get connection\n    Statement statement = connection.createStatement(); // get statement\n    //query or insert\n    // ...\n\n    connection.close(); // put back to conneciton pool\n}\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u66f4\u591a druid \u4f7f\u7528\u95ee\u9898\u8bf7\u67e5\u770b",(0,l.kt)("a",{parentName:"p",href:"https://github.com/alibaba/druid"},"\u5b98\u65b9\u8bf4\u660e"),"\u3002")),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u6ce8\u610f\u4e8b\u9879\uff1a")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"TDengine ",(0,l.kt)("inlineCode",{parentName:"li"},"v1.6.4.1")," \u7248\u672c\u5f00\u59cb\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e13\u95e8\u7528\u4e8e\u5fc3\u8df3\u68c0\u6d4b\u7684\u51fd\u6570 ",(0,l.kt)("inlineCode",{parentName:"li"},"select server_status()"),"\uff0c\u6240\u4ee5\u5728\u4f7f\u7528\u8fde\u63a5\u6c60\u65f6\u63a8\u8350\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"select server_status()")," \u8fdb\u884c Validation Query\u3002")),(0,l.kt)("p",null,"\u5982\u4e0b\u6240\u793a\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"select server_status()")," \u6267\u884c\u6210\u529f\u4f1a\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"p"},"1"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-sql"},"taos> select server_status();\nserver_status()|\n================\n1              |\nQuery OK, 1 row(s) in set (0.000141s)\n")),(0,l.kt)("h2",{id:"\u5728\u6846\u67b6\u4e2d\u4f7f\u7528"},"\u5728\u6846\u67b6\u4e2d\u4f7f\u7528"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Spring JdbcTemplate \u4e2d\u4f7f\u7528 taos-jdbcdriver\uff0c\u53ef\u53c2\u8003 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/taosdata/TDengine/tree/develop/examples/JDBC/SpringJdbcTemplate"},"SpringJdbcTemplate")),(0,l.kt)("li",{parentName:"ul"},"Springboot + Mybatis \u4e2d\u4f7f\u7528\uff0c\u53ef\u53c2\u8003 ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/taosdata/TDengine/tree/develop/examples/JDBC/springbootdemo"},"springbootdemo"))),(0,l.kt)("h2",{id:"\u793a\u4f8b\u7a0b\u5e8f"},"\u793a\u4f8b\u7a0b\u5e8f"),(0,l.kt)("p",null,"\u793a\u4f8b\u7a0b\u5e8f\u6e90\u7801\u4f4d\u4e8e TDengine/test/examples/JDBC \u4e0b:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JDBCDemo\uff1aJDBC \u793a\u4f8b\u6e90\u7a0b\u5e8f"),(0,l.kt)("li",{parentName:"ul"},"JDBCConnectorChecker\uff1aJDBC \u5b89\u88c5\u6821\u9a8c\u6e90\u7a0b\u5e8f\u53ca jar \u5305"),(0,l.kt)("li",{parentName:"ul"},"Springbootdemo\uff1aspringboot \u793a\u4f8b\u6e90\u7a0b\u5e8f"),(0,l.kt)("li",{parentName:"ul"},"SpringJdbcTemplate\uff1aSpringJDBC \u6a21\u677f")),(0,l.kt)("p",null,"\u8bf7\u53c2\u8003\uff1a",(0,l.kt)("a",{parentName:"p",href:"https://github.com/taosdata/TDengine/tree/develop/examples/JDBC"},"JDBC example")),(0,l.kt)("h2",{id:"\u5e38\u89c1\u95ee\u9898"},"\u5e38\u89c1\u95ee\u9898"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u4f7f\u7528 Statement \u7684 addBatch \u548c executeBatch \u6765\u6267\u884c\u201c\u6279\u91cf\u5199\u5165/\u66f4\u884c\u201d\uff0c\u4e3a\u4ec0\u4e48\u6ca1\u6709\u5e26\u6765\u6027\u80fd\u4e0a\u7684\u63d0\u5347\uff1f\n",(0,l.kt)("strong",{parentName:"p"},"\u539f\u56e0"),"\uff1aTDengine \u7684 JDBC \u5b9e\u73b0\u4e2d\uff0c\u901a\u8fc7 addBatch \u65b9\u6cd5\u63d0\u4ea4\u7684 sql \u8bed\u53e5\uff0c\u4f1a\u6309\u7167\u6dfb\u52a0\u7684\u987a\u5e8f\uff0c\u4f9d\u6b21\u6267\u884c\uff0c\u8fd9\u79cd\u65b9\u5f0f\u6ca1\u6709\u51cf\u5c11\u4e0e\u670d\u52a1\u7aef\u7684\u4ea4\u4e92\u6b21\u6570\uff0c\u4e0d\u4f1a\u5e26\u6765\u6027\u80fd\u4e0a\u7684\u63d0\u5347\u3002\n",(0,l.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6cd5"),"\uff1a1. \u5728\u4e00\u6761 insert \u8bed\u53e5\u4e2d\u62fc\u63a5\u591a\u4e2a values \u503c\uff1b2. \u4f7f\u7528\u591a\u7ebf\u7a0b\u7684\u65b9\u5f0f\u5e76\u53d1\u63d2\u5165\uff1b3. \u4f7f\u7528\u53c2\u6570\u7ed1\u5b9a\u7684\u5199\u5165\u65b9\u5f0f")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"java.lang.UnsatisfiedLinkError: no taos in java.library.path\n",(0,l.kt)("strong",{parentName:"p"},"\u539f\u56e0"),"\uff1a\u7a0b\u5e8f\u6ca1\u6709\u627e\u5230\u4f9d\u8d56\u7684\u672c\u5730\u51fd\u6570\u5e93 taos\u3002\n",(0,l.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6cd5"),"\uff1aWindows \u4e0b\u53ef\u4ee5\u5c06 C:\\TDengine\\driver\\taos.dll \u62f7\u8d1d\u5230 C:\\Windows\\System32\\ \u76ee\u5f55\u4e0b\uff0cLinux \u4e0b\u5c06\u5efa\u7acb\u5982\u4e0b\u8f6f\u94fe ",(0,l.kt)("inlineCode",{parentName:"p"},"ln -s /usr/local/taos/driver/libtaos.so.x.x.x.x /usr/lib/libtaos.so")," \u5373\u53ef\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"java.lang.UnsatisfiedLinkError: taos.dll Can't load AMD 64 bit on a IA 32-bit platform\n",(0,l.kt)("strong",{parentName:"p"},"\u539f\u56e0"),"\uff1a\u76ee\u524d TDengine \u53ea\u652f\u6301 64 \u4f4d JDK\u3002\n",(0,l.kt)("strong",{parentName:"p"},"\u89e3\u51b3\u65b9\u6cd5"),"\uff1a\u91cd\u65b0\u5b89\u88c5 64 \u4f4d JDK\u3002")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"\u5176\u5b83\u95ee\u9898\u8bf7\u53c2\u8003 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/taosdata/TDengine/issues"},"Issues")))))}m.isMDXComponent=!0},9999:function(t,e,n){e.Z=n.p+"assets/images/tdengine-jdbc-connector-f760716eff46c6da5b13d1756a9577b5.png"}}]);