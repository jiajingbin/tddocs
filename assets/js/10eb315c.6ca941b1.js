"use strict";(self.webpackChunktddocs=self.webpackChunktddocs||[]).push([[4772],{3905:function(e,t,n){n.d(t,{Zo:function(){return o},kt:function(){return d}});var a=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var m=a.createContext({}),k=function(e){var t=a.useContext(m),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},o=function(e){var t=k(e.components);return a.createElement(m.Provider,{value:t},e.children)},N={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,m=e.parentName,o=i(e,["components","mdxType","originalType","parentName"]),s=k(n),d=l,u=s["".concat(m,".").concat(d)]||s[d]||N[d]||r;return n?a.createElement(u,p(p({ref:t},o),{},{components:n})):a.createElement(u,p({ref:t},o))}));function d(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,p=new Array(r);p[0]=s;var i={};for(var m in t)hasOwnProperty.call(t,m)&&(i[m]=t[m]);i.originalType=e,i.mdxType="string"==typeof e?e:l,p[1]=i;for(var k=2;k<r;k++)p[k]=n[k];return a.createElement.apply(null,p)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},8748:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return m},metadata:function(){return k},toc:function(){return o},default:function(){return s}});var a=n(7462),l=n(3366),r=(n(7294),n(3905)),p=["components"],i={sidebar_position:1},m="TAOS SQL",k={unversionedId:"taos-sql/tsql",id:"taos-sql/tsql",title:"TAOS SQL",description:"\u672c\u6587\u6863\u8bf4\u660e TAOS SQL \u652f\u6301\u7684\u8bed\u6cd5\u89c4\u5219\u3001\u4e3b\u8981\u67e5\u8be2\u529f\u80fd\u3001\u652f\u6301\u7684 SQL \u67e5\u8be2\u51fd\u6570\uff0c\u4ee5\u53ca\u5e38\u7528\u6280\u5de7\u7b49\u5185\u5bb9\u3002\u9605\u8bfb\u672c\u6587\u6863\u9700\u8981\u8bfb\u8005\u5177\u6709\u57fa\u672c\u7684 SQL \u8bed\u8a00\u7684\u57fa\u7840\u3002",source:"@site/docs/taos-sql/tsql.mdx",sourceDirName:"taos-sql",slug:"/taos-sql/tsql",permalink:"/tddocs/docs/taos-sql/tsql",editUrl:"https://github.com/dingbo8128/tddocs/edit/main/docs/taos-sql/tsql.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\u6570\u636e\u5efa\u6a21",permalink:"/tddocs/docs/model"},next:{title:"UDF\uff08\u7528\u6237\u5b9a\u4e49\u51fd\u6570\uff09",permalink:"/tddocs/docs/taos-sql/udf"}},o=[{value:"\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b",id:"\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b",children:[],level:2},{value:"\u6570\u636e\u5e93\u7ba1\u7406",id:"\u6570\u636e\u5e93\u7ba1\u7406",children:[{value:"\u521b\u5efa\u6570\u636e\u5e93",id:"\u521b\u5efa\u6570\u636e\u5e93",children:[],level:3},{value:"\u663e\u793a\u7cfb\u7edf\u5f53\u524d\u53c2\u6570",id:"\u663e\u793a\u7cfb\u7edf\u5f53\u524d\u53c2\u6570",children:[],level:3},{value:"\u4f7f\u7528\u6570\u636e\u5e93",id:"\u4f7f\u7528\u6570\u636e\u5e93",children:[],level:3},{value:"\u5220\u9664\u6570\u636e\u5e93",id:"\u5220\u9664\u6570\u636e\u5e93",children:[],level:3},{value:"\u4fee\u6539\u6570\u636e\u5e93\u53c2\u6570",id:"\u4fee\u6539\u6570\u636e\u5e93\u53c2\u6570",children:[],level:3},{value:"\u663e\u793a\u7cfb\u7edf\u6240\u6709\u6570\u636e\u5e93",id:"\u663e\u793a\u7cfb\u7edf\u6240\u6709\u6570\u636e\u5e93",children:[],level:3},{value:"\u663e\u793a\u4e00\u4e2a\u6570\u636e\u5e93\u7684\u521b\u5efa\u8bed\u53e5",id:"\u663e\u793a\u4e00\u4e2a\u6570\u636e\u5e93\u7684\u521b\u5efa\u8bed\u53e5",children:[],level:3}],level:2},{value:"\u8868\u7ba1\u7406",id:"\u8868\u7ba1\u7406",children:[{value:"\u521b\u5efa\u6570\u636e\u8868",id:"\u521b\u5efa\u6570\u636e\u8868",children:[{value:"\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u521b\u5efa\u6570\u636e\u8868",id:"\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u521b\u5efa\u6570\u636e\u8868",children:[],level:4},{value:"\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u521b\u5efa\u6570\u636e\u8868\uff0c\u5e76\u6307\u5b9a\u5177\u4f53\u7684 TAGS \u5217",id:"\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u521b\u5efa\u6570\u636e\u8868\u5e76\u6307\u5b9a\u5177\u4f53\u7684-tags-\u5217",children:[],level:4},{value:"\u6279\u91cf\u521b\u5efa\u6570\u636e\u8868",id:"\u6279\u91cf\u521b\u5efa\u6570\u636e\u8868",children:[],level:4}],level:3},{value:"\u5220\u9664\u6570\u636e\u8868",id:"\u5220\u9664\u6570\u636e\u8868",children:[],level:3},{value:"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u6570\u636e\u8868\u4fe1\u606f",id:"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u6570\u636e\u8868\u4fe1\u606f",children:[],level:3},{value:"\u663e\u793a\u4e00\u4e2a\u6570\u636e\u8868\u7684\u521b\u5efa\u8bed\u53e5",id:"\u663e\u793a\u4e00\u4e2a\u6570\u636e\u8868\u7684\u521b\u5efa\u8bed\u53e5",children:[],level:3},{value:"\u5728\u7ebf\u4fee\u6539\u663e\u793a\u5b57\u7b26\u5bbd\u5ea6",id:"\u5728\u7ebf\u4fee\u6539\u663e\u793a\u5b57\u7b26\u5bbd\u5ea6",children:[],level:3},{value:"\u83b7\u53d6\u8868\u7684\u7ed3\u6784\u4fe1\u606f",id:"\u83b7\u53d6\u8868\u7684\u7ed3\u6784\u4fe1\u606f",children:[],level:3},{value:"\u4fee\u6539\u8868\u5b9a\u4e49",id:"\u4fee\u6539\u8868\u5b9a\u4e49",children:[{value:"\u8868\u589e\u52a0\u5217",id:"\u8868\u589e\u52a0\u5217",children:[],level:4},{value:"\u8868\u5220\u9664\u5217",id:"\u8868\u5220\u9664\u5217",children:[],level:4},{value:"\u8868\u4fee\u6539\u5217\u5bbd",id:"\u8868\u4fee\u6539\u5217\u5bbd",children:[],level:4}],level:3}],level:2},{value:"\u8d85\u7ea7\u8868 STable \u7ba1\u7406",id:"\u8d85\u7ea7\u8868-stable-\u7ba1\u7406",children:[{value:"\u521b\u5efa\u8d85\u7ea7\u8868",id:"\u521b\u5efa\u8d85\u7ea7\u8868",children:[],level:3},{value:"\u5220\u9664\u8d85\u7ea7\u8868",id:"\u5220\u9664\u8d85\u7ea7\u8868",children:[],level:3},{value:"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u8d85\u7ea7\u8868\u4fe1\u606f",id:"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u8d85\u7ea7\u8868\u4fe1\u606f",children:[],level:3},{value:"\u663e\u793a\u4e00\u4e2a\u8d85\u7ea7\u8868\u7684\u521b\u5efa\u8bed\u53e5",id:"\u663e\u793a\u4e00\u4e2a\u8d85\u7ea7\u8868\u7684\u521b\u5efa\u8bed\u53e5",children:[],level:3},{value:"\u83b7\u53d6\u8d85\u7ea7\u8868\u7684\u7ed3\u6784\u4fe1\u606f",id:"\u83b7\u53d6\u8d85\u7ea7\u8868\u7684\u7ed3\u6784\u4fe1\u606f",children:[],level:3},{value:"\u4fee\u6539\u8d85\u7ea7\u8868\u666e\u901a\u5217",id:"\u4fee\u6539\u8d85\u7ea7\u8868\u666e\u901a\u5217",children:[{value:"\u8d85\u7ea7\u8868\u589e\u52a0\u5217",id:"\u8d85\u7ea7\u8868\u589e\u52a0\u5217",children:[],level:4},{value:"\u8d85\u7ea7\u8868\u5220\u9664\u5217",id:"\u8d85\u7ea7\u8868\u5220\u9664\u5217",children:[],level:4},{value:"\u8d85\u7ea7\u8868\u4fee\u6539\u5217\u5bbd",id:"\u8d85\u7ea7\u8868\u4fee\u6539\u5217\u5bbd",children:[],level:4}],level:3},{value:"\u4fee\u6539\u8d85\u7ea7\u8868\u6807\u7b7e\u5217",id:"\u4fee\u6539\u8d85\u7ea7\u8868\u6807\u7b7e\u5217",children:[{value:"\u6dfb\u52a0\u6807\u7b7e",id:"\u6dfb\u52a0\u6807\u7b7e",children:[],level:4},{value:"\u5220\u9664\u6807\u7b7e",id:"\u5220\u9664\u6807\u7b7e",children:[],level:4},{value:"\u4fee\u6539\u6807\u7b7e\u540d",id:"\u4fee\u6539\u6807\u7b7e\u540d",children:[],level:4},{value:"\u4fee\u6539\u6807\u7b7e\u5217\u5bbd\u5ea6",id:"\u4fee\u6539\u6807\u7b7e\u5217\u5bbd\u5ea6",children:[],level:4},{value:"\u4fee\u6539\u5b50\u8868\u6807\u7b7e\u503c",id:"\u4fee\u6539\u5b50\u8868\u6807\u7b7e\u503c",children:[],level:4}],level:3}],level:2},{value:"\u6570\u636e\u5199\u5165",id:"\u6570\u636e\u5199\u5165",children:[{value:"\u5199\u5165\u8bed\u6cd5",id:"\u5199\u5165\u8bed\u6cd5",children:[],level:3},{value:"\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8bb0\u5f55",id:"\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8bb0\u5f55",children:[],level:3},{value:"\u63d2\u5165\u8bb0\u5f55\uff0c\u6570\u636e\u5bf9\u5e94\u5230\u6307\u5b9a\u7684\u5217*",id:"\u63d2\u5165\u8bb0\u5f55\u6570\u636e\u5bf9\u5e94\u5230\u6307\u5b9a\u7684\u5217",children:[],level:3},{value:"\u5411\u591a\u4e2a\u8868\u63d2\u5165\u8bb0\u5f55",id:"\u5411\u591a\u4e2a\u8868\u63d2\u5165\u8bb0\u5f55",children:[],level:3},{value:"\u63d2\u5165\u8bb0\u5f55\u65f6\u81ea\u52a8\u5efa\u8868",id:"\u63d2\u5165\u8bb0\u5f55\u65f6\u81ea\u52a8\u5efa\u8868",children:[],level:3},{value:"\u63d2\u5165\u6765\u81ea\u6587\u4ef6\u7684\u6570\u636e\u8bb0\u5f55",id:"\u63d2\u5165\u6765\u81ea\u6587\u4ef6\u7684\u6570\u636e\u8bb0\u5f55",children:[],level:3},{value:"\u63d2\u5165\u6765\u81ea\u6587\u4ef6\u7684\u6570\u636e\u8bb0\u5f55\uff0c\u5e76\u81ea\u52a8\u5efa\u8868",id:"\u63d2\u5165\u6765\u81ea\u6587\u4ef6\u7684\u6570\u636e\u8bb0\u5f55\u5e76\u81ea\u52a8\u5efa\u8868",children:[],level:3},{value:"\u5386\u53f2\u8bb0\u5f55\u5199\u5165",id:"\u5386\u53f2\u8bb0\u5f55\u5199\u5165",children:[],level:3}],level:2},{value:"\u6570\u636e\u67e5\u8be2",id:"\u6570\u636e\u67e5\u8be2",children:[{value:"\u67e5\u8be2\u8bed\u6cd5",id:"\u67e5\u8be2\u8bed\u6cd5",children:[],level:3},{value:"\u901a\u914d\u7b26",id:"\u901a\u914d\u7b26",children:[],level:3},{value:"\u6807\u7b7e\u5217",id:"\u6807\u7b7e\u5217",children:[],level:3},{value:"\u83b7\u53d6\u6807\u7b7e\u5217\u6216\u666e\u901a\u5217\u7684\u53bb\u91cd\u53d6\u503c",id:"\u83b7\u53d6\u6807\u7b7e\u5217\u6216\u666e\u901a\u5217\u7684\u53bb\u91cd\u53d6\u503c",children:[],level:3},{value:"\u7ed3\u679c\u96c6\u5217\u540d",id:"\u7ed3\u679c\u96c6\u5217\u540d",children:[],level:3},{value:"\u9690\u5f0f\u7ed3\u679c\u5217",id:"\u9690\u5f0f\u7ed3\u679c\u5217",children:[],level:3},{value:"\u8868\uff08\u8d85\u7ea7\u8868\uff09\u5217\u8868",id:"\u8868\u8d85\u7ea7\u8868\u5217\u8868",children:[],level:3},{value:"\u7279\u6b8a\u529f\u80fd",id:"\u7279\u6b8a\u529f\u80fd",children:[],level:3},{value:"_block_dist \u51fd\u6570",id:"_block_dist-\u51fd\u6570",children:[],level:3},{value:"TAOS SQL \u4e2d\u7279\u6b8a\u5173\u952e\u8bcd",id:"taos-sql-\u4e2d\u7279\u6b8a\u5173\u952e\u8bcd",children:[],level:3},{value:"\u5c0f\u6280\u5de7",id:"\u5c0f\u6280\u5de7",children:[],level:3},{value:"\u6761\u4ef6\u8fc7\u6ee4\u64cd\u4f5c",id:"\u6761\u4ef6\u8fc7\u6ee4\u64cd\u4f5c",children:[],level:3},{value:"\u6b63\u5219\u8868\u8fbe\u5f0f\u8fc7\u6ee4",id:"\u6b63\u5219\u8868\u8fbe\u5f0f\u8fc7\u6ee4",children:[{value:"\u8bed\u6cd5",id:"\u8bed\u6cd5",children:[],level:4},{value:"\u6b63\u5219\u8868\u8fbe\u5f0f\u89c4\u8303",id:"\u6b63\u5219\u8868\u8fbe\u5f0f\u89c4\u8303",children:[],level:4},{value:"\u4f7f\u7528\u9650\u5236",id:"\u4f7f\u7528\u9650\u5236",children:[],level:4}],level:3},{value:"JOIN \u5b50\u53e5",id:"join-\u5b50\u53e5",children:[],level:3},{value:"\u5d4c\u5957\u67e5\u8be2",id:"\u5d4c\u5957\u67e5\u8be2",children:[],level:3},{value:"UNION ALL \u5b50\u53e5",id:"union-all-\u5b50\u53e5",children:[{value:"SQL \u793a\u4f8b",id:"sql-\u793a\u4f8b",children:[],level:4}],level:3}],level:2},{value:"SQL \u51fd\u6570",id:"sql-\u51fd\u6570",children:[{value:"\u805a\u5408\u51fd\u6570",id:"\u805a\u5408\u51fd\u6570",children:[{value:"COUNT",id:"count",children:[],level:4},{value:"AVG",id:"avg",children:[],level:4},{value:"TWA",id:"twa",children:[],level:4},{value:"IRATE",id:"irate",children:[],level:4},{value:"SUM",id:"sum",children:[],level:4},{value:"STDDEV",id:"stddev",children:[],level:4},{value:"LEASTSQUARES",id:"leastsquares",children:[],level:4}],level:3},{value:"\u9009\u62e9\u51fd\u6570",id:"\u9009\u62e9\u51fd\u6570",children:[{value:"MIN",id:"min",children:[],level:4},{value:"MAX",id:"max",children:[],level:4},{value:"FIRST",id:"first",children:[],level:4},{value:"LAST",id:"last",children:[],level:4},{value:"TOP",id:"top",children:[],level:4},{value:"BOTTOM",id:"bottom",children:[],level:4},{value:"PERCENTILE",id:"percentile",children:[],level:4},{value:"APERCENTILE",id:"apercentile",children:[],level:4},{value:"LAST_ROW",id:"last_row",children:[],level:4},{value:"INTERP 2.3.1 \u53ca\u4e4b\u540e\u7684\u7248\u672c",id:"interp-231-\u53ca\u4e4b\u540e\u7684\u7248\u672c",children:[],level:4},{value:"INTERP 2.3.1 \u4e4b\u524d\u7684\u7248\u672c",id:"interp-231-\u4e4b\u524d\u7684\u7248\u672c",children:[],level:4}],level:3},{value:"\u8ba1\u7b97\u51fd\u6570",id:"\u8ba1\u7b97\u51fd\u6570",children:[{value:"DIFF",id:"diff",children:[],level:4},{value:"DERIVATIVE",id:"derivative",children:[],level:4},{value:"SPREAD",id:"spread",children:[],level:4},{value:"CEIL",id:"ceil",children:[],level:4},{value:"FLOOR",id:"floor",children:[],level:4}],level:3}],level:2},{value:"\u6309\u7a97\u53e3\u5207\u5206\u805a\u5408",id:"\u6309\u7a97\u53e3\u5207\u5206\u805a\u5408",children:[],level:2},{value:"TAOS SQL \u8fb9\u754c\u9650\u5236",id:"taos-sql-\u8fb9\u754c\u9650\u5236",children:[],level:2},{value:"TAOS SQL \u5176\u4ed6\u7ea6\u5b9a",id:"taos-sql-\u5176\u4ed6\u7ea6\u5b9a",children:[{value:"GROUP BY \u7684\u9650\u5236",id:"group-by-\u7684\u9650\u5236",children:[],level:3},{value:"IS NOT NULL \u4e0e\u4e0d\u4e3a\u7a7a\u7684\u8868\u8fbe\u5f0f\u9002\u7528\u8303\u56f4",id:"is-not-null-\u4e0e\u4e0d\u4e3a\u7a7a\u7684\u8868\u8fbe\u5f0f\u9002\u7528\u8303\u56f4",children:[],level:3},{value:"ORDER BY \u7684\u9650\u5236",id:"order-by-\u7684\u9650\u5236",children:[],level:3}],level:2},{value:"\u8868(\u5217)\u540d\u5408\u6cd5\u6027\u8bf4\u660e",id:"\u8868\u5217\u540d\u5408\u6cd5\u6027\u8bf4\u660e",children:[],level:2},{value:"Json \u7c7b\u578b\u4f7f\u7528\u8bf4\u660e",id:"json-\u7c7b\u578b\u4f7f\u7528\u8bf4\u660e",children:[],level:2},{value:"\u8f6c\u4e49\u5b57\u7b26\u8bf4\u660e",id:"\u8f6c\u4e49\u5b57\u7b26\u8bf4\u660e",children:[],level:2}],N={toc:o};function s(e){var t=e.components,i=(0,l.Z)(e,p);return(0,r.kt)("wrapper",(0,a.Z)({},N,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"taos-sql"},"TAOS SQL"),(0,r.kt)("p",null,"\u672c\u6587\u6863\u8bf4\u660e TAOS SQL \u652f\u6301\u7684\u8bed\u6cd5\u89c4\u5219\u3001\u4e3b\u8981\u67e5\u8be2\u529f\u80fd\u3001\u652f\u6301\u7684 SQL \u67e5\u8be2\u51fd\u6570\uff0c\u4ee5\u53ca\u5e38\u7528\u6280\u5de7\u7b49\u5185\u5bb9\u3002\u9605\u8bfb\u672c\u6587\u6863\u9700\u8981\u8bfb\u8005\u5177\u6709\u57fa\u672c\u7684 SQL \u8bed\u8a00\u7684\u57fa\u7840\u3002"),(0,r.kt)("p",null,"TAOS SQL \u662f\u7528\u6237\u5bf9 TDengine \u8fdb\u884c\u6570\u636e\u5199\u5165\u548c\u67e5\u8be2\u7684\u4e3b\u8981\u5de5\u5177\u3002TAOS SQL \u4e3a\u4e86\u4fbf\u4e8e\u7528\u6237\u5feb\u901f\u4e0a\u624b\uff0c\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u63d0\u4f9b\u7c7b\u4f3c\u4e8e\u6807\u51c6 SQL \u7c7b\u4f3c\u7684\u98ce\u683c\u548c\u6a21\u5f0f\u3002\u4e25\u683c\u610f\u4e49\u4e0a\uff0cTAOS SQL \u5e76\u4e0d\u662f\u4e5f\u4e0d\u8bd5\u56fe\u63d0\u4f9b SQL \u6807\u51c6\u7684\u8bed\u6cd5\u3002\u6b64\u5916\uff0c\u7531\u4e8e TDengine \u9488\u5bf9\u7684\u65f6\u5e8f\u6027\u7ed3\u6784\u5316\u6570\u636e\u4e0d\u63d0\u4f9b\u5220\u9664\u529f\u80fd\uff0c\u56e0\u6b64\u5728 TAO SQL \u4e2d\u4e0d\u63d0\u4f9b\u6570\u636e\u5220\u9664\u7684\u76f8\u5173\u529f\u80fd\u3002"),(0,r.kt)("p",null,"TAOS SQL \u4e0d\u652f\u6301\u5173\u952e\u5b57\u7684\u7f29\u5199\uff0c\u4f8b\u5982 DESCRIBE \u4e0d\u80fd\u7f29\u5199\u4e3a DESC\u3002"),(0,r.kt)("p",null,"\u672c\u7ae0\u8282 SQL \u8bed\u6cd5\u9075\u5faa\u5982\u4e0b\u7ea6\u5b9a\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"<",">"," \u91cc\u7684\u5185\u5bb9\u662f\u7528\u6237\u9700\u8981\u8f93\u5165\u7684\uff0c\u4f46\u4e0d\u8981\u8f93\u5165 <",">"," \u672c\u8eab"),(0,r.kt)("li",{parentName:"ul"},"["," ","]"," \u8868\u793a\u5185\u5bb9\u4e3a\u53ef\u9009\u9879\uff0c\u4f46\u4e0d\u80fd\u8f93\u5165 [] \u672c\u8eab"),(0,r.kt)("li",{parentName:"ul"},"| \u8868\u793a\u591a\u9009\u4e00\uff0c\u9009\u62e9\u5176\u4e2d\u4e00\u4e2a\u5373\u53ef\uff0c\u4f46\u4e0d\u80fd\u8f93\u5165 | \u672c\u8eab"),(0,r.kt)("li",{parentName:"ul"},"\u2026 \u8868\u793a\u524d\u9762\u7684\u9879\u53ef\u91cd\u590d\u591a\u4e2a")),(0,r.kt)("p",null,"\u4e3a\u66f4\u597d\u5730\u8bf4\u660e SQL \u8bed\u6cd5\u7684\u89c4\u5219\u53ca\u5176\u7279\u70b9\uff0c\u672c\u6587\u5047\u8bbe\u5b58\u5728\u4e00\u4e2a\u6570\u636e\u96c6\u3002\u4ee5\u667a\u80fd\u7535\u8868(meters)\u4e3a\u4f8b\uff0c\u5047\u8bbe\u6bcf\u4e2a\u667a\u80fd\u7535\u8868\u91c7\u96c6\u7535\u6d41\u3001\u7535\u538b\u3001\u76f8\u4f4d\u4e09\u4e2a\u91cf\u3002\u5176\u5efa\u6a21\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> DESCRIBE meters;\n             Field              |        Type        |   Length    |    Note    |\n=================================================================================\n ts                             | TIMESTAMP          |           8 |            |\n current                        | FLOAT              |           4 |            |\n voltage                        | INT                |           4 |            |\n phase                          | FLOAT              |           4 |            |\n location                       | BINARY             |          64 | TAG        |\n groupid                        | INT                |           4 | TAG        |\n")),(0,r.kt)("p",null,"\u6570\u636e\u96c6\u5305\u542b 4 \u4e2a\u667a\u80fd\u7535\u8868\u7684\u6570\u636e\uff0c\u6309\u7167 TDengine \u7684\u5efa\u6a21\u89c4\u5219\uff0c\u5bf9\u5e94 4 \u4e2a\u5b50\u8868\uff0c\u5176\u540d\u79f0\u5206\u522b\u662f d1001, d1002, d1003, d1004\u3002"),(0,r.kt)("h2",{id:"\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b"},"\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b"),(0,r.kt)("p",null,"\u4f7f\u7528 TDengine\uff0c\u6700\u91cd\u8981\u7684\u662f\u65f6\u95f4\u6233\u3002\u521b\u5efa\u5e76\u63d2\u5165\u8bb0\u5f55\u3001\u67e5\u8be2\u5386\u53f2\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u5747\u9700\u8981\u6307\u5b9a\u65f6\u95f4\u6233\u3002\u65f6\u95f4\u6233\u6709\u5982\u4e0b\u89c4\u5219\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u65f6\u95f4\u683c\u5f0f\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"YYYY-MM-DD HH:mm:ss.MS"),"\uff0c\u9ed8\u8ba4\u65f6\u95f4\u5206\u8fa8\u7387\u4e3a\u6beb\u79d2\u3002\u6bd4\u5982\uff1a",(0,r.kt)("inlineCode",{parentName:"li"},"2017-08-12 18:25:58.128")),(0,r.kt)("li",{parentName:"ul"},"\u5185\u90e8\u51fd\u6570 now \u662f\u5ba2\u6237\u7aef\u7684\u5f53\u524d\u65f6\u95f4"),(0,r.kt)("li",{parentName:"ul"},"\u63d2\u5165\u8bb0\u5f55\u65f6\uff0c\u5982\u679c\u65f6\u95f4\u6233\u4e3a now\uff0c\u63d2\u5165\u6570\u636e\u65f6\u4f7f\u7528\u63d0\u4ea4\u8fd9\u6761\u8bb0\u5f55\u7684\u5ba2\u6237\u7aef\u7684\u5f53\u524d\u65f6\u95f4"),(0,r.kt)("li",{parentName:"ul"},"Epoch Time\uff1a\u65f6\u95f4\u6233\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u957f\u6574\u6570\uff0c\u8868\u793a\u4ece\u683c\u6797\u5a01\u6cbb\u65f6\u95f4 1970-01-01 00:00:00.000 (UTC/GMT) \u5f00\u59cb\u7684\u6beb\u79d2\u6570\uff08\u76f8\u5e94\u5730\uff0c\u5982\u679c\u6240\u5728 Database \u7684\u65f6\u95f4\u7cbe\u5ea6\u8bbe\u7f6e\u4e3a\u201c\u5fae\u79d2\u201d\uff0c\u5219\u957f\u6574\u578b\u683c\u5f0f\u7684\u65f6\u95f4\u6233\u542b\u4e49\u4e5f\u5c31\u5bf9\u5e94\u4e8e\u4ece\u683c\u6797\u5a01\u6cbb\u65f6\u95f4 1970-01-01 00:00:00.000 (UTC/GMT) \u5f00\u59cb\u7684\u5fae\u79d2\u6570\uff1b\u7eb3\u79d2\u7cbe\u5ea6\u7684\u903b\u8f91\u4e5f\u662f\u7c7b\u4f3c\u7684\u3002\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u65f6\u95f4\u53ef\u4ee5\u52a0\u51cf\uff0c\u6bd4\u5982 now-2h\uff0c\u8868\u660e\u67e5\u8be2\u65f6\u523b\u5411\u524d\u63a8 2 \u4e2a\u5c0f\u65f6\uff08\u6700\u8fd1 2 \u5c0f\u65f6\uff09\u3002\u6570\u5b57\u540e\u9762\u7684\u65f6\u95f4\u5355\u4f4d\u53ef\u4ee5\u662f b(\u7eb3\u79d2)\u3001u(\u5fae\u79d2)\u3001a(\u6beb\u79d2)\u3001s(\u79d2)\u3001m(\u5206)\u3001h(\u5c0f\u65f6)\u3001d(\u5929)\u3001w(\u5468)\u3002 \u6bd4\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"select * from t1 where ts > now-2w and ts <= now-1w"),"\uff0c\u8868\u793a\u67e5\u8be2\u4e24\u5468\u524d\u6574\u6574\u4e00\u5468\u7684\u6570\u636e\u3002\u5728\u6307\u5b9a\u964d\u91c7\u6837\u64cd\u4f5c\uff08down sampling\uff09\u7684\u65f6\u95f4\u7a97\u53e3\uff08interval\uff09\u65f6\uff0c\u65f6\u95f4\u5355\u4f4d\u8fd8\u53ef\u4ee5\u4f7f\u7528 n(\u81ea\u7136\u6708) \u548c y(\u81ea\u7136\u5e74)\u3002")),(0,r.kt)("p",null,"TDengine \u7f3a\u7701\u7684\u65f6\u95f4\u6233\u662f\u6beb\u79d2\u7cbe\u5ea6\uff0c\u4f46\u901a\u8fc7\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE DATABASE")," \u65f6\u4f20\u9012\u7684 PRECISION \u53c2\u6570\u5c31\u53ef\u4ee5\u652f\u6301\u5fae\u79d2\u548c\u7eb3\u79d2\u3002\uff08\u4ece 2.1.5.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\u7eb3\u79d2\u7cbe\u5ea6\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE DATABASE db_name PRECISION 'ns';\n")),(0,r.kt)("p",null,"\u5728 TDengine \u4e2d\uff0c\u666e\u901a\u8868\u7684\u6570\u636e\u6a21\u578b\u4e2d\u53ef\u4f7f\u7528\u4ee5\u4e0b 10 \u79cd\u6570\u636e\u7c7b\u578b\u3002"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"#"),(0,r.kt)("th",{parentName:"tr",align:"center"},(0,r.kt)("strong",{parentName:"th"},"\u7c7b\u578b")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Bytes")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"\u8bf4\u660e")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:"center"},"TIMESTAMP"),(0,r.kt)("td",{parentName:"tr",align:null},"8"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65f6\u95f4\u6233\u3002\u7f3a\u7701\u7cbe\u5ea6\u6beb\u79d2\uff0c\u53ef\u652f\u6301\u5fae\u79d2\u548c\u7eb3\u79d2\u3002\u4ece\u683c\u6797\u5a01\u6cbb\u65f6\u95f4 1970-01-01 00:00:00.000 (UTC/GMT) \u5f00\u59cb\uff0c\u8ba1\u65f6\u4e0d\u80fd\u65e9\u4e8e\u8be5\u65f6\u95f4\u3002\uff08\u4ece 2.0.18.0 \u7248\u672c\u5f00\u59cb\uff0c\u5df2\u7ecf\u53bb\u9664\u4e86\u8fd9\u4e00\u65f6\u95f4\u8303\u56f4\u9650\u5236\uff09\uff08\u4ece 2.1.5.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\u7eb3\u79d2\u7cbe\u5ea6\uff09")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:"center"},"INT"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6574\u578b\uff0c\u8303\u56f4 ","[-2^31+1, 2^31-1]",", -2^31 \u7528\u4f5c NULL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"3"),(0,r.kt)("td",{parentName:"tr",align:"center"},"BIGINT"),(0,r.kt)("td",{parentName:"tr",align:null},"8"),(0,r.kt)("td",{parentName:"tr",align:null},"\u957f\u6574\u578b\uff0c\u8303\u56f4 ","[-2^63+1, 2^63-1]",", -2^63 \u7528\u4e8e NULL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:"center"},"FLOAT"),(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6d6e\u70b9\u578b\uff0c\u6709\u6548\u4f4d\u6570 6-7\uff0c\u8303\u56f4 ","[-3.4E38, 3.4E38]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5"),(0,r.kt)("td",{parentName:"tr",align:"center"},"DOUBLE"),(0,r.kt)("td",{parentName:"tr",align:null},"8"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u578b\uff0c\u6709\u6548\u4f4d\u6570 15-16\uff0c\u8303\u56f4 ","[-1.7E308, 1.7E308]")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"6"),(0,r.kt)("td",{parentName:"tr",align:"center"},"BINARY"),(0,r.kt)("td",{parentName:"tr",align:null},"\u81ea\u5b9a\u4e49"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bb0\u5f55\u5355\u5b57\u8282\u5b57\u7b26\u4e32\uff0c\u5efa\u8bae\u53ea\u7528\u4e8e\u5904\u7406 ASCII \u53ef\u89c1\u5b57\u7b26\uff0c\u4e2d\u6587\u7b49\u591a\u5b57\u8282\u5b57\u7b26\u9700\u4f7f\u7528 nchar\u3002\u7406\u8bba\u4e0a\uff0c\u6700\u957f\u53ef\u4ee5\u6709 16374 \u5b57\u8282\u3002binary \u4ec5\u652f\u6301\u5b57\u7b26\u4e32\u8f93\u5165\uff0c\u5b57\u7b26\u4e32\u4e24\u7aef\u9700\u4f7f\u7528\u5355\u5f15\u53f7\u5f15\u7528\u3002\u4f7f\u7528\u65f6\u987b\u6307\u5b9a\u5927\u5c0f\uff0c\u5982 binary(20) \u5b9a\u4e49\u4e86\u6700\u957f\u4e3a 20 \u4e2a\u5355\u5b57\u8282\u5b57\u7b26\u7684\u5b57\u7b26\u4e32\uff0c\u6bcf\u4e2a\u5b57\u7b26\u5360 1 byte \u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u603b\u5171\u56fa\u5b9a\u5360\u7528 20 bytes \u7684\u7a7a\u95f4\uff0c\u6b64\u65f6\u5982\u679c\u7528\u6237\u5b57\u7b26\u4e32\u8d85\u51fa 20 \u5b57\u8282\u5c06\u4f1a\u62a5\u9519\u3002\u5bf9\u4e8e\u5b57\u7b26\u4e32\u5185\u7684\u5355\u5f15\u53f7\uff0c\u53ef\u4ee5\u7528\u8f6c\u4e49\u5b57\u7b26\u53cd\u659c\u7ebf\u52a0\u5355\u5f15\u53f7\u6765\u8868\u793a\uff0c\u5373 ",(0,r.kt)("inlineCode",{parentName:"td"},"\\\u2019"),"\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"7"),(0,r.kt)("td",{parentName:"tr",align:"center"},"SMALLINT"),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"\u77ed\u6574\u578b\uff0c \u8303\u56f4 ","[-32767, 32767]",", -32768 \u7528\u4e8e NULL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"8"),(0,r.kt)("td",{parentName:"tr",align:"center"},"TINYINT"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5355\u5b57\u8282\u6574\u578b\uff0c\u8303\u56f4 ","[-127, 127]",", -128 \u7528\u4e8e NULL")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"9"),(0,r.kt)("td",{parentName:"tr",align:"center"},"BOOL"),(0,r.kt)("td",{parentName:"tr",align:null},"1"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5e03\u5c14\u578b\uff0c{true, false}")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"10"),(0,r.kt)("td",{parentName:"tr",align:"center"},"NCHAR"),(0,r.kt)("td",{parentName:"tr",align:null},"\u81ea\u5b9a\u4e49"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bb0\u5f55\u5305\u542b\u591a\u5b57\u8282\u5b57\u7b26\u5728\u5185\u7684\u5b57\u7b26\u4e32\uff0c\u5982\u4e2d\u6587\u5b57\u7b26\u3002\u6bcf\u4e2a nchar \u5b57\u7b26\u5360\u7528 4 bytes \u7684\u5b58\u50a8\u7a7a\u95f4\u3002\u5b57\u7b26\u4e32\u4e24\u7aef\u4f7f\u7528\u5355\u5f15\u53f7\u5f15\u7528\uff0c\u5b57\u7b26\u4e32\u5185\u7684\u5355\u5f15\u53f7\u9700\u7528\u8f6c\u4e49\u5b57\u7b26 ",(0,r.kt)("inlineCode",{parentName:"td"},"\\\u2019"),"\u3002nchar \u4f7f\u7528\u65f6\u987b\u6307\u5b9a\u5b57\u7b26\u4e32\u5927\u5c0f\uff0c\u7c7b\u578b\u4e3a nchar(10) \u7684\u5217\u8868\u793a\u6b64\u5217\u7684\u5b57\u7b26\u4e32\u6700\u591a\u5b58\u50a8 10 \u4e2a nchar \u5b57\u7b26\uff0c\u4f1a\u56fa\u5b9a\u5360\u7528 40 bytes \u7684\u7a7a\u95f4\u3002\u5982\u679c\u7528\u6237\u5b57\u7b26\u4e32\u957f\u5ea6\u8d85\u51fa\u58f0\u660e\u957f\u5ea6\uff0c\u5c06\u4f1a\u62a5\u9519\u3002")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"11"),(0,r.kt)("td",{parentName:"tr",align:"center"},"JSON"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"json \u6570\u636e\u7c7b\u578b\uff0c \u53ea\u6709 tag \u7c7b\u578b\u53ef\u4ee5\u662f json \u683c\u5f0f")))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"TDengine \u5bf9 SQL \u8bed\u53e5\u4e2d\u7684\u82f1\u6587\u5b57\u7b26\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u81ea\u52a8\u8f6c\u5316\u4e3a\u5c0f\u5199\u6267\u884c\u3002\u56e0\u6b64\u7528\u6237\u5927\u5c0f\u5199\u654f\u611f\u7684\u5b57\u7b26\u4e32\u53ca\u5bc6\u7801\uff0c\u9700\u8981\u4f7f\u7528\u5355\u5f15\u53f7\u5c06\u5b57\u7b26\u4e32\u5f15\u8d77\u6765\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u6ce8\u610f"),"\uff0c\u867d\u7136 Binary \u7c7b\u578b\u5728\u5e95\u5c42\u5b58\u50a8\u4e0a\u652f\u6301\u5b57\u8282\u578b\u7684\u4e8c\u8fdb\u5236\u5b57\u7b26\uff0c\u4f46\u4e0d\u540c\u7f16\u7a0b\u8bed\u8a00\u5bf9\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u5904\u7406\u65b9\u5f0f\u5e76\u4e0d\u4fdd\u8bc1\u4e00\u81f4\uff0c\u56e0\u6b64\u5efa\u8bae\u5728 Binary \u7c7b\u578b\u4e2d\u53ea\u5b58\u50a8 ASCII \u53ef\u89c1\u5b57\u7b26\uff0c\u800c\u907f\u514d\u5b58\u50a8\u4e0d\u53ef\u89c1\u5b57\u7b26\u3002\u591a\u5b57\u8282\u7684\u6570\u636e\uff0c\u4f8b\u5982\u4e2d\u6587\u5b57\u7b26\uff0c\u5219\u9700\u8981\u4f7f\u7528 nchar \u7c7b\u578b\u8fdb\u884c\u4fdd\u5b58\u3002\u5982\u679c\u5f3a\u884c\u4f7f\u7528 Binary \u7c7b\u578b\u4fdd\u5b58\u4e2d\u6587\u5b57\u7b26\uff0c\u867d\u7136\u6709\u65f6\u4e5f\u80fd\u6b63\u5e38\u8bfb\u5199\uff0c\u4f46\u5e76\u4e0d\u5e26\u6709\u5b57\u7b26\u96c6\u4fe1\u606f\uff0c\u5f88\u5bb9\u6613\u51fa\u73b0\u6570\u636e\u4e71\u7801\u751a\u81f3\u6570\u636e\u635f\u574f\u7b49\u60c5\u51b5\u3002"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"\u6ce8\u610f"),"\uff0cSQL \u8bed\u53e5\u4e2d\u7684\u6570\u503c\u7c7b\u578b\u5c06\u4f9d\u636e\u662f\u5426\u5b58\u5728\u5c0f\u6570\u70b9\uff0c\u6216\u4f7f\u7528\u79d1\u5b66\u8ba1\u6570\u6cd5\u8868\u793a\uff0c\u6765\u5224\u65ad\u6570\u503c\u7c7b\u578b\u662f\u5426\u4e3a\u6574\u578b\u6216\u8005\u6d6e\u70b9\u578b\uff0c\u56e0\u6b64\u5728\u4f7f\u7528\u65f6\u8981\u6ce8\u610f\u76f8\u5e94\u7c7b\u578b\u8d8a\u754c\u7684\u60c5\u51b5\u3002\u4f8b\u5982\uff0c9999999999999999999 \u4f1a\u8ba4\u4e3a\u8d85\u8fc7\u957f\u6574\u578b\u7684\u4e0a\u8fb9\u754c\u800c\u6ea2\u51fa\uff0c\u800c 9999999999999999999.0 \u4f1a\u88ab\u8ba4\u4e3a\u662f\u6709\u6548\u7684\u6d6e\u70b9\u6570\u3002")))),(0,r.kt)("h2",{id:"\u6570\u636e\u5e93\u7ba1\u7406"},"\u6570\u636e\u5e93\u7ba1\u7406"),(0,r.kt)("h3",{id:"\u521b\u5efa\u6570\u636e\u5e93"},"\u521b\u5efa\u6570\u636e\u5e93"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE DATABASE [IF NOT EXISTS] db_name [KEEP keep] [DAYS days] [UPDATE 1];\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"\u8bf4\u660e")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"KEEP \u662f\u8be5\u6570\u636e\u5e93\u7684\u6570\u636e\u4fdd\u7559\u591a\u957f\u5929\u6570\uff0c\u7f3a\u7701\u662f 3650 \u5929(10 \u5e74)\uff0c\u6570\u636e\u5e93\u4f1a\u81ea\u52a8\u5220\u9664\u8d85\u8fc7\u65f6\u9650\u7684\u6570\u636e\uff1b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"UPDATE \u6807\u5fd7\u6570\u636e\u5e93\u652f\u6301\u66f4\u65b0\u76f8\u540c\u65f6\u95f4\u6233\u6570\u636e\uff1b\uff08\u4ece 2.1.7.0 \u7248\u672c\u5f00\u59cb\u6b64\u53c2\u6570\u652f\u6301\u8bbe\u4e3a 2\uff0c\u8868\u793a\u5141\u8bb8\u90e8\u5206\u5217\u66f4\u65b0\uff0c\u4e5f\u5373\u66f4\u65b0\u6570\u636e\u884c\u65f6\u672a\u88ab\u8bbe\u7f6e\u7684\u5217\u4f1a\u4fdd\u7559\u539f\u503c\u3002\uff09\uff08\u4ece 2.0.8.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\u6b64\u53c2\u6570\u3002\u6ce8\u610f\u6b64\u53c2\u6570\u4e0d\u80fd\u901a\u8fc7 ",(0,r.kt)("inlineCode",{parentName:"p"},"ALTER DATABASE")," \u6307\u4ee4\u8fdb\u884c\u4fee\u6539\u3002\uff09"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"UPDATE \u8bbe\u4e3a 0 \u65f6\uff0c\u8868\u793a\u4e0d\u5141\u8bb8\u66f4\u65b0\u6570\u636e\uff0c\u540e\u53d1\u9001\u7684\u76f8\u540c\u65f6\u95f4\u6233\u7684\u6570\u636e\u4f1a\u88ab\u76f4\u63a5\u4e22\u5f03\uff1b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"UPDATE \u8bbe\u4e3a 1 \u65f6\uff0c\u8868\u793a\u66f4\u65b0\u5168\u90e8\u5217\u6570\u636e\uff0c\u5373\u5982\u679c\u66f4\u65b0\u4e00\u4e2a\u6570\u636e\u884c\uff0c\u5176\u4e2d\u67d0\u4e9b\u5217\u6ca1\u6709\u63d0\u4f9b\u53d6\u503c\uff0c\u90a3\u4e48\u8fd9\u4e9b\u5217\u4f1a\u88ab\u8bbe\u4e3a NULL\uff1b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"UPDATE \u8bbe\u4e3a 2 \u65f6\uff0c\u8868\u793a\u652f\u6301\u66f4\u65b0\u90e8\u5206\u5217\u6570\u636e\uff0c\u5373\u5982\u679c\u66f4\u65b0\u4e00\u4e2a\u6570\u636e\u884c\uff0c\u5176\u4e2d\u67d0\u4e9b\u5217\u6ca1\u6709\u63d0\u4f9b\u53d6\u503c\uff0c\u90a3\u4e48\u8fd9\u4e9b\u5217\u4f1a\u4fdd\u6301\u539f\u6709\u6570\u636e\u884c\u4e2d\u7684\u5bf9\u5e94\u503c\uff1b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u66f4\u591a\u5173\u4e8e UPDATE \u53c2\u6570\u7684\u7528\u6cd5\uff0c\u8bf7\u53c2\u8003",(0,r.kt)("a",{parentName:"p",href:"https://www.taosdata.com/cn/documentation/faq"},"FAQ"),"\u3002")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6570\u636e\u5e93\u540d\u6700\u5927\u957f\u5ea6\u4e3a 33\uff1b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u4e00\u6761 SQL \u8bed\u53e5\u7684\u6700\u5927\u957f\u5ea6\u4e3a 65480 \u4e2a\u5b57\u7b26\uff1b")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6570\u636e\u5e93\u8fd8\u6709\u66f4\u591a\u4e0e\u5b58\u50a8\u76f8\u5173\u7684\u914d\u7f6e\u53c2\u6570\uff0c\u8bf7\u53c2\u89c1 ",(0,r.kt)("a",{parentName:"p",href:"https://www.taosdata.com/cn/documentation/administrator#config"},"\u670d\u52a1\u7aef\u914d\u7f6e")," \u7ae0\u8282\u3002"))))),(0,r.kt)("h3",{id:"\u663e\u793a\u7cfb\u7edf\u5f53\u524d\u53c2\u6570"},"\u663e\u793a\u7cfb\u7edf\u5f53\u524d\u53c2\u6570"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SHOW VARIABLES;\n")),(0,r.kt)("h3",{id:"\u4f7f\u7528\u6570\u636e\u5e93"},"\u4f7f\u7528\u6570\u636e\u5e93"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"USE db_name;\n")),(0,r.kt)("p",null,"\u4f7f\u7528/\u5207\u6362\u6570\u636e\u5e93\uff08\u5728 RESTful \u8fde\u63a5\u65b9\u5f0f\u4e0b\u65e0\u6548\uff09\u3002"),(0,r.kt)("h3",{id:"\u5220\u9664\u6570\u636e\u5e93"},"\u5220\u9664\u6570\u636e\u5e93"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"DROP DATABASE [IF EXISTS] db_name;\n")),(0,r.kt)("p",null,"\u5220\u9664\u6570\u636e\u5e93\u3002\u6307\u5b9a Database \u6240\u5305\u542b\u7684\u5168\u90e8\u6570\u636e\u8868\u5c06\u88ab\u5220\u9664\uff0c\u8c28\u614e\u4f7f\u7528\uff01"),(0,r.kt)("h3",{id:"\u4fee\u6539\u6570\u636e\u5e93\u53c2\u6570"},"\u4fee\u6539\u6570\u636e\u5e93\u53c2\u6570"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER DATABASE db_name COMP 2;\n")),(0,r.kt)("p",null,"COMP \u53c2\u6570\u662f\u6307\u4fee\u6539\u6570\u636e\u5e93\u6587\u4ef6\u538b\u7f29\u6807\u5fd7\u4f4d\uff0c\u7f3a\u7701\u503c\u4e3a 2\uff0c\u53d6\u503c\u8303\u56f4\u4e3a ","[0, 2]","\u30020 \u8868\u793a\u4e0d\u538b\u7f29\uff0c1 \u8868\u793a\u4e00\u9636\u6bb5\u538b\u7f29\uff0c2 \u8868\u793a\u4e24\u9636\u6bb5\u538b\u7f29\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER DATABASE db_name REPLICA 2;\n")),(0,r.kt)("p",null,"REPLICA \u53c2\u6570\u662f\u6307\u4fee\u6539\u6570\u636e\u5e93\u526f\u672c\u6570\uff0c\u53d6\u503c\u8303\u56f4 ","[1, 3]","\u3002\u5728\u96c6\u7fa4\u4e2d\u4f7f\u7528\uff0c\u526f\u672c\u6570\u5fc5\u987b\u5c0f\u4e8e\u6216\u7b49\u4e8e DNODE \u7684\u6570\u76ee\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER DATABASE db_name KEEP 365;\n")),(0,r.kt)("p",null,"KEEP \u53c2\u6570\u662f\u6307\u4fee\u6539\u6570\u636e\u6587\u4ef6\u4fdd\u5b58\u7684\u5929\u6570\uff0c\u7f3a\u7701\u503c\u4e3a 3650\uff0c\u53d6\u503c\u8303\u56f4 ","[days, 365000]","\uff0c\u5fc5\u987b\u5927\u4e8e\u6216\u7b49\u4e8e days \u53c2\u6570\u503c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER DATABASE db_name QUORUM 2;\n")),(0,r.kt)("p",null,"QUORUM \u53c2\u6570\u662f\u6307\u6570\u636e\u5199\u5165\u6210\u529f\u6240\u9700\u8981\u7684\u786e\u8ba4\u6570\uff0c\u53d6\u503c\u8303\u56f4 ","[1, 2]","\u3002\u5bf9\u4e8e\u5f02\u6b65\u590d\u5236\uff0cquorum \u8bbe\u4e3a 1\uff0c\u5177\u6709 master \u89d2\u8272\u7684\u865a\u62df\u8282\u70b9\u81ea\u5df1\u786e\u8ba4\u5373\u53ef\u3002\u5bf9\u4e8e\u540c\u6b65\u590d\u5236\uff0cquorum \u8bbe\u4e3a 2\u3002\u539f\u5219\u4e0a\uff0cQuorum >= 1 \u5e76\u4e14 Quorum <= replica(\u526f\u672c\u6570)\uff0c\u8fd9\u4e2a\u53c2\u6570\u5728\u542f\u52a8\u4e00\u4e2a\u540c\u6b65\u6a21\u5757\u5b9e\u4f8b\u65f6\u9700\u8981\u63d0\u4f9b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER DATABASE db_name BLOCKS 100;\n")),(0,r.kt)("p",null,"BLOCKS \u53c2\u6570\u662f\u6bcf\u4e2a VNODE (TSDB) \u4e2d\u6709\u591a\u5c11 cache \u5927\u5c0f\u7684\u5185\u5b58\u5757\uff0c\u56e0\u6b64\u4e00\u4e2a VNODE \u7684\u7528\u7684\u5185\u5b58\u5927\u5c0f\u7c97\u7565\u4e3a\uff08cache ","*"," blocks\uff09\u3002\u53d6\u503c\u8303\u56f4 ","[3, 1000]","\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER DATABASE db_name CACHELAST 0;\n")),(0,r.kt)("p",null,"CACHELAST \u53c2\u6570\u63a7\u5236\u662f\u5426\u5728\u5185\u5b58\u4e2d\u7f13\u5b58\u5b50\u8868\u7684\u6700\u8fd1\u6570\u636e\u3002\u7f3a\u7701\u503c\u4e3a 0\uff0c\u53d6\u503c\u8303\u56f4 ","[0, 1, 2, 3]","\u3002\u5176\u4e2d 0 \u8868\u793a\u4e0d\u7f13\u5b58\uff0c1 \u8868\u793a\u7f13\u5b58\u5b50\u8868\u6700\u8fd1\u4e00\u884c\u6570\u636e\uff0c2 \u8868\u793a\u7f13\u5b58\u5b50\u8868\u6bcf\u4e00\u5217\u7684\u6700\u8fd1\u7684\u975e NULL \u503c\uff0c3 \u8868\u793a\u540c\u65f6\u6253\u5f00\u7f13\u5b58\u6700\u8fd1\u884c\u548c\u5217\u529f\u80fd\u3002\uff08\u4ece 2.0.11.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\u53c2\u6570\u503c ","[0, 1]","\uff0c\u4ece 2.1.2.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\u53c2\u6570\u503c ","[0, 1, 2, 3]","\u3002\uff09",(0,r.kt)("br",{parentName:"p"}),"\n","\u8bf4\u660e\uff1a\u7f13\u5b58\u6700\u8fd1\u884c\uff0c\u5c06\u663e\u8457\u6539\u5584 LAST_ROW \u51fd\u6570\u7684\u6027\u80fd\u8868\u73b0\uff1b\u7f13\u5b58\u6bcf\u5217\u7684\u6700\u8fd1\u975e NULL \u503c\uff0c\u5c06\u663e\u8457\u6539\u5584\u65e0\u7279\u6b8a\u5f71\u54cd\uff08WHERE\u3001ORDER BY\u3001GROUP BY\u3001INTERVAL\uff09\u4e0b\u7684 LAST \u51fd\u6570\u7684\u6027\u80fd\u8868\u73b0\u3002"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u4ee5\u4e0a\u6240\u6709\u53c2\u6570\u4fee\u6539\u540e\u90fd\u53ef\u4ee5\u7528 show databases \u6765\u786e\u8ba4\u662f\u5426\u4fee\u6539\u6210\u529f\u3002\u53e6\u5916\uff0c\u4ece 2.1.3.0 \u7248\u672c\u5f00\u59cb\uff0c\u4fee\u6539\u8fd9\u4e9b\u53c2\u6570\u540e\u65e0\u9700\u91cd\u542f\u670d\u52a1\u5668\u5373\u53ef\u751f\u6548\u3002"))),(0,r.kt)("h3",{id:"\u663e\u793a\u7cfb\u7edf\u6240\u6709\u6570\u636e\u5e93"},"\u663e\u793a\u7cfb\u7edf\u6240\u6709\u6570\u636e\u5e93"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SHOW DATABASES;\n")),(0,r.kt)("h3",{id:"\u663e\u793a\u4e00\u4e2a\u6570\u636e\u5e93\u7684\u521b\u5efa\u8bed\u53e5"},"\u663e\u793a\u4e00\u4e2a\u6570\u636e\u5e93\u7684\u521b\u5efa\u8bed\u53e5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SHOW CREATE DATABASE db_name;\n")),(0,r.kt)("p",null,"\u5e38\u7528\u4e8e\u6570\u636e\u5e93\u8fc1\u79fb\u3002\u5bf9\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u6570\u636e\u5e93\uff0c\u8fd4\u56de\u5176\u521b\u5efa\u8bed\u53e5\uff1b\u5728\u53e6\u4e00\u4e2a\u96c6\u7fa4\u4e2d\u6267\u884c\u8be5\u8bed\u53e5\uff0c\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u8bbe\u7f6e\u5b8c\u5168\u76f8\u540c\u7684 Database\u3002"),(0,r.kt)("h2",{id:"\u8868\u7ba1\u7406"},"\u8868\u7ba1\u7406"),(0,r.kt)("h3",{id:"\u521b\u5efa\u6570\u636e\u8868"},"\u521b\u5efa\u6570\u636e\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE TABLE [IF NOT EXISTS] tb_name (timestamp_field_name TIMESTAMP, field1_name data_type1 [, field2_name data_type2 ...]);\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"\u8bf4\u660e")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"\u8868\u7684\u7b2c\u4e00\u4e2a\u5b57\u6bb5\u5fc5\u987b\u662f TIMESTAMP\uff0c\u5e76\u4e14\u7cfb\u7edf\u81ea\u52a8\u5c06\u5176\u8bbe\u4e3a\u4e3b\u952e\uff1b"),(0,r.kt)("li",{parentName:"ol"},"\u8868\u540d\u6700\u5927\u957f\u5ea6\u4e3a 192\uff1b"),(0,r.kt)("li",{parentName:"ol"},"\u8868\u7684\u6bcf\u884c\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7 16k \u4e2a\u5b57\u7b26;\uff08\u6ce8\u610f\uff1a\u6bcf\u4e2a BINARY/NCHAR \u7c7b\u578b\u7684\u5217\u8fd8\u4f1a\u989d\u5916\u5360\u7528 2 \u4e2a\u5b57\u8282\u7684\u5b58\u50a8\u4f4d\u7f6e\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u5b50\u8868\u540d\u53ea\u80fd\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u7ec4\u6210\uff0c\u4e14\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199"),(0,r.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u6570\u636e\u7c7b\u578b binary \u6216 nchar\uff0c\u9700\u6307\u5b9a\u5176\u6700\u957f\u7684\u5b57\u8282\u6570\uff0c\u5982 binary(20)\uff0c\u8868\u793a 20 \u5b57\u8282\uff1b"),(0,r.kt)("li",{parentName:"ol"},'\u4e3a\u4e86\u517c\u5bb9\u652f\u6301\u66f4\u591a\u5f62\u5f0f\u7684\u8868\u540d\uff0cTDengine \u5f15\u5165\u65b0\u7684\u8f6c\u4e49\u7b26 "',"`",'"\uff0c\u53ef\u4ee5\u8ba9\u8868\u540d\u4e0e\u5173\u952e\u8bcd\u4e0d\u51b2\u7a81\uff0c\u540c\u65f6\u4e0d\u53d7\u9650\u4e8e\u4e0a\u8ff0\u8868\u540d\u79f0\u5408\u6cd5\u6027\u7ea6\u675f\u68c0\u67e5\u3002\u4f46\u662f\u540c\u6837\u5177\u6709\u957f\u5ea6\u9650\u5236\u8981\u6c42\u3002\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u4ee5\u540e\uff0c\u4e0d\u518d\u5bf9\u8f6c\u4e49\u5b57\u7b26\u4e2d\u7684\u5185\u5bb9\u8fdb\u884c\u5927\u5c0f\u5199\u7edf\u4e00\u3002\n\u4f8b\u5982\uff1a',"`","aBc","`"," \u548c ","`","abc","`"," \u662f\u4e0d\u540c\u7684\u8868\u540d\uff0c\u4f46\u662f abc \u548c aBc \u662f\u76f8\u540c\u7684\u8868\u540d\u3002\n\u9700\u8981\u6ce8\u610f\u7684\u662f\u8f6c\u4e49\u5b57\u7b26\u4e2d\u7684\u5185\u5bb9\u5fc5\u987b\u662f\u53ef\u6253\u5370\u5b57\u7b26\u3002\n\u4e0a\u8ff0\u7684\u64cd\u4f5c\u903b\u8f91\u548c\u7ea6\u675f\u8981\u6c42\u4e0e MySQL \u6570\u636e\u7684\u64cd\u4f5c\u4e00\u81f4\u3002\n\u4ece 2.3.0.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\u8fd9\u79cd\u65b9\u5f0f\u3002")))),(0,r.kt)("h4",{id:"\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u521b\u5efa\u6570\u636e\u8868"},"\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u521b\u5efa\u6570\u636e\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE TABLE [IF NOT EXISTS] tb_name USING stb_name TAGS (tag_value1, ...);\n")),(0,r.kt)("p",null,"\u4ee5\u6307\u5b9a\u7684\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\uff0c\u6307\u5b9a TAGS \u7684\u503c\u6765\u521b\u5efa\u6570\u636e\u8868\u3002"),(0,r.kt)("h4",{id:"\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u521b\u5efa\u6570\u636e\u8868\u5e76\u6307\u5b9a\u5177\u4f53\u7684-tags-\u5217"},"\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u521b\u5efa\u6570\u636e\u8868\uff0c\u5e76\u6307\u5b9a\u5177\u4f53\u7684 TAGS \u5217"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE TABLE [IF NOT EXISTS] tb_name USING stb_name (tag_name1, ...) TAGS (tag_value1, ...);\n")),(0,r.kt)("p",null,"\u4ee5\u6307\u5b9a\u7684\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\uff0c\u6307\u5b9a\u4e00\u90e8\u5206 TAGS \u5217\u7684\u503c\u6765\u521b\u5efa\u6570\u636e\u8868\uff08\u6ca1\u88ab\u6307\u5b9a\u7684 TAGS \u5217\u4f1a\u8bbe\u4e3a\u7a7a\u503c\uff09\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u8bf4\u660e\uff1a\u4ece 2.0.17.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\u8fd9\u79cd\u65b9\u5f0f\u3002\u5728\u4e4b\u524d\u7684\u7248\u672c\u4e2d\uff0c\u4e0d\u5141\u8bb8\u6307\u5b9a TAGS \u5217\uff0c\u800c\u5fc5\u987b\u663e\u5f0f\u7ed9\u51fa\u6240\u6709 TAGS \u5217\u7684\u53d6\u503c\u3002"),(0,r.kt)("h4",{id:"\u6279\u91cf\u521b\u5efa\u6570\u636e\u8868"},"\u6279\u91cf\u521b\u5efa\u6570\u636e\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE TABLE [IF NOT EXISTS] tb_name1 USING stb_name TAGS (tag_value1, ...) [IF NOT EXISTS] tb_name2 USING stb_name TAGS (tag_value2, ...) ...;\n")),(0,r.kt)("p",null,"\u4ee5\u66f4\u5feb\u7684\u901f\u5ea6\u6279\u91cf\u521b\u5efa\u5927\u91cf\u6570\u636e\u8868\uff08\u670d\u52a1\u5668\u7aef 2.0.14 \u53ca\u4ee5\u4e0a\u7248\u672c\uff09\u3002"),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"1.\u6279\u91cf\u5efa\u8868\u65b9\u5f0f\u8981\u6c42\u6570\u636e\u8868\u5fc5\u987b\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u3002 2.\u5728\u4e0d\u8d85\u51fa SQL \u8bed\u53e5\u957f\u5ea6\u9650\u5236\u7684\u524d\u63d0\u4e0b\uff0c\u5355\u6761\u8bed\u53e5\u4e2d\u7684\u5efa\u8868\u6570\u91cf\u5efa\u8bae\u63a7\u5236\u5728 1000 \uff5e 3000 \u4e4b\u95f4\uff0c\u5c06\u4f1a\u83b7\u5f97\u6bd4\u8f83\u7406\u60f3\u7684\u5efa\u8868\u901f\u5ea6\u3002"))),(0,r.kt)("h3",{id:"\u5220\u9664\u6570\u636e\u8868"},"\u5220\u9664\u6570\u636e\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"DROP TABLE [IF EXISTS] tb_name;\n")),(0,r.kt)("h3",{id:"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u6570\u636e\u8868\u4fe1\u606f"},"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u6570\u636e\u8868\u4fe1\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SHOW TABLES [LIKE tb_name_wildcar];\n")),(0,r.kt)("p",null,"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u6570\u636e\u8868\u4fe1\u606f\u3002"),(0,r.kt)("h3",{id:"\u663e\u793a\u4e00\u4e2a\u6570\u636e\u8868\u7684\u521b\u5efa\u8bed\u53e5"},"\u663e\u793a\u4e00\u4e2a\u6570\u636e\u8868\u7684\u521b\u5efa\u8bed\u53e5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SHOW CREATE TABLE tb_name;\n")),(0,r.kt)("p",null,"\u5e38\u7528\u4e8e\u6570\u636e\u5e93\u8fc1\u79fb\u3002\u5bf9\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u6570\u636e\u8868\uff0c\u8fd4\u56de\u5176\u521b\u5efa\u8bed\u53e5\uff1b\u5728\u53e6\u4e00\u4e2a\u96c6\u7fa4\u4e2d\u6267\u884c\u8be5\u8bed\u53e5\uff0c\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u7ed3\u6784\u5b8c\u5168\u76f8\u540c\u7684\u6570\u636e\u8868\u3002"),(0,r.kt)("h3",{id:"\u5728\u7ebf\u4fee\u6539\u663e\u793a\u5b57\u7b26\u5bbd\u5ea6"},"\u5728\u7ebf\u4fee\u6539\u663e\u793a\u5b57\u7b26\u5bbd\u5ea6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SET MAX_BINARY_DISPLAY_WIDTH <nn>;\n")),(0,r.kt)("p",null,"\u5982\u663e\u793a\u7684\u5185\u5bb9\u540e\u9762\u4ee5...\u7ed3\u5c3e\u65f6\uff0c\u8868\u793a\u8be5\u5185\u5bb9\u5df2\u88ab\u622a\u65ad\uff0c\u53ef\u901a\u8fc7\u672c\u547d\u4ee4\u4fee\u6539\u663e\u793a\u5b57\u7b26\u5bbd\u5ea6\u4ee5\u663e\u793a\u5b8c\u6574\u7684\u5185\u5bb9\u3002"),(0,r.kt)("h3",{id:"\u83b7\u53d6\u8868\u7684\u7ed3\u6784\u4fe1\u606f"},"\u83b7\u53d6\u8868\u7684\u7ed3\u6784\u4fe1\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"DESCRIBE tb_name;\n")),(0,r.kt)("h3",{id:"\u4fee\u6539\u8868\u5b9a\u4e49"},"\u4fee\u6539\u8868\u5b9a\u4e49"),(0,r.kt)("h4",{id:"\u8868\u589e\u52a0\u5217"},"\u8868\u589e\u52a0\u5217"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER TABLE tb_name ADD COLUMN field_name data_type;\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"\u5217\u7684\u6700\u5927\u4e2a\u6570\u4e3a 1024\uff0c\u6700\u5c0f\u4e2a\u6570\u4e3a 2\uff1b\uff08\u4ece 2.1.7.0 \u7248\u672c\u5f00\u59cb\uff0c\u6539\u4e3a\u6700\u591a\u5141\u8bb8 4096 \u5217\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u5217\u540d\u6700\u5927\u957f\u5ea6\u4e3a 64\u3002")))),(0,r.kt)("h4",{id:"\u8868\u5220\u9664\u5217"},"\u8868\u5220\u9664\u5217"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER TABLE tb_name DROP COLUMN field_name;\n")),(0,r.kt)("p",null,"\u5982\u679c\u8868\u662f\u901a\u8fc7\u8d85\u7ea7\u8868\u521b\u5efa\uff0c\u66f4\u6539\u8868\u7ed3\u6784\u7684\u64cd\u4f5c\u53ea\u80fd\u5bf9\u8d85\u7ea7\u8868\u8fdb\u884c\u3002\u540c\u65f6\u9488\u5bf9\u8d85\u7ea7\u8868\u7684\u7ed3\u6784\u66f4\u6539\u5bf9\u6240\u6709\u901a\u8fc7\u8be5\u7ed3\u6784\u521b\u5efa\u7684\u8868\u751f\u6548\u3002\u5bf9\u4e8e\u4e0d\u662f\u901a\u8fc7\u8d85\u7ea7\u8868\u521b\u5efa\u7684\u8868\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u8868\u7ed3\u6784\u3002"),(0,r.kt)("h4",{id:"\u8868\u4fee\u6539\u5217\u5bbd"},"\u8868\u4fee\u6539\u5217\u5bbd"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER TABLE tb_name MODIFY COLUMN field_name data_type(length);\n")),(0,r.kt)("p",null,"\u5982\u679c\u6570\u636e\u5217\u7684\u7c7b\u578b\u662f\u53ef\u53d8\u957f\u683c\u5f0f\uff08BINARY \u6216 NCHAR\uff09\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u6b64\u6307\u4ee4\u4fee\u6539\u5176\u5bbd\u5ea6\uff08\u53ea\u80fd\u6539\u5927\uff0c\u4e0d\u80fd\u6539\u5c0f\uff09\u3002\uff082.1.3.0 \u7248\u672c\u65b0\u589e\uff09",(0,r.kt)("br",{parentName:"p"}),"\n","\u5982\u679c\u8868\u662f\u901a\u8fc7\u8d85\u7ea7\u8868\u521b\u5efa\uff0c\u66f4\u6539\u8868\u7ed3\u6784\u7684\u64cd\u4f5c\u53ea\u80fd\u5bf9\u8d85\u7ea7\u8868\u8fdb\u884c\u3002\u540c\u65f6\u9488\u5bf9\u8d85\u7ea7\u8868\u7684\u7ed3\u6784\u66f4\u6539\u5bf9\u6240\u6709\u901a\u8fc7\u8be5\u7ed3\u6784\u521b\u5efa\u7684\u8868\u751f\u6548\u3002\u5bf9\u4e8e\u4e0d\u662f\u901a\u8fc7\u8d85\u7ea7\u8868\u521b\u5efa\u7684\u8868\uff0c\u53ef\u4ee5\u76f4\u63a5\u4fee\u6539\u8868\u7ed3\u6784\u3002"),(0,r.kt)("h2",{id:"\u8d85\u7ea7\u8868-stable-\u7ba1\u7406"},"\u8d85\u7ea7\u8868 STable \u7ba1\u7406"),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a\u5728 2.0.15.0 \u53ca\u4ee5\u540e\u7684\u7248\u672c\u4e2d\uff0c\u5f00\u59cb\u652f\u6301 STABLE \u4fdd\u7559\u5b57\u3002\u4e5f\u5373\uff0c\u5728\u672c\u8282\u540e\u6587\u7684\u6307\u4ee4\u8bf4\u660e\u4e2d\uff0cCREATE\u3001DROP\u3001ALTER \u4e09\u4e2a\u6307\u4ee4\u5728\u8001\u7248\u672c\u4e2d\u4fdd\u7559\u5b57\u9700\u5199\u4f5c TABLE \u800c\u4e0d\u662f STABLE\u3002"),(0,r.kt)("h3",{id:"\u521b\u5efa\u8d85\u7ea7\u8868"},"\u521b\u5efa\u8d85\u7ea7\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE STABLE [IF NOT EXISTS] stb_name (timestamp_field_name TIMESTAMP, field1_name data_type1 [, field2_name data_type2 ...]) TAGS (tag1_name tag_type1, tag2_name tag_type2 [, tag3_name tag_type3]);\n")),(0,r.kt)("p",null,"\u521b\u5efa STable\uff0c\u4e0e\u521b\u5efa\u8868\u7684 SQL \u8bed\u6cd5\u76f8\u4f3c\uff0c\u4f46\u9700\u8981\u6307\u5b9a TAGS \u5b57\u6bb5\u7684\u540d\u79f0\u548c\u7c7b\u578b\u3002"),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"TAGS \u5217\u7684\u6570\u636e\u7c7b\u578b\u4e0d\u80fd\u662f timestamp \u7c7b\u578b\uff1b\uff08\u4ece 2.1.3.0 \u7248\u672c\u5f00\u59cb\uff0cTAGS \u5217\u4e2d\u652f\u6301\u4f7f\u7528 timestamp \u7c7b\u578b\uff0c\u4f46\u9700\u6ce8\u610f\u5728 TAGS \u4e2d\u7684 timestamp \u5217\u5199\u5165\u6570\u636e\u65f6\u9700\u8981\u63d0\u4f9b\u7ed9\u5b9a\u503c\uff0c\u800c\u6682\u4e0d\u652f\u6301\u56db\u5219\u8fd0\u7b97\uff0c\u4f8b\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"NOW + 10s")," \u8fd9\u7c7b\u8868\u8fbe\u5f0f\uff09"),(0,r.kt)("li",{parentName:"ol"},"TAGS \u5217\u540d\u4e0d\u80fd\u4e0e\u5176\u4ed6\u5217\u540d\u76f8\u540c\uff1b"),(0,r.kt)("li",{parentName:"ol"},"TAGS \u5217\u540d\u4e0d\u80fd\u4e3a\u9884\u7559\u5173\u952e\u5b57\uff08\u53c2\u89c1\uff1a",(0,r.kt)("a",{parentName:"li",href:"https://www.taosdata.com/cn/documentation/administrator#keywords"},"\u53c2\u6570\u9650\u5236\u4e0e\u4fdd\u7559\u5173\u952e\u5b57")," \u7ae0\u8282\uff09\uff1b"),(0,r.kt)("li",{parentName:"ol"},"TAGS \u6700\u591a\u5141\u8bb8 128 \u4e2a\uff0c\u81f3\u5c11 1 \u4e2a\uff0c\u603b\u957f\u5ea6\u4e0d\u8d85\u8fc7 16 KB\u3002")))),(0,r.kt)("h3",{id:"\u5220\u9664\u8d85\u7ea7\u8868"},"\u5220\u9664\u8d85\u7ea7\u8868"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"DROP STABLE [IF EXISTS] stb_name;\n")),(0,r.kt)("p",null,"\u5220\u9664 STable \u4f1a\u81ea\u52a8\u5220\u9664\u901a\u8fc7 STable \u521b\u5efa\u7684\u5b50\u8868\u3002"),(0,r.kt)("h3",{id:"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u8d85\u7ea7\u8868\u4fe1\u606f"},"\u663e\u793a\u5f53\u524d\u6570\u636e\u5e93\u4e0b\u7684\u6240\u6709\u8d85\u7ea7\u8868\u4fe1\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SHOW STABLES [LIKE tb_name_wildcard];\n")),(0,r.kt)("p",null,"\u67e5\u770b\u6570\u636e\u5e93\u5185\u5168\u90e8 STable\uff0c\u53ca\u5176\u76f8\u5173\u4fe1\u606f\uff0c\u5305\u62ec STable \u7684\u540d\u79f0\u3001\u521b\u5efa\u65f6\u95f4\u3001\u5217\u6570\u91cf\u3001\u6807\u7b7e\uff08TAG\uff09\u6570\u91cf\u3001\u901a\u8fc7\u8be5 STable \u5efa\u8868\u7684\u6570\u91cf\u3002"),(0,r.kt)("h3",{id:"\u663e\u793a\u4e00\u4e2a\u8d85\u7ea7\u8868\u7684\u521b\u5efa\u8bed\u53e5"},"\u663e\u793a\u4e00\u4e2a\u8d85\u7ea7\u8868\u7684\u521b\u5efa\u8bed\u53e5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SHOW CREATE STABLE stb_name;\n")),(0,r.kt)("p",null,"\u5e38\u7528\u4e8e\u6570\u636e\u5e93\u8fc1\u79fb\u3002\u5bf9\u4e00\u4e2a\u5df2\u7ecf\u5b58\u5728\u7684\u8d85\u7ea7\u8868\uff0c\u8fd4\u56de\u5176\u521b\u5efa\u8bed\u53e5\uff1b\u5728\u53e6\u4e00\u4e2a\u96c6\u7fa4\u4e2d\u6267\u884c\u8be5\u8bed\u53e5\uff0c\u5c31\u80fd\u5f97\u5230\u4e00\u4e2a\u7ed3\u6784\u5b8c\u5168\u76f8\u540c\u7684\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("h3",{id:"\u83b7\u53d6\u8d85\u7ea7\u8868\u7684\u7ed3\u6784\u4fe1\u606f"},"\u83b7\u53d6\u8d85\u7ea7\u8868\u7684\u7ed3\u6784\u4fe1\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"DESCRIBE stb_name;\n")),(0,r.kt)("h3",{id:"\u4fee\u6539\u8d85\u7ea7\u8868\u666e\u901a\u5217"},"\u4fee\u6539\u8d85\u7ea7\u8868\u666e\u901a\u5217"),(0,r.kt)("h4",{id:"\u8d85\u7ea7\u8868\u589e\u52a0\u5217"},"\u8d85\u7ea7\u8868\u589e\u52a0\u5217"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER STABLE stb_name ADD COLUMN field_name data_type;\n")),(0,r.kt)("h4",{id:"\u8d85\u7ea7\u8868\u5220\u9664\u5217"},"\u8d85\u7ea7\u8868\u5220\u9664\u5217"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER STABLE stb_name DROP COLUMN field_name;\n")),(0,r.kt)("h4",{id:"\u8d85\u7ea7\u8868\u4fee\u6539\u5217\u5bbd"},"\u8d85\u7ea7\u8868\u4fee\u6539\u5217\u5bbd"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER STABLE stb_name MODIFY COLUMN field_name data_type(length);\n")),(0,r.kt)("p",null,"\u5982\u679c\u6570\u636e\u5217\u7684\u7c7b\u578b\u662f\u53ef\u53d8\u957f\u683c\u5f0f\uff08BINARY \u6216 NCHAR\uff09\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u6b64\u6307\u4ee4\u4fee\u6539\u5176\u5bbd\u5ea6\uff08\u53ea\u80fd\u6539\u5927\uff0c\u4e0d\u80fd\u6539\u5c0f\uff09\u3002\uff082.1.3.0 \u7248\u672c\u65b0\u589e\uff09"),(0,r.kt)("h3",{id:"\u4fee\u6539\u8d85\u7ea7\u8868\u6807\u7b7e\u5217"},"\u4fee\u6539\u8d85\u7ea7\u8868\u6807\u7b7e\u5217"),(0,r.kt)("h4",{id:"\u6dfb\u52a0\u6807\u7b7e"},"\u6dfb\u52a0\u6807\u7b7e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER STABLE stb_name ADD TAG new_tag_name tag_type;\n")),(0,r.kt)("p",null,"\u4e3a STable \u589e\u52a0\u4e00\u4e2a\u65b0\u7684\u6807\u7b7e\uff0c\u5e76\u6307\u5b9a\u65b0\u6807\u7b7e\u7684\u7c7b\u578b\u3002\u6807\u7b7e\u603b\u6570\u4e0d\u80fd\u8d85\u8fc7 128 \u4e2a\uff0c\u603b\u957f\u5ea6\u4e0d\u8d85\u8fc7 16k \u4e2a\u5b57\u7b26\u3002"),(0,r.kt)("h4",{id:"\u5220\u9664\u6807\u7b7e"},"\u5220\u9664\u6807\u7b7e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER STABLE stb_name DROP TAG tag_name;\n")),(0,r.kt)("p",null,"\u5220\u9664\u8d85\u7ea7\u8868\u7684\u4e00\u4e2a\u6807\u7b7e\uff0c\u4ece\u8d85\u7ea7\u8868\u5220\u9664\u67d0\u4e2a\u6807\u7b7e\u540e\uff0c\u8be5\u8d85\u7ea7\u8868\u4e0b\u7684\u6240\u6709\u5b50\u8868\u4e5f\u4f1a\u81ea\u52a8\u5220\u9664\u8be5\u6807\u7b7e\u3002"),(0,r.kt)("h4",{id:"\u4fee\u6539\u6807\u7b7e\u540d"},"\u4fee\u6539\u6807\u7b7e\u540d"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER STABLE stb_name CHANGE TAG old_tag_name new_tag_name;\n")),(0,r.kt)("p",null,"\u4fee\u6539\u8d85\u7ea7\u8868\u7684\u6807\u7b7e\u540d\uff0c\u4ece\u8d85\u7ea7\u8868\u4fee\u6539\u67d0\u4e2a\u6807\u7b7e\u540d\u540e\uff0c\u8be5\u8d85\u7ea7\u8868\u4e0b\u7684\u6240\u6709\u5b50\u8868\u4e5f\u4f1a\u81ea\u52a8\u66f4\u65b0\u8be5\u6807\u7b7e\u540d\u3002"),(0,r.kt)("h4",{id:"\u4fee\u6539\u6807\u7b7e\u5217\u5bbd\u5ea6"},"\u4fee\u6539\u6807\u7b7e\u5217\u5bbd\u5ea6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER STABLE stb_name MODIFY TAG tag_name data_type(length);\n")),(0,r.kt)("p",null,"\u5982\u679c\u6807\u7b7e\u7684\u7c7b\u578b\u662f\u53ef\u53d8\u957f\u683c\u5f0f\uff08BINARY \u6216 NCHAR\uff09\uff0c\u90a3\u4e48\u53ef\u4ee5\u4f7f\u7528\u6b64\u6307\u4ee4\u4fee\u6539\u5176\u5bbd\u5ea6\uff08\u53ea\u80fd\u6539\u5927\uff0c\u4e0d\u80fd\u6539\u5c0f\uff09\u3002\uff082.1.3.0 \u7248\u672c\u65b0\u589e\uff09"),(0,r.kt)("h4",{id:"\u4fee\u6539\u5b50\u8868\u6807\u7b7e\u503c"},"\u4fee\u6539\u5b50\u8868\u6807\u7b7e\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"ALTER TABLE tb_name SET TAG tag_name=new_tag_value;\n")),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\u9664\u4e86\u66f4\u65b0\u6807\u7b7e\u7684\u503c\u7684\u64cd\u4f5c\u662f\u9488\u5bf9\u5b50\u8868\u8fdb\u884c\uff0c\u5176\u4ed6\u6240\u6709\u7684\u6807\u7b7e\u64cd\u4f5c\uff08\u6dfb\u52a0\u6807\u7b7e\u3001\u5220\u9664\u6807\u7b7e\u7b49\uff09\u5747\u53ea\u80fd\u4f5c\u7528\u4e8e STable\uff0c\u4e0d\u80fd\u5bf9\u5355\u4e2a\u5b50\u8868\u64cd\u4f5c\u3002\u5bf9 STable \u6dfb\u52a0\u6807\u7b7e\u4ee5\u540e\uff0c\u4f9d\u6258\u4e8e\u8be5 STable \u5efa\u7acb\u7684\u6240\u6709\u8868\u5c06\u81ea\u52a8\u589e\u52a0\u4e86\u4e00\u4e2a\u6807\u7b7e\uff0c\u6240\u6709\u65b0\u589e\u6807\u7b7e\u7684\u9ed8\u8ba4\u503c\u90fd\u662f NULL\u3002"),(0,r.kt)("h2",{id:"\u6570\u636e\u5199\u5165"},"\u6570\u636e\u5199\u5165"),(0,r.kt)("h3",{id:"\u5199\u5165\u8bed\u6cd5"},"\u5199\u5165\u8bed\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO\n    tb_name\n        [USING stb_name [(tag1_name, ...)] TAGS (tag1_value, ...)]\n        [(field1_name, ...)]\n        VALUES (field1_value, ...) [(field1_value2, ...) ...] | FILE csv_file_path\n    [tb2_name\n        [USING stb_name [(tag1_name, ...)] TAGS (tag1_value, ...)]\n        [(field1_name, ...)]\n        VALUES (field1_value, ...) [(field1_value2, ...) ...] | FILE csv_file_path\n    ...];\n")),(0,r.kt)("h3",{id:"\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8bb0\u5f55"},"\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8bb0\u5f55"),(0,r.kt)("p",null,"\u6307\u5b9a\u5df2\u7ecf\u521b\u5efa\u597d\u7684\u6570\u636e\u5b50\u8868\u7684\u8868\u540d\uff0c\u5e76\u901a\u8fc7 VALUES \u5173\u952e\u5b57\u63d0\u4f9b\u4e00\u884c\u6216\u591a\u884c\u6570\u636e\uff0c\u5373\u53ef\u5411\u6570\u636e\u5e93\u5199\u5165\u8fd9\u4e9b\u6570\u636e\u3002\u4f8b\u5982\uff0c\u6267\u884c\u5982\u4e0b\u8bed\u53e5\u53ef\u4ee5\u5199\u5165\u4e00\u884c\u8bb0\u5f55\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d1001 VALUES (NOW, 10.2, 219, 0.32);\n")),(0,r.kt)("p",null,"\u6216\u8005\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u8bed\u53e5\u5199\u5165\u4e24\u884c\u8bb0\u5f55\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d1001 VALUES ('2021-07-13 14:06:32.272', 10.2, 219, 0.32) (1626164208000, 10.15, 217, 0.33);\n")),(0,r.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"\u5728\u7b2c\u4e8c\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u4e24\u884c\u8bb0\u5f55\u7684\u9996\u5217\u65f6\u95f4\u6233\u4f7f\u7528\u4e86\u4e0d\u540c\u683c\u5f0f\u7684\u5199\u6cd5\u3002\u5176\u4e2d\u5b57\u7b26\u4e32\u683c\u5f0f\u7684\u65f6\u95f4\u6233\u5199\u6cd5\u4e0d\u53d7\u6240\u5728 DATABASE \u7684\u65f6\u95f4\u7cbe\u5ea6\u8bbe\u7f6e\u5f71\u54cd\uff1b\u800c\u957f\u6574\u5f62\u683c\u5f0f\u7684\u65f6\u95f4\u6233\u5199\u6cd5\u4f1a\u53d7\u5230\u6240\u5728 DATABASE \u7684\u65f6\u95f4\u7cbe\u5ea6\u8bbe\u7f6e\u5f71\u54cd\u2014\u2014\u4f8b\u5b50\u4e2d\u7684\u65f6\u95f4\u6233\u5728\u6beb\u79d2\u7cbe\u5ea6\u4e0b\u53ef\u4ee5\u5199\u4f5c 1626164208000\uff0c\u800c\u5982\u679c\u662f\u5728\u5fae\u79d2\u7cbe\u5ea6\u8bbe\u7f6e\u4e0b\u5c31\u9700\u8981\u5199\u4e3a 1626164208000000\uff0c\u7eb3\u79d2\u7cbe\u5ea6\u8bbe\u7f6e\u4e0b\u9700\u8981\u5199\u4e3a 1626164208000000000\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u4f7f\u7528\u201c\u63d2\u5165\u591a\u6761\u8bb0\u5f55\u201d\u65b9\u5f0f\u5199\u5165\u6570\u636e\u65f6\uff0c\u4e0d\u80fd\u628a\u7b2c\u4e00\u5217\u7684\u65f6\u95f4\u6233\u53d6\u503c\u90fd\u8bbe\u4e3a NOW\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u8bed\u53e5\u4e2d\u7684\u591a\u6761\u8bb0\u5f55\u4f7f\u7528\u76f8\u540c\u7684\u65f6\u95f4\u6233\uff0c\u4e8e\u662f\u5c31\u53ef\u80fd\u51fa\u73b0\u76f8\u4e92\u8986\u76d6\u4ee5\u81f4\u8fd9\u4e9b\u6570\u636e\u884c\u65e0\u6cd5\u5168\u90e8\u88ab\u6b63\u786e\u4fdd\u5b58\u3002\u5176\u539f\u56e0\u5728\u4e8e\uff0cNOW \u51fd\u6570\u5728\u6267\u884c\u4e2d\u4f1a\u88ab\u89e3\u6790\u4e3a\u6240\u5728 SQL \u8bed\u53e5\u7684\u5b9e\u9645\u6267\u884c\u65f6\u95f4\uff0c\u51fa\u73b0\u5728\u540c\u4e00\u8bed\u53e5\u4e2d\u7684\u591a\u4e2a NOW \u6807\u8bb0\u4e5f\u5c31\u4f1a\u88ab\u66ff\u6362\u4e3a\u5b8c\u5168\u76f8\u540c\u7684\u65f6\u95f4\u6233\u53d6\u503c\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5141\u8bb8\u63d2\u5165\u7684\u6700\u8001\u8bb0\u5f55\u7684\u65f6\u95f4\u6233\uff0c\u662f\u76f8\u5bf9\u4e8e\u5f53\u524d\u670d\u52a1\u5668\u65f6\u95f4\uff0c\u51cf\u53bb\u914d\u7f6e\u7684 keep \u503c\uff08\u6570\u636e\u4fdd\u7559\u7684\u5929\u6570\uff09\uff1b\u5141\u8bb8\u63d2\u5165\u7684\u6700\u65b0\u8bb0\u5f55\u7684\u65f6\u95f4\u6233\uff0c\u662f\u76f8\u5bf9\u4e8e\u5f53\u524d\u670d\u52a1\u5668\u65f6\u95f4\uff0c\u52a0\u4e0a\u914d\u7f6e\u7684 days \u503c\uff08\u6570\u636e\u6587\u4ef6\u5b58\u50a8\u6570\u636e\u7684\u65f6\u95f4\u8de8\u5ea6\uff0c\u5355\u4f4d\u4e3a\u5929\uff09\u3002keep \u548c days \u90fd\u662f\u53ef\u4ee5\u5728\u521b\u5efa\u6570\u636e\u5e93\u65f6\u6307\u5b9a\u7684\uff0c\u7f3a\u7701\u503c\u5206\u522b\u662f 3650 \u5929\u548c 10 \u5929\u3002")))),(0,r.kt)("h3",{id:"\u63d2\u5165\u8bb0\u5f55\u6570\u636e\u5bf9\u5e94\u5230\u6307\u5b9a\u7684\u5217"},"\u63d2\u5165\u8bb0\u5f55\uff0c\u6570\u636e\u5bf9\u5e94\u5230\u6307\u5b9a\u7684\u5217","*"),(0,r.kt)("p",null,"\u5411\u6570\u636e\u5b50\u8868\u4e2d\u63d2\u5165\u8bb0\u5f55\u65f6\uff0c\u65e0\u8bba\u63d2\u5165\u4e00\u884c\u8fd8\u662f\u591a\u884c\uff0c\u90fd\u53ef\u4ee5\u8ba9\u6570\u636e\u5bf9\u5e94\u5230\u6307\u5b9a\u7684\u5217\u3002\u5bf9\u4e8e SQL \u8bed\u53e5\u4e2d\u6ca1\u6709\u51fa\u73b0\u7684\u5217\uff0c\u6570\u636e\u5e93\u5c06\u81ea\u52a8\u586b\u5145\u4e3a NULL\u3002\u4e3b\u952e\uff08\u65f6\u95f4\u6233\uff09\u4e0d\u80fd\u4e3a NULL\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d1001 (ts, current, phase) VALUES ('2021-07-13 14:06:33.196', 10.27, 0.31);\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8bf4\u660e\uff1a"),"\u5982\u679c\u4e0d\u6307\u5b9a\u5217\uff0c\u4e5f\u5373\u4f7f\u7528\u5168\u5217\u6a21\u5f0f\u2014\u2014\u90a3\u4e48\u5728 VALUES \u90e8\u5206\u63d0\u4f9b\u7684\u6570\u636e\uff0c\u5fc5\u987b\u4e3a\u6570\u636e\u8868\u7684\u6bcf\u4e2a\u5217\u90fd\u663e\u5f0f\u5730\u63d0\u4f9b\u6570\u636e\u3002\u5168\u5217\u6a21\u5f0f\u5199\u5165\u901f\u5ea6\u4f1a\u8fdc\u5feb\u4e8e\u6307\u5b9a\u5217\uff0c\u56e0\u6b64\u5efa\u8bae\u5c3d\u53ef\u80fd\u91c7\u7528\u5168\u5217\u5199\u5165\u65b9\u5f0f\uff0c\u6b64\u65f6\u7a7a\u5217\u53ef\u4ee5\u586b\u5165 NULL\u3002"),(0,r.kt)("h3",{id:"\u5411\u591a\u4e2a\u8868\u63d2\u5165\u8bb0\u5f55"},"\u5411\u591a\u4e2a\u8868\u63d2\u5165\u8bb0\u5f55"),(0,r.kt)("p",null,"\u53ef\u4ee5\u5728\u4e00\u6761\u8bed\u53e5\u4e2d\uff0c\u5206\u522b\u5411\u591a\u4e2a\u8868\u63d2\u5165\u4e00\u6761\u6216\u591a\u6761\u8bb0\u5f55\uff0c\u5e76\u4e14\u4e5f\u53ef\u4ee5\u5728\u63d2\u5165\u8fc7\u7a0b\u4e2d\u6307\u5b9a\u5217\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d1001 VALUES ('2021-07-13 14:06:34.630', 10.2, 219, 0.32) ('2021-07-13 14:06:35.779', 10.15, 217, 0.33)\n            d1002 (ts, current, phase) VALUES ('2021-07-13 14:06:34.255', 10.27, 0.31\uff09;\n")),(0,r.kt)("h3",{id:"\u63d2\u5165\u8bb0\u5f55\u65f6\u81ea\u52a8\u5efa\u8868"},"\u63d2\u5165\u8bb0\u5f55\u65f6\u81ea\u52a8\u5efa\u8868"),(0,r.kt)("p",null,"\u5982\u679c\u7528\u6237\u5728\u5199\u6570\u636e\u65f6\u5e76\u4e0d\u786e\u5b9a\u67d0\u4e2a\u8868\u662f\u5426\u5b58\u5728\uff0c\u6b64\u65f6\u53ef\u4ee5\u5728\u5199\u5165\u6570\u636e\u65f6\u4f7f\u7528\u81ea\u52a8\u5efa\u8868\u8bed\u6cd5\u6765\u521b\u5efa\u4e0d\u5b58\u5728\u7684\u8868\uff0c\u82e5\u8be5\u8868\u5df2\u5b58\u5728\u5219\u4e0d\u4f1a\u5efa\u7acb\u65b0\u8868\u3002\u81ea\u52a8\u5efa\u8868\u65f6\uff0c\u8981\u6c42\u5fc5\u987b\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\uff0c\u5e76\u5199\u660e\u6570\u636e\u8868\u7684 TAGS \u53d6\u503c\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d21001 USING meters TAGS ('Beijing.Chaoyang', 2) VALUES ('2021-07-13 14:06:32.272', 10.2, 219, 0.32);\n")),(0,r.kt)("p",null,"\u4e5f\u53ef\u4ee5\u5728\u81ea\u52a8\u5efa\u8868\u65f6\uff0c\u53ea\u662f\u6307\u5b9a\u90e8\u5206 TAGS \u5217\u7684\u53d6\u503c\uff0c\u672a\u88ab\u6307\u5b9a\u7684 TAGS \u5217\u5c06\u7f6e\u4e3a NULL\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d21001 USING meters (groupId) TAGS (2) VALUES ('2021-07-13 14:06:33.196', 10.15, 217, 0.33);\n")),(0,r.kt)("p",null,"\u81ea\u52a8\u5efa\u8868\u8bed\u6cd5\u4e5f\u652f\u6301\u5728\u4e00\u6761\u8bed\u53e5\u4e2d\u5411\u591a\u4e2a\u8868\u63d2\u5165\u8bb0\u5f55\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d21001 USING meters TAGS ('Beijing.Chaoyang', 2) VALUES ('2021-07-13 14:06:34.630', 10.2, 219, 0.32) ('2021-07-13 14:06:35.779', 10.15, 217, 0.33)\n            d21002 USING meters (groupId) TAGS (2) VALUES ('2021-07-13 14:06:34.255', 10.15, 217, 0.33)\n            d21003 USING meters (groupId) TAGS (2) (ts, current, phase) VALUES ('2021-07-13 14:06:34.255', 10.27, 0.31);\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u5728 2.0.20.5 \u7248\u672c\u4e4b\u524d\uff0c\u5728\u4f7f\u7528\u81ea\u52a8\u5efa\u8868\u8bed\u6cd5\u5e76\u6307\u5b9a\u5217\u65f6\uff0c\u5b50\u8868\u7684\u5217\u540d\u5fc5\u987b\u7d27\u8ddf\u5728\u5b50\u8868\u540d\u79f0\u540e\u9762\uff0c\u800c\u4e0d\u80fd\u5982\u4f8b\u5b50\u91cc\u90a3\u6837\u653e\u5728 TAGS \u548c VALUES \u4e4b\u95f4\u3002\u4ece 2.0.20.5 \u7248\u672c\u5f00\u59cb\uff0c\u4e24\u79cd\u5199\u6cd5\u90fd\u53ef\u4ee5\uff0c\u4f46\u4e0d\u80fd\u5728\u4e00\u6761 SQL \u8bed\u53e5\u4e2d\u6df7\u7528\uff0c\u5426\u5219\u4f1a\u62a5\u8bed\u6cd5\u9519\u8bef\u3002"))),(0,r.kt)("h3",{id:"\u63d2\u5165\u6765\u81ea\u6587\u4ef6\u7684\u6570\u636e\u8bb0\u5f55"},"\u63d2\u5165\u6765\u81ea\u6587\u4ef6\u7684\u6570\u636e\u8bb0\u5f55"),(0,r.kt)("p",null,"\u9664\u4e86\u4f7f\u7528 VALUES \u5173\u952e\u5b57\u63d2\u5165\u4e00\u884c\u6216\u591a\u884c\u6570\u636e\u5916\uff0c\u4e5f\u53ef\u4ee5\u628a\u8981\u5199\u5165\u7684\u6570\u636e\u653e\u5728 CSV \u6587\u4ef6\u4e2d\uff08\u82f1\u6587\u9017\u53f7\u5206\u9694\u3001\u82f1\u6587\u5355\u5f15\u53f7\u62ec\u4f4f\u6bcf\u4e2a\u503c\uff09\u4f9b SQL \u6307\u4ee4\u8bfb\u53d6\u3002\u5176\u4e2d CSV \u6587\u4ef6\u65e0\u9700\u8868\u5934\u3002\u4f8b\u5982\uff0c\u5982\u679c /tmp/csvfile.csv \u6587\u4ef6\u7684\u5185\u5bb9\u4e3a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"'2021-07-13 14:07:34.630', '10.2', '219', '0.32'\n'2021-07-13 14:07:35.779', '10.15', '217', '0.33'\n")),(0,r.kt)("p",null,"\u90a3\u4e48\u901a\u8fc7\u5982\u4e0b\u6307\u4ee4\u53ef\u4ee5\u628a\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5199\u5165\u5b50\u8868\u4e2d\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d1001 FILE '/tmp/csvfile.csv';\n")),(0,r.kt)("h3",{id:"\u63d2\u5165\u6765\u81ea\u6587\u4ef6\u7684\u6570\u636e\u8bb0\u5f55\u5e76\u81ea\u52a8\u5efa\u8868"},"\u63d2\u5165\u6765\u81ea\u6587\u4ef6\u7684\u6570\u636e\u8bb0\u5f55\uff0c\u5e76\u81ea\u52a8\u5efa\u8868"),(0,r.kt)("p",null,"\u4ece 2.1.5.0 \u7248\u672c\u5f00\u59cb\uff0c\u652f\u6301\u5728\u63d2\u5165\u6765\u81ea CSV \u6587\u4ef6\u7684\u6570\u636e\u65f6\uff0c\u4ee5\u8d85\u7ea7\u8868\u4e3a\u6a21\u677f\u6765\u81ea\u52a8\u521b\u5efa\u4e0d\u5b58\u5728\u7684\u6570\u636e\u8868\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d21001 USING meters TAGS ('Beijing.Chaoyang', 2) FILE '/tmp/csvfile.csv';\n")),(0,r.kt)("p",null,"\u4e5f\u53ef\u4ee5\u5728\u4e00\u6761\u8bed\u53e5\u4e2d\u5411\u591a\u4e2a\u8868\u4ee5\u81ea\u52a8\u5efa\u8868\u7684\u65b9\u5f0f\u63d2\u5165\u8bb0\u5f55\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"INSERT INTO d21001 USING meters TAGS ('Beijing.Chaoyang', 2) FILE '/tmp/csvfile_21001.csv'\n            d21002 USING meters (groupId) TAGS (2) FILE '/tmp/csvfile_21002.csv';\n")),(0,r.kt)("h3",{id:"\u5386\u53f2\u8bb0\u5f55\u5199\u5165"},"\u5386\u53f2\u8bb0\u5f55\u5199\u5165"),(0,r.kt)("p",null,"\u53ef\u4f7f\u7528 IMPORT \u6216\u8005 INSERT \u547d\u4ee4\uff0cIMPORT \u7684\u8bed\u6cd5\uff0c\u529f\u80fd\u4e0e INSERT \u5b8c\u5168\u4e00\u6837\u3002"),(0,r.kt)("p",null,"\u9488\u5bf9 insert \u7c7b\u578b\u7684 SQL \u8bed\u53e5\uff0c\u6211\u4eec\u91c7\u7528\u7684\u6d41\u5f0f\u89e3\u6790\u7b56\u7565\uff0c\u5728\u53d1\u73b0\u540e\u9762\u7684\u9519\u8bef\u4e4b\u524d\uff0c\u524d\u9762\u6b63\u786e\u7684\u90e8\u5206 SQL \u4ecd\u4f1a\u6267\u884c\u3002\u4e0b\u9762\u7684 SQL \u4e2d\uff0cINSERT \u8bed\u53e5\u662f\u65e0\u6548\u7684\uff0c\u4f46\u662f d1001 \u4ecd\u4f1a\u88ab\u521b\u5efa\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> CREATE TABLE meters(ts TIMESTAMP, current FLOAT, voltage INT, phase FLOAT) TAGS(location BINARY(30), groupId INT);\nQuery OK, 0 row(s) affected (0.008245s)\n\ntaos> SHOW STABLES;\n              name              |      created_time       | columns |  tags  |   tables    |\n============================================================================================\n meters                         | 2020-08-06 17:50:27.831 |       4 |      2 |           0 |\nQuery OK, 1 row(s) in set (0.001029s)\n\ntaos> SHOW TABLES;\nQuery OK, 0 row(s) in set (0.000946s)\n\ntaos> INSERT INTO d1001 USING meters TAGS('Beijing.Chaoyang', 2) VALUES('a');\n\nDB error: invalid SQL: 'a' (invalid timestamp) (0.039494s)\n\ntaos> SHOW TABLES;\n           table_name           |      created_time       | columns |          stable_name           |\n======================================================================================================\n d1001                          | 2020-08-06 17:52:02.097 |       4 | meters                         |\nQuery OK, 1 row(s) in set (0.001091s)\n")),(0,r.kt)("h2",{id:"\u6570\u636e\u67e5\u8be2"},"\u6570\u636e\u67e5\u8be2"),(0,r.kt)("h3",{id:"\u67e5\u8be2\u8bed\u6cd5"},"\u67e5\u8be2\u8bed\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT select_expr [, select_expr ...]\n    FROM {tb_name_list}\n    [WHERE where_condition]\n    [SESSION(ts_col, tol_val)]\n    [STATE_WINDOW(col)]\n    [INTERVAL(interval_val [, interval_offset]) [SLIDING sliding_val]]\n    [FILL(fill_mod_and_val)]\n    [GROUP BY col_list]\n    [ORDER BY col_list { DESC | ASC }]\n    [SLIMIT limit_val [SOFFSET offset_val]]\n    [LIMIT limit_val [OFFSET offset_val]]\n    [>> export_file];\n")),(0,r.kt)("h3",{id:"\u901a\u914d\u7b26"},"\u901a\u914d\u7b26"),(0,r.kt)("p",null,"\u901a\u914d\u7b26 ","*"," \u53ef\u4ee5\u7528\u4e8e\u4ee3\u6307\u5168\u90e8\u5217\u3002\u5bf9\u4e8e\u666e\u901a\u8868\uff0c\u7ed3\u679c\u4e2d\u53ea\u6709\u666e\u901a\u5217\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT * FROM d1001;\n           ts            |       current        |   voltage   |        phase         |\n======================================================================================\n 2018-10-03 14:38:05.000 |             10.30000 |         219 |              0.31000 |\n 2018-10-03 14:38:15.000 |             12.60000 |         218 |              0.33000 |\n 2018-10-03 14:38:16.800 |             12.30000 |         221 |              0.31000 |\nQuery OK, 3 row(s) in set (0.001165s)\n")),(0,r.kt)("p",null,"\u5728\u9488\u5bf9\u8d85\u7ea7\u8868\uff0c\u901a\u914d\u7b26\u5305\u542b ",(0,r.kt)("em",{parentName:"p"},"\u6807\u7b7e\u5217")," \u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT * FROM meters;\n           ts            |       current        |   voltage   |        phase         |            location            |   groupid   |\n=====================================================================================================================================\n 2018-10-03 14:38:05.500 |             11.80000 |         221 |              0.28000 | Beijing.Haidian                |           2 |\n 2018-10-03 14:38:16.600 |             13.40000 |         223 |              0.29000 | Beijing.Haidian                |           2 |\n 2018-10-03 14:38:05.000 |             10.80000 |         223 |              0.29000 | Beijing.Haidian                |           3 |\n 2018-10-03 14:38:06.500 |             11.50000 |         221 |              0.35000 | Beijing.Haidian                |           3 |\n 2018-10-03 14:38:04.000 |             10.20000 |         220 |              0.23000 | Beijing.Chaoyang               |           3 |\n 2018-10-03 14:38:16.650 |             10.30000 |         218 |              0.25000 | Beijing.Chaoyang               |           3 |\n 2018-10-03 14:38:05.000 |             10.30000 |         219 |              0.31000 | Beijing.Chaoyang               |           2 |\n 2018-10-03 14:38:15.000 |             12.60000 |         218 |              0.33000 | Beijing.Chaoyang               |           2 |\n 2018-10-03 14:38:16.800 |             12.30000 |         221 |              0.31000 | Beijing.Chaoyang               |           2 |\nQuery OK, 9 row(s) in set (0.002022s)\n")),(0,r.kt)("p",null,"\u901a\u914d\u7b26\u652f\u6301\u8868\u540d\u524d\u7f00\uff0c\u4ee5\u4e0b\u4e24\u4e2a SQL \u8bed\u53e5\u5747\u4e3a\u8fd4\u56de\u5168\u90e8\u7684\u5217\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT * FROM d1001;\nSELECT d1001.* FROM d1001;\n")),(0,r.kt)("p",null,"\u5728 JOIN \u67e5\u8be2\u4e2d\uff0c\u5e26\u524d\u7f00\u7684","*","\u548c\u4e0d\u5e26\u524d\u7f00","*","\u8fd4\u56de\u7684\u7ed3\u679c\u6709\u5dee\u522b\uff0c ","*","\u8fd4\u56de\u5168\u90e8\u8868\u7684\u6240\u6709\u5217\u6570\u636e\uff08\u4e0d\u5305\u542b\u6807\u7b7e\uff09\uff0c\u5e26\u524d\u7f00\u7684\u901a\u914d\u7b26\uff0c\u5219\u53ea\u8fd4\u56de\u8be5\u8868\u7684\u5217\u6570\u636e\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT * FROM d1001, d1003 WHERE d1001.ts=d1003.ts;\n           ts            | current |   voltage   |    phase     |           ts            | current |   voltage   |    phase     |\n==================================================================================================================================\n 2018-10-03 14:38:05.000 | 10.30000|         219 |      0.31000 | 2018-10-03 14:38:05.000 | 10.80000|         223 |      0.29000 |\nQuery OK, 1 row(s) in set (0.017385s)\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT d1001.* FROM d1001,d1003 WHERE d1001.ts = d1003.ts;\n           ts            |       current        |   voltage   |        phase         |\n======================================================================================\n 2018-10-03 14:38:05.000 |             10.30000 |         219 |              0.31000 |\nQuery OK, 1 row(s) in set (0.020443s)\n")),(0,r.kt)("p",null,"\u5728\u4f7f\u7528 SQL \u51fd\u6570\u6765\u8fdb\u884c\u67e5\u8be2\u7684\u8fc7\u7a0b\u4e2d\uff0c\u90e8\u5206 SQL \u51fd\u6570\u652f\u6301\u901a\u914d\u7b26\u64cd\u4f5c\u3002\u5176\u4e2d\u7684\u533a\u522b\u5728\u4e8e\uff1a\n",(0,r.kt)("inlineCode",{parentName:"p"},"count(*)"),"\u51fd\u6570\u53ea\u8fd4\u56de\u4e00\u5217\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"first"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"last"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"last_row"),"\u51fd\u6570\u5219\u662f\u8fd4\u56de\u5168\u90e8\u5217\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT COUNT(*) FROM d1001;\n       count(*)        |\n========================\n                     3 |\nQuery OK, 1 row(s) in set (0.001035s)\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT FIRST(*) FROM d1001;\n        first(ts)        |    first(current)    | first(voltage) |     first(phase)     |\n=========================================================================================\n 2018-10-03 14:38:05.000 |             10.30000 |            219 |              0.31000 |\nQuery OK, 1 row(s) in set (0.000849s)\n")),(0,r.kt)("h3",{id:"\u6807\u7b7e\u5217"},"\u6807\u7b7e\u5217"),(0,r.kt)("p",null,"\u4ece 2.0.14 \u7248\u672c\u5f00\u59cb\uff0c\u652f\u6301\u5728\u666e\u901a\u8868\u7684\u67e5\u8be2\u4e2d\u6307\u5b9a ",(0,r.kt)("em",{parentName:"p"},"\u6807\u7b7e\u5217"),"\uff0c\u4e14\u6807\u7b7e\u5217\u7684\u503c\u4f1a\u4e0e\u666e\u901a\u5217\u7684\u6570\u636e\u4e00\u8d77\u8fd4\u56de\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT location, groupid, current FROM d1001 LIMIT 2;\n            location            |   groupid   |       current        |\n======================================================================\n Beijing.Chaoyang               |           2 |             10.30000 |\n Beijing.Chaoyang               |           2 |             12.60000 |\nQuery OK, 2 row(s) in set (0.003112s)\n")),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a\u666e\u901a\u8868\u7684\u901a\u914d\u7b26 ","*"," \u4e2d\u5e76\u4e0d\u5305\u542b ",(0,r.kt)("em",{parentName:"p"},"\u6807\u7b7e\u5217"),"\u3002"),(0,r.kt)("h3",{id:"\u83b7\u53d6\u6807\u7b7e\u5217\u6216\u666e\u901a\u5217\u7684\u53bb\u91cd\u53d6\u503c"},"\u83b7\u53d6\u6807\u7b7e\u5217\u6216\u666e\u901a\u5217\u7684\u53bb\u91cd\u53d6\u503c"),(0,r.kt)("p",null,"\u4ece 2.0.15.0 \u7248\u672c\u5f00\u59cb\uff0c\u652f\u6301\u5728\u8d85\u7ea7\u8868\u67e5\u8be2\u6807\u7b7e\u5217\u65f6\uff0c\u6307\u5b9a DISTINCT \u5173\u952e\u5b57\uff0c\u8fd9\u6837\u5c06\u8fd4\u56de\u6307\u5b9a\u6807\u7b7e\u5217\u7684\u6240\u6709\u4e0d\u91cd\u590d\u53d6\u503c\u3002\u6ce8\u610f\uff0c\u5728 2.1.6.0 \u7248\u672c\u4e4b\u524d\uff0cDISTINCT \u53ea\u652f\u6301\u5904\u7406\u5355\u4e2a\u6807\u7b7e\u5217\uff0c\u800c\u4ece 2.1.6.0 \u7248\u672c\u5f00\u59cb\uff0cDISTINCT \u53ef\u4ee5\u5bf9\u591a\u4e2a\u6807\u7b7e\u5217\u8fdb\u884c\u5904\u7406\uff0c\u8f93\u51fa\u8fd9\u4e9b\u6807\u7b7e\u5217\u53d6\u503c\u4e0d\u91cd\u590d\u7684\u7ec4\u5408\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT DISTINCT tag_name [, tag_name ...] FROM stb_name;\n")),(0,r.kt)("p",null,"\u4ece 2.1.7.0 \u7248\u672c\u5f00\u59cb\uff0cDISTINCT \u4e5f\u652f\u6301\u5bf9\u6570\u636e\u5b50\u8868\u6216\u666e\u901a\u8868\u8fdb\u884c\u5904\u7406\uff0c\u4e5f\u5373\u652f\u6301\u83b7\u53d6\u5355\u4e2a\u666e\u901a\u5217\u7684\u4e0d\u91cd\u590d\u53d6\u503c\uff0c\u6216\u591a\u4e2a\u666e\u901a\u5217\u53d6\u503c\u7684\u4e0d\u91cd\u590d\u7ec4\u5408\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT DISTINCT col_name [, col_name ...] FROM tb_name;\n")),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"cfg \u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u53c2\u6570 maxNumOfDistinctRes \u5c06\u5bf9 DISTINCT \u80fd\u591f\u8f93\u51fa\u7684\u6570\u636e\u884c\u6570\u8fdb\u884c\u9650\u5236\u3002\u5176\u6700\u5c0f\u503c\u662f 100000\uff0c\u6700\u5927\u503c\u662f 100000000\uff0c\u9ed8\u8ba4\u503c\u662f 10000000\u3002\u5982\u679c\u5b9e\u9645\u8ba1\u7b97\u7ed3\u679c\u8d85\u51fa\u4e86\u8fd9\u4e2a\u9650\u5236\uff0c\u90a3\u4e48\u4f1a\u4ec5\u8f93\u51fa\u8fd9\u4e2a\u6570\u91cf\u8303\u56f4\u5185\u7684\u90e8\u5206\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u7531\u4e8e\u6d6e\u70b9\u6570\u5929\u7136\u7684\u7cbe\u5ea6\u673a\u5236\u539f\u56e0\uff0c\u5728\u7279\u5b9a\u60c5\u51b5\u4e0b\uff0c\u5bf9 FLOAT \u548c DOUBLE \u5217\u4f7f\u7528 DISTINCT \u5e76\u4e0d\u80fd\u4fdd\u8bc1\u8f93\u51fa\u503c\u7684\u5b8c\u5168\u552f\u4e00\u6027\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u5f53\u524d\u7248\u672c\u4e0b\uff0cDISTINCT \u4e0d\u80fd\u5728\u5d4c\u5957\u67e5\u8be2\u7684\u5b50\u67e5\u8be2\u4e2d\u4f7f\u7528\uff0c\u4e5f\u4e0d\u80fd\u4e0e\u805a\u5408\u51fd\u6570\u3001GROUP BY\u3001\u6216 JOIN \u5728\u540c\u4e00\u6761\u8bed\u53e5\u4e2d\u6df7\u7528\u3002")),(0,r.kt)("h3",{id:"\u7ed3\u679c\u96c6\u5217\u540d"},"\u7ed3\u679c\u96c6\u5217\u540d"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"SELECT"),"\u5b50\u53e5\u4e2d\uff0c\u5982\u679c\u4e0d\u6307\u5b9a\u8fd4\u56de\u7ed3\u679c\u96c6\u5408\u7684\u5217\u540d\uff0c\u7ed3\u679c\u96c6\u5217\u540d\u79f0\u9ed8\u8ba4\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"SELECT"),"\u5b50\u53e5\u4e2d\u7684\u8868\u8fbe\u5f0f\u540d\u79f0\u4f5c\u4e3a\u5217\u540d\u79f0\u3002\u6b64\u5916\uff0c\u7528\u6237\u53ef\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"AS"),"\u6765\u91cd\u547d\u540d\u8fd4\u56de\u7ed3\u679c\u96c6\u5408\u4e2d\u5217\u7684\u540d\u79f0\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT ts, ts AS primary_key_ts FROM d1001;\n           ts            |     primary_key_ts      |\n====================================================\n 2018-10-03 14:38:05.000 | 2018-10-03 14:38:05.000 |\n 2018-10-03 14:38:15.000 | 2018-10-03 14:38:15.000 |\n 2018-10-03 14:38:16.800 | 2018-10-03 14:38:16.800 |\nQuery OK, 3 row(s) in set (0.001191s)\n")),(0,r.kt)("p",null,"\u4f46\u662f\u9488\u5bf9",(0,r.kt)("inlineCode",{parentName:"p"},"first(*)"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"last(*)"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"last_row(*)"),"\u4e0d\u652f\u6301\u9488\u5bf9\u5355\u5217\u7684\u91cd\u547d\u540d\u3002"),(0,r.kt)("h3",{id:"\u9690\u5f0f\u7ed3\u679c\u5217"},"\u9690\u5f0f\u7ed3\u679c\u5217"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Select_exprs"),"\u53ef\u4ee5\u662f\u8868\u6240\u5c5e\u5217\u7684\u5217\u540d\uff0c\u4e5f\u53ef\u4ee5\u662f\u57fa\u4e8e\u5217\u7684\u51fd\u6570\u8868\u8fbe\u5f0f\u6216\u8ba1\u7b97\u5f0f\uff0c\u6570\u91cf\u7684\u4e0a\u9650 256 \u4e2a\u3002\u5f53\u7528\u6237\u4f7f\u7528\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"interval"),"\u6216",(0,r.kt)("inlineCode",{parentName:"p"},"group by tags"),"\u7684\u5b50\u53e5\u4ee5\u540e\uff0c\u5728\u6700\u540e\u8fd4\u56de\u7ed3\u679c\u4e2d\u4f1a\u5f3a\u5236\u8fd4\u56de\u65f6\u95f4\u6233\u5217\uff08\u7b2c\u4e00\u5217\uff09\u548c group by \u5b50\u53e5\u4e2d\u7684\u6807\u7b7e\u5217\u3002\u540e\u7eed\u7684\u7248\u672c\u4e2d\u53ef\u4ee5\u652f\u6301\u5173\u95ed group by \u5b50\u53e5\u4e2d\u9690\u5f0f\u5217\u7684\u8f93\u51fa\uff0c\u5217\u8f93\u51fa\u5b8c\u5168\u7531 select \u5b50\u53e5\u63a7\u5236\u3002"),(0,r.kt)("h3",{id:"\u8868\u8d85\u7ea7\u8868\u5217\u8868"},"\u8868\uff08\u8d85\u7ea7\u8868\uff09\u5217\u8868"),(0,r.kt)("p",null,"FROM \u5173\u952e\u5b57\u540e\u9762\u53ef\u4ee5\u662f\u82e5\u5e72\u4e2a\u8868\uff08\u8d85\u7ea7\u8868\uff09\u5217\u8868\uff0c\u4e5f\u53ef\u4ee5\u662f\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u3002\n\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u7528\u6237\u7684\u5f53\u524d\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u5728\u8868\u540d\u79f0\u4e4b\u524d\u4f7f\u7528\u6570\u636e\u5e93\u7684\u540d\u79f0\u6765\u6307\u5b9a\u8868\u6240\u5c5e\u7684\u6570\u636e\u5e93\u3002\u4f8b\u5982\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"power.d1001")," \u65b9\u5f0f\u6765\u8de8\u5e93\u4f7f\u7528\u8868\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT * FROM power.d1001;\n------------------------------\nUSE power;\nSELECT * FROM d1001;\n")),(0,r.kt)("h3",{id:"\u7279\u6b8a\u529f\u80fd"},"\u7279\u6b8a\u529f\u80fd"),(0,r.kt)("p",null,"\u90e8\u5206\u7279\u6b8a\u7684\u67e5\u8be2\u529f\u80fd\u53ef\u4ee5\u4e0d\u4f7f\u7528 FROM \u5b50\u53e5\u6267\u884c\u3002\u83b7\u53d6\u5f53\u524d\u6240\u5728\u7684\u6570\u636e\u5e93 database()\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT DATABASE();\n           database()           |\n=================================\n power                          |\nQuery OK, 1 row(s) in set (0.000079s)\n")),(0,r.kt)("p",null,"\u5982\u679c\u767b\u5f55\u7684\u65f6\u5019\u6ca1\u6709\u6307\u5b9a\u9ed8\u8ba4\u6570\u636e\u5e93\uff0c\u4e14\u6ca1\u6709\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"USE"),"\u547d\u4ee4\u5207\u6362\u6570\u636e\uff0c\u5219\u8fd4\u56de NULL\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT DATABASE();\n           database()           |\n=================================\n NULL                           |\nQuery OK, 1 row(s) in set (0.000184s)\n")),(0,r.kt)("p",null,"\u83b7\u53d6\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7248\u672c\u53f7\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT CLIENT_VERSION();\n client_version() |\n===================\n 2.0.0.0          |\nQuery OK, 1 row(s) in set (0.000070s)\n\ntaos> SELECT SERVER_VERSION();\n server_version() |\n===================\n 2.0.0.0          |\nQuery OK, 1 row(s) in set (0.000077s)\n")),(0,r.kt)("p",null,"\u670d\u52a1\u5668\u72b6\u6001\u68c0\u6d4b\u8bed\u53e5\u3002\u5982\u679c\u670d\u52a1\u5668\u6b63\u5e38\uff0c\u8fd4\u56de\u4e00\u4e2a\u6570\u5b57\uff08\u4f8b\u5982 1\uff09\u3002\u5982\u679c\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8fd4\u56de error code\u3002\u8be5 SQL \u8bed\u6cd5\u80fd\u517c\u5bb9\u8fde\u63a5\u6c60\u5bf9\u4e8e TDengine \u72b6\u6001\u7684\u68c0\u67e5\u53ca\u7b2c\u4e09\u65b9\u5de5\u5177\u5bf9\u4e8e\u6570\u636e\u5e93\u670d\u52a1\u5668\u72b6\u6001\u7684\u68c0\u67e5\u3002\u5e76\u53ef\u4ee5\u907f\u514d\u51fa\u73b0\u4f7f\u7528\u4e86\u9519\u8bef\u7684\u5fc3\u8df3\u68c0\u6d4b SQL \u8bed\u53e5\u5bfc\u81f4\u7684\u8fde\u63a5\u6c60\u8fde\u63a5\u4e22\u5931\u7684\u95ee\u9898\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT SERVER_STATUS();\n server_status() |\n==================\n               1 |\nQuery OK, 1 row(s) in set (0.000074s)\n\ntaos> SELECT SERVER_STATUS() AS status;\n   status    |\n==============\n           1 |\nQuery OK, 1 row(s) in set (0.000081s)\n")),(0,r.kt)("h3",{id:"_block_dist-\u51fd\u6570"},"_","block_dist \u51fd\u6570"),(0,r.kt)("p",null,"\u7528\u4e8e\u83b7\u5f97\u6307\u5b9a\u7684\uff08\u8d85\u7ea7\uff09\u8868\u7684\u6570\u636e\u5757\u5206\u5e03\u4fe1\u606f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-txt",metastring:'title="\u8bed\u6cd5"',title:'"\u8bed\u6cd5"'},"SELECT _block_dist() FROM { tb_name | stb_name }\n")),(0,r.kt)("p",null,"\u8fd4\u56de\u7ed3\u679c\u7c7b\u578b\uff1a\u5b57\u7b26\u4e32\u3002"),(0,r.kt)("p",null,"\u9002\u7528\u6570\u636e\u7c7b\u578b\uff1a\u4e0d\u80fd\u8f93\u5165\u4efb\u4f55\u53c2\u6570\u3002"),(0,r.kt)("p",null,"\u5d4c\u5957\u5b50\u67e5\u8be2\u652f\u6301\uff1a\u4e0d\u652f\u6301\u5b50\u67e5\u8be2\u6216\u5d4c\u5957\u67e5\u8be2\u3002"),(0,r.kt)("p",null,"\u8fd4\u56de FROM \u5b50\u53e5\u4e2d\u8f93\u5165\u7684\u8868\u6216\u8d85\u7ea7\u8868\u7684\u6570\u636e\u5757\u5206\u5e03\u60c5\u51b5\u3002\u4e0d\u652f\u6301\u67e5\u8be2\u6761\u4ef6\u3002"),(0,r.kt)("p",null,"\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u8be5\u8868\u6216\u8d85\u7ea7\u8868\u7684\u6570\u636e\u5757\u6240\u5305\u542b\u7684\u884c\u6570\u7684\u6570\u636e\u5206\u5e03\u76f4\u65b9\u56fe\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-txt",metastring:'title="\u8fd4\u56de\u7ed3\u679c"',title:'"\u8fd4\u56de\u7ed3\u679c"'},"summary:\n5th=[392], 10th=[392], 20th=[392], 30th=[392], 40th=[792], 50th=[792] 60th=[792], 70th=[792], 80th=[792], 90th=[792], 95th=[792], 99th=[792] Min=[392(Rows)] Max=[800(Rows)] Avg=[666(Rows)] Stddev=[2.17] Rows=[2000], Blocks=[3], Size=[5.440(Kb)] Comp=[0.23] RowsInMem=[0] SeekHeaderTime=[1(us)]\n")),(0,r.kt)("p",null,"\u4e0a\u8ff0\u4fe1\u606f\u7684\u8bf4\u660e\u5982\u4e0b\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u67e5\u8be2\u7684\uff08\u8d85\u7ea7\uff09\u8868\u6240\u5305\u542b\u7684\u5b58\u50a8\u5728\u6587\u4ef6\u4e2d\u7684\u6570\u636e\u5757\uff08data block\uff09\u4e2d\u6240\u5305\u542b\u7684\u6570\u636e\u884c\u7684\u6570\u91cf\u5206\u5e03\u76f4\u65b9\u56fe\u4fe1\u606f\uff1a5%\uff0c 10%\uff0c 20%\uff0c 30%\uff0c 40%\uff0c 50%\uff0c 60%\uff0c 70%\uff0c 80%\uff0c 90%\uff0c 95%\uff0c 99% \u7684\u6570\u503c\uff1b"),(0,r.kt)("li",{parentName:"ol"},"\u6240\u6709\u6570\u636e\u5757\u4e2d\uff0c\u5305\u542b\u884c\u6570\u6700\u5c11\u7684\u6570\u636e\u5757\u6240\u5305\u542b\u7684\u884c\u6570\u91cf\uff0c \u5176\u4e2d\u7684 Min \u6307\u6807 392 \u884c\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u6240\u6709\u6570\u636e\u5757\u4e2d\uff0c\u5305\u542b\u884c\u6570\u6700\u591a\u7684\u6570\u636e\u5757\u6240\u5305\u542b\u7684\u884c\u6570\u91cf\uff0c \u5176\u4e2d\u7684 Max \u6307\u6807 800 \u884c\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u6240\u6709\u6570\u636e\u5757\u884c\u6570\u7684\u7b97\u6570\u5e73\u5747\u503c 666 \u884c\uff08\u5176\u4e2d\u7684 Avg \u9879\uff09\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u6240\u6709\u6570\u636e\u5757\u4e2d\u884c\u6570\u5206\u5e03\u7684\u5747\u65b9\u5dee\u4e3a 2.17 ( stddev \uff09\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u6570\u636e\u5757\u5305\u542b\u7684\u884c\u7684\u603b\u6570\u4e3a 2000 \u884c\uff08Rows\uff09\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u6570\u636e\u5757\u603b\u6570\u662f 3 \u4e2a\u6570\u636e\u5757 \uff08Blocks\uff09\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u6570\u636e\u5757\u5360\u7528\u78c1\u76d8\u7a7a\u95f4\u5927\u5c0f 5.44 Kb \uff08size\uff09\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u538b\u7f29\u540e\u7684\u6570\u636e\u5757\u7684\u5927\u5c0f\u9664\u4ee5\u539f\u59cb\u6570\u636e\u7684\u6240\u83b7\u5f97\u7684\u538b\u7f29\u6bd4\u4f8b\uff1a 23%\uff08Comp\uff09\uff0c\u53ca\u538b\u7f29\u540e\u7684\u6570\u636e\u89c4\u6a21\u662f\u539f\u59cb\u6570\u636e\u89c4\u6a21\u7684 23%\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5185\u5b58\u4e2d\u5b58\u5728\u7684\u6570\u636e\u884c\u6570\u662f 0\uff0c\u8868\u793a\u5185\u5b58\u4e2d\u6ca1\u6709\u6570\u636e\u7f13\u5b58\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u83b7\u53d6\u6570\u636e\u5757\u4fe1\u606f\u7684\u8fc7\u7a0b\u4e2d\u8bfb\u53d6\u5934\u6587\u4ef6\u7684\u65f6\u95f4\u5f00\u9500 1 \u5fae\u79d2\uff08SeekHeaderTime\uff09\u3002")),(0,r.kt)("p",null,"\u652f\u6301\u7248\u672c\uff1a\u6307\u5b9a\u8ba1\u7b97\u7b97\u6cd5\u7684\u529f\u80fd\u4ece 2.1.0.x \u7248\u672c\u5f00\u59cb\uff0c2.1.0.0 \u4e4b\u524d\u7684\u7248\u672c\u4e0d\u652f\u6301\u6307\u5b9a\u4f7f\u7528\u7b97\u6cd5\u7684\u529f\u80fd\u3002"),(0,r.kt)("h3",{id:"taos-sql-\u4e2d\u7279\u6b8a\u5173\u952e\u8bcd"},"TAOS SQL \u4e2d\u7279\u6b8a\u5173\u952e\u8bcd"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"TBNAME"),"\uff1a \u5728\u8d85\u7ea7\u8868\u67e5\u8be2\u4e2d\u53ef\u89c6\u4e3a\u4e00\u4e2a\u7279\u6b8a\u7684\u6807\u7b7e\uff0c\u4ee3\u8868\u67e5\u8be2\u6d89\u53ca\u7684\u5b50\u8868\u540d"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"_c0"),": \u8868\u793a\u8868\uff08\u8d85\u7ea7\u8868\uff09\u7684\u7b2c\u4e00\u5217")),(0,r.kt)("h3",{id:"\u5c0f\u6280\u5de7"},"\u5c0f\u6280\u5de7"),(0,r.kt)("p",null,"\u83b7\u53d6\u4e00\u4e2a\u8d85\u7ea7\u8868\u6240\u6709\u7684\u5b50\u8868\u540d\u53ca\u76f8\u5173\u7684\u6807\u7b7e\u4fe1\u606f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT TBNAME, location FROM meters;\n")),(0,r.kt)("p",null,"\u7edf\u8ba1\u8d85\u7ea7\u8868\u4e0b\u8f96\u5b50\u8868\u6570\u91cf\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT COUNT(TBNAME) FROM meters;\n")),(0,r.kt)("p",null,"\u4ee5\u4e0a\u4e24\u4e2a\u67e5\u8be2\u5747\u53ea\u652f\u6301\u5728 WHERE \u6761\u4ef6\u5b50\u53e5\u4e2d\u6dfb\u52a0\u9488\u5bf9\u6807\u7b7e\uff08TAGS\uff09\u7684\u8fc7\u6ee4\u6761\u4ef6\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT TBNAME, location FROM meters;\n             tbname             |            location            |\n==================================================================\n d1004                          | Beijing.Haidian                |\n d1003                          | Beijing.Haidian                |\n d1002                          | Beijing.Chaoyang               |\n d1001                          | Beijing.Chaoyang               |\nQuery OK, 4 row(s) in set (0.000881s)\n\ntaos> SELECT COUNT(tbname) FROM meters WHERE groupId > 2;\n     count(tbname)     |\n========================\n                     2 |\nQuery OK, 1 row(s) in set (0.001091s)\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528 ","*"," \u8fd4\u56de\u6240\u6709\u5217\uff0c\u6216\u6307\u5b9a\u5217\u540d\u3002\u53ef\u4ee5\u5bf9\u6570\u5b57\u5217\u8fdb\u884c\u56db\u5219\u8fd0\u7b97\uff0c\u53ef\u4ee5\u7ed9\u8f93\u51fa\u7684\u5217\u53d6\u5217\u540d\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6682\u4e0d\u652f\u6301\u542b\u5217\u540d\u7684\u56db\u5219\u8fd0\u7b97\u8868\u8fbe\u5f0f\u7528\u4e8e\u6761\u4ef6\u8fc7\u6ee4\u7b97\u5b50\uff08\u4f8b\u5982\uff0c\u4e0d\u652f\u6301 ",(0,r.kt)("inlineCode",{parentName:"li"},"where a*2>6;"),"\uff0c\u4f46\u53ef\u4ee5\u5199 ",(0,r.kt)("inlineCode",{parentName:"li"},"where a>6/2;"),"\uff09\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u6682\u4e0d\u652f\u6301\u542b\u5217\u540d\u7684\u56db\u5219\u8fd0\u7b97\u8868\u8fbe\u5f0f\u4f5c\u4e3a SQL \u51fd\u6570\u7684\u5e94\u7528\u5bf9\u8c61\uff08\u4f8b\u5982\uff0c\u4e0d\u652f\u6301 ",(0,r.kt)("inlineCode",{parentName:"li"},"select min(2*a) from t;"),"\uff0c\u4f46\u53ef\u4ee5\u5199 ",(0,r.kt)("inlineCode",{parentName:"li"},"select 2*min(a) from t;"),"\uff09\u3002"))),(0,r.kt)("li",{parentName:"ul"},"WHERE \u8bed\u53e5\u53ef\u4ee5\u4f7f\u7528\u5404\u79cd\u903b\u8f91\u5224\u65ad\u6765\u8fc7\u6ee4\u6570\u5b57\u503c\uff0c\u6216\u4f7f\u7528\u901a\u914d\u7b26\u6765\u8fc7\u6ee4\u5b57\u7b26\u4e32\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u8f93\u51fa\u7ed3\u679c\u7f3a\u7701\u6309\u9996\u5217\u65f6\u95f4\u6233\u5347\u5e8f\u6392\u5e8f\uff0c\u4f46\u53ef\u4ee5\u6307\u5b9a\u6309\u964d\u5e8f\u6392\u5e8f( ","_","c0 \u6307\u9996\u5217\u65f6\u95f4\u6233)\u3002\u4f7f\u7528 ORDER BY \u5bf9\u5176\u4ed6\u5b57\u6bb5\u8fdb\u884c\u6392\u5e8f,\u6392\u5e8f\u7ed3\u679c\u987a\u5e8f\u4e0d\u786e\u5b9a\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u53c2\u6570 LIMIT \u63a7\u5236\u8f93\u51fa\u6761\u6570\uff0cOFFSET \u6307\u5b9a\u4ece\u7b2c\u51e0\u6761\u5f00\u59cb\u8f93\u51fa\u3002LIMIT/OFFSET \u5bf9\u7ed3\u679c\u96c6\u7684\u6267\u884c\u987a\u5e8f\u5728 ORDER BY \u4e4b\u540e\u3002\u4e14 ",(0,r.kt)("inlineCode",{parentName:"li"},"LIMIT 5 OFFSET 2")," \u53ef\u4ee5\u7b80\u5199\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"LIMIT 2, 5"),"\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728\u6709 GROUP BY \u5b50\u53e5\u7684\u60c5\u51b5\u4e0b\uff0cLIMIT \u53c2\u6570\u63a7\u5236\u7684\u662f\u6bcf\u4e2a\u5206\u7ec4\u4e2d\u81f3\u591a\u5141\u8bb8\u8f93\u51fa\u7684\u6761\u6570\u3002"))),(0,r.kt)("li",{parentName:"ul"},"\u53c2\u6570 SLIMIT \u63a7\u5236\u7531 GROUP BY \u6307\u4ee4\u5212\u5206\u7684\u5206\u7ec4\u4e2d\uff0c\u81f3\u591a\u5141\u8bb8\u8f93\u51fa\u51e0\u4e2a\u5206\u7ec4\u7684\u6570\u636e\u3002\u4e14 ",(0,r.kt)("inlineCode",{parentName:"li"},"SLIMIT 5 SOFFSET 2")," \u53ef\u4ee5\u7b80\u5199\u4e3a ",(0,r.kt)("inlineCode",{parentName:"li"},"SLIMIT 2, 5"),"\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7 \u201c>>\u201d \u8f93\u51fa\u7ed3\u679c\u53ef\u4ee5\u5bfc\u51fa\u5230\u6307\u5b9a\u6587\u4ef6\u3002")),(0,r.kt)("h3",{id:"\u6761\u4ef6\u8fc7\u6ee4\u64cd\u4f5c"},"\u6761\u4ef6\u8fc7\u6ee4\u64cd\u4f5c"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Operation")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Note")),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"Applicable Data Types")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},">"),(0,r.kt)("td",{parentName:"tr",align:null},"larger than"),(0,r.kt)("td",{parentName:"tr",align:null},"all types except bool")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"<"),(0,r.kt)("td",{parentName:"tr",align:null},"smaller than"),(0,r.kt)("td",{parentName:"tr",align:null},"all types except bool")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},">="),(0,r.kt)("td",{parentName:"tr",align:null},"larger than or equal to"),(0,r.kt)("td",{parentName:"tr",align:null},"all types except bool")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"<="),(0,r.kt)("td",{parentName:"tr",align:null},"smaller than or equal to"),(0,r.kt)("td",{parentName:"tr",align:null},"all types except bool")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"="),(0,r.kt)("td",{parentName:"tr",align:null},"equal to"),(0,r.kt)("td",{parentName:"tr",align:null},"all types")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"<",">"),(0,r.kt)("td",{parentName:"tr",align:null},"not equal to"),(0,r.kt)("td",{parentName:"tr",align:null},"all types")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"is ","[not]"," null"),(0,r.kt)("td",{parentName:"tr",align:null},"is null or is not null"),(0,r.kt)("td",{parentName:"tr",align:null},"all types")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"between and"),(0,r.kt)("td",{parentName:"tr",align:null},"within a certain range"),(0,r.kt)("td",{parentName:"tr",align:null},"all types except bool")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"in"),(0,r.kt)("td",{parentName:"tr",align:null},"match any value in a set"),(0,r.kt)("td",{parentName:"tr",align:null},"all types except first column ",(0,r.kt)("inlineCode",{parentName:"td"},"timestamp"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"like"),(0,r.kt)("td",{parentName:"tr",align:null},"match a wildcard string"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"binary"))," ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"nchar")))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"match/nmatch"),(0,r.kt)("td",{parentName:"tr",align:null},"filter regex"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"binary"))," ",(0,r.kt)("strong",{parentName:"td"},(0,r.kt)("inlineCode",{parentName:"strong"},"nchar")))))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"<",">"," \u7b97\u5b50\u4e5f\u53ef\u4ee5\u5199\u4e3a != \uff0c\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e2a\u7b97\u5b50\u4e0d\u80fd\u7528\u4e8e\u6570\u636e\u8868\u7b2c\u4e00\u5217\u7684 timestamp \u5b57\u6bb5\u3002"),(0,r.kt)("li",{parentName:"ol"},"like \u7b97\u5b50\u4f7f\u7528\u901a\u914d\u7b26\u5b57\u7b26\u4e32\u8fdb\u884c\u5339\u914d\u68c0\u67e5\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728\u901a\u914d\u7b26\u5b57\u7b26\u4e32\u4e2d\uff1a'%'\uff08\u767e\u5206\u53f7\uff09\u5339\u914d 0 \u5230\u4efb\u610f\u4e2a\u5b57\u7b26\uff1b'","_","'\uff08\u4e0b\u5212\u7ebf\uff09\u5339\u914d\u5355\u4e2a\u4efb\u610f ASCII \u5b57\u7b26\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u5e0c\u671b\u5339\u914d\u5b57\u7b26\u4e32\u4e2d\u539f\u672c\u5c31\u5e26\u6709\u7684 ","_","\uff08\u4e0b\u5212\u7ebf\uff09\u5b57\u7b26\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728\u901a\u914d\u7b26\u5b57\u7b26\u4e32\u4e2d\u5199\u4f5c ",(0,r.kt)("inlineCode",{parentName:"li"},"\\_"),"\uff0c\u4e5f\u5373\u52a0\u4e00\u4e2a\u53cd\u659c\u7ebf\u6765\u8fdb\u884c\u8f6c\u4e49\u3002\uff08\u4ece 2.2.0.0 \u7248\u672c\u5f00\u59cb\u652f\u6301\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u901a\u914d\u7b26\u5b57\u7b26\u4e32\u6700\u957f\u4e0d\u80fd\u8d85\u8fc7 20 \u5b57\u8282\u3002\uff08\u4ece 2.1.6.1 \u7248\u672c\u5f00\u59cb\uff0c\u901a\u914d\u7b26\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\u653e\u5bbd\u5230\u4e86 100 \u5b57\u8282\uff0c\u5e76\u53ef\u4ee5\u901a\u8fc7 taos.cfg \u4e2d\u7684 maxWildCardsLength \u53c2\u6570\u6765\u914d\u7f6e\u8fd9\u4e00\u957f\u5ea6\u9650\u5236\u3002\u4f46\u4e0d\u5efa\u8bae\u4f7f\u7528\u592a\u957f\u7684\u901a\u914d\u7b26\u5b57\u7b26\u4e32\uff0c\u5c06\u6709\u53ef\u80fd\u4e25\u91cd\u5f71\u54cd LIKE \u64cd\u4f5c\u7684\u6267\u884c\u6027\u80fd\u3002\uff09"))),(0,r.kt)("li",{parentName:"ol"},"\u540c\u65f6\u8fdb\u884c\u591a\u4e2a\u5b57\u6bb5\u7684\u8303\u56f4\u8fc7\u6ee4\uff0c\u9700\u8981\u4f7f\u7528\u5173\u952e\u8bcd AND \u6765\u8fde\u63a5\u4e0d\u540c\u7684\u67e5\u8be2\u6761\u4ef6\uff0c\u6682\u4e0d\u652f\u6301 OR \u8fde\u63a5\u7684\u4e0d\u540c\u5217\u4e4b\u95f4\u7684\u67e5\u8be2\u8fc7\u6ee4\u6761\u4ef6\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4ece 2.3.0.0 \u7248\u672c\u5f00\u59cb\uff0c\u5df2\u652f\u6301\u5b8c\u6574\u7684\u540c\u4e00\u5217\u548c/\u6216\u4e0d\u540c\u5217\u95f4\u7684 AND/OR \u8fd0\u7b97\u3002"))),(0,r.kt)("li",{parentName:"ol"},"\u9488\u5bf9\u5355\u4e00\u5b57\u6bb5\u7684\u8fc7\u6ee4\uff0c\u5982\u679c\u662f\u65f6\u95f4\u8fc7\u6ee4\u6761\u4ef6\uff0c\u5219\u4e00\u6761\u8bed\u53e5\u4e2d\u53ea\u652f\u6301\u8bbe\u5b9a\u4e00\u4e2a\uff1b\u4f46\u9488\u5bf9\u5176\u4ed6\u7684\uff08\u666e\u901a\uff09\u5217\u6216\u6807\u7b7e\u5217\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"OR")," \u5173\u952e\u5b57\u8fdb\u884c\u7ec4\u5408\u6761\u4ef6\u7684\u67e5\u8be2\u8fc7\u6ee4\u3002\u4f8b\u5982\uff1a ",(0,r.kt)("inlineCode",{parentName:"li"},"((value > 20 AND value < 30) OR (value < 12))"),"\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u4ece 2.3.0.0 \u7248\u672c\u5f00\u59cb\uff0c\u5141\u8bb8\u4f7f\u7528\u591a\u4e2a\u65f6\u95f4\u8fc7\u6ee4\u6761\u4ef6\uff0c\u4f46\u9996\u5217\u65f6\u95f4\u6233\u7684\u8fc7\u6ee4\u8fd0\u7b97\u7ed3\u679c\u53ea\u80fd\u5305\u542b\u4e00\u4e2a\u533a\u95f4\u3002"))),(0,r.kt)("li",{parentName:"ol"},"\u4ece 2.0.17.0 \u7248\u672c\u5f00\u59cb\uff0c\u6761\u4ef6\u8fc7\u6ee4\u5f00\u59cb\u652f\u6301 BETWEEN AND \u8bed\u6cd5\uff0c\u4f8b\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"WHERE col2 BETWEEN 1.5 AND 3.25")," \u8868\u793a\u67e5\u8be2\u6761\u4ef6\u4e3a\u201c1.5 \u2264 col2 \u2264 3.25\u201d\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u4ece 2.1.4.0 \u7248\u672c\u5f00\u59cb\uff0c\u6761\u4ef6\u8fc7\u6ee4\u5f00\u59cb\u652f\u6301 IN \u7b97\u5b50\uff0c\u4f8b\u5982 ",(0,r.kt)("inlineCode",{parentName:"li"},"WHERE city IN ('Beijing', 'Shanghai')"),"\u3002\u8bf4\u660e\uff1aBOOL \u7c7b\u578b\u5199\u4f5c ",(0,r.kt)("inlineCode",{parentName:"li"},"{true, false}")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"li"},"{0, 1}")," \u5747\u53ef\uff0c\u4f46\u4e0d\u80fd\u5199\u4f5c 0\u30011 \u4e4b\u5916\u7684\u6574\u6570\uff1bFLOAT \u548c DOUBLE \u7c7b\u578b\u4f1a\u53d7\u5230\u6d6e\u70b9\u6570\u7cbe\u5ea6\u5f71\u54cd\uff0c\u96c6\u5408\u5185\u7684\u503c\u5728\u7cbe\u5ea6\u8303\u56f4\u5185\u8ba4\u4e3a\u548c\u6570\u636e\u884c\u7684\u503c\u5b8c\u5168\u76f8\u7b49\u624d\u80fd\u5339\u914d\u6210\u529f\uff1bTIMESTAMP \u7c7b\u578b\u652f\u6301\u975e\u4e3b\u952e\u7684\u5217\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u4ece 2.3.0.0 \u7248\u672c\u5f00\u59cb\uff0c\u6761\u4ef6\u8fc7\u6ee4\u5f00\u59cb\u652f\u6301\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5173\u952e\u5b57 match/nmatch\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002")),(0,r.kt)("h3",{id:"\u6b63\u5219\u8868\u8fbe\u5f0f\u8fc7\u6ee4"},"\u6b63\u5219\u8868\u8fbe\u5f0f\u8fc7\u6ee4"),(0,r.kt)("h4",{id:"\u8bed\u6cd5"},"\u8bed\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-txt"},"WHERE (column|tbname) **match/MATCH/nmatch/NMATCH** _regex_\n")),(0,r.kt)("h4",{id:"\u6b63\u5219\u8868\u8fbe\u5f0f\u89c4\u8303"},"\u6b63\u5219\u8868\u8fbe\u5f0f\u89c4\u8303"),(0,r.kt)("p",null,"\u786e\u4fdd\u4f7f\u7528\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u7b26\u5408 POSIX \u7684\u89c4\u8303\uff0c\u5177\u4f53\u89c4\u8303\u5185\u5bb9\u53ef\u53c2\u89c1",(0,r.kt)("a",{parentName:"p",href:"https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap09.html"},"Regular Expressions")),(0,r.kt)("h4",{id:"\u4f7f\u7528\u9650\u5236"},"\u4f7f\u7528\u9650\u5236"),(0,r.kt)("p",null,"\u53ea\u80fd\u9488\u5bf9\u8868\u540d\uff08\u5373 tbname \u7b5b\u9009\uff09\u3001binary/nchar \u7c7b\u578b\u6807\u7b7e\u503c\u8fdb\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u8fc7\u6ee4\uff0c\u4e0d\u652f\u6301\u666e\u901a\u5217\u7684\u8fc7\u6ee4\u3002"),(0,r.kt)("p",null,"\u6b63\u5219\u5339\u914d\u5b57\u7b26\u4e32\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7 128 \u5b57\u8282\u3002\u53ef\u4ee5\u901a\u8fc7\u53c2\u6570 ",(0,r.kt)("em",{parentName:"p"},"maxRegexStringLen")," \u8bbe\u7f6e\u548c\u8c03\u6574\u6700\u5927\u5141\u8bb8\u7684\u6b63\u5219\u5339\u914d\u5b57\u7b26\u4e32\uff0c\u8be5\u53c2\u6570\u662f\u5ba2\u6237\u7aef\u914d\u7f6e\u53c2\u6570\uff0c\u9700\u8981\u91cd\u542f\u624d\u80fd\u751f\u6548\u3002"),(0,r.kt)("h3",{id:"join-\u5b50\u53e5"},"JOIN \u5b50\u53e5"),(0,r.kt)("p",null,"\u4ece 2.2.0.0 \u7248\u672c\u5f00\u59cb\uff0cTDengine \u5bf9\u5185\u8fde\u63a5\uff08INNER JOIN\uff09\u4e2d\u7684\u81ea\u7136\u8fde\u63a5\uff08Natural join\uff09\u64cd\u4f5c\u5b9e\u73b0\u4e86\u5b8c\u6574\u7684\u652f\u6301\u3002\u4e5f\u5373\u652f\u6301\u201c\u666e\u901a\u8868\u4e0e\u666e\u901a\u8868\u4e4b\u95f4\u201d\u3001\u201c\u8d85\u7ea7\u8868\u4e0e\u8d85\u7ea7\u8868\u4e4b\u95f4\u201d\u3001\u201c\u5b50\u67e5\u8be2\u4e0e\u5b50\u67e5\u8be2\u4e4b\u95f4\u201d\u8fdb\u884c\u81ea\u7136\u8fde\u63a5\u3002\u81ea\u7136\u8fde\u63a5\u4e0e\u5185\u8fde\u63a5\u7684\u4e3b\u8981\u533a\u522b\u662f\uff0c\u81ea\u7136\u8fde\u63a5\u8981\u6c42\u53c2\u4e0e\u8fde\u63a5\u7684\u5b57\u6bb5\u5728\u4e0d\u540c\u7684\u8868/\u8d85\u7ea7\u8868\u4e2d\u5fc5\u987b\u662f\u540c\u540d\u5b57\u6bb5\u3002\u4e5f\u5373\uff0cTDengine \u5728\u8fde\u63a5\u5173\u7cfb\u7684\u8868\u8fbe\u4e2d\uff0c\u8981\u6c42\u5fc5\u987b\u4f7f\u7528\u540c\u540d\u6570\u636e\u5217/\u6807\u7b7e\u5217\u7684\u76f8\u7b49\u5173\u7cfb\u3002"),(0,r.kt)("p",null,"\u5728\u666e\u901a\u8868\u4e0e\u666e\u901a\u8868\u4e4b\u95f4\u7684 JOIN \u64cd\u4f5c\u4e2d\uff0c\u53ea\u80fd\u4f7f\u7528\u4e3b\u952e\u65f6\u95f4\u6233\u4e4b\u95f4\u7684\u76f8\u7b49\u5173\u7cfb\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT *\nFROM temp_tb_1 t1, pressure_tb_1 t2\nWHERE t1.ts = t2.ts\n")),(0,r.kt)("p",null,"\u5728\u8d85\u7ea7\u8868\u4e0e\u8d85\u7ea7\u8868\u4e4b\u95f4\u7684 JOIN \u64cd\u4f5c\u4e2d\uff0c\u9664\u4e86\u4e3b\u952e\u65f6\u95f4\u6233\u4e00\u81f4\u7684\u6761\u4ef6\u5916\uff0c\u8fd8\u8981\u6c42\u5f15\u5165\u80fd\u5b9e\u73b0\u4e00\u4e00\u5bf9\u5e94\u7684\u6807\u7b7e\u5217\u7684\u76f8\u7b49\u5173\u7cfb\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT *\nFROM temp_stable t1, temp_stable t2\nWHERE t1.ts = t2.ts AND t1.deviceid = t2.deviceid AND t1.status=0;\n")),(0,r.kt)("p",null,"\u7c7b\u4f3c\u5730\uff0c\u4e5f\u53ef\u4ee5\u5bf9\u591a\u4e2a\u5b50\u67e5\u8be2\u7684\u67e5\u8be2\u7ed3\u679c\u8fdb\u884c JOIN \u64cd\u4f5c\u3002"),(0,r.kt)("p",null,"\u6ce8\u610f\uff0cJOIN \u64cd\u4f5c\u5b58\u5728\u5982\u4e0b\u9650\u5236\u8981\u6c42\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u53c2\u4e0e\u4e00\u6761\u8bed\u53e5\u4e2d JOIN \u64cd\u4f5c\u7684\u8868/\u8d85\u7ea7\u8868\u6700\u591a\u53ef\u4ee5\u6709 10 \u4e2a\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u5305\u542b JOIN \u64cd\u4f5c\u7684\u67e5\u8be2\u8bed\u53e5\u4e2d\u4e0d\u652f\u6301 FILL\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u6682\u4e0d\u652f\u6301\u53c2\u4e0e JOIN \u64cd\u4f5c\u7684\u8868\u4e4b\u95f4\u805a\u5408\u540e\u7684\u56db\u5219\u8fd0\u7b97\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u4e0d\u652f\u6301\u53ea\u5bf9\u5176\u4e2d\u4e00\u90e8\u5206\u8868\u505a GROUP BY\u3002"),(0,r.kt)("li",{parentName:"ol"},"JOIN \u67e5\u8be2\u7684\u4e0d\u540c\u8868\u7684\u8fc7\u6ee4\u6761\u4ef6\u4e4b\u95f4\u4e0d\u80fd\u4e3a OR\u3002"),(0,r.kt)("li",{parentName:"ol"},"JOIN \u67e5\u8be2\u8981\u6c42\u8fde\u63a5\u6761\u4ef6\u4e0d\u80fd\u662f\u666e\u901a\u5217\uff0c\u53ea\u80fd\u9488\u5bf9\u6807\u7b7e\u548c\u4e3b\u65f6\u95f4\u5b57\u6bb5\u5217\uff08\u7b2c\u4e00\u5217\uff09\u3002")),(0,r.kt)("h3",{id:"\u5d4c\u5957\u67e5\u8be2"},"\u5d4c\u5957\u67e5\u8be2"),(0,r.kt)("p",null,"\u201c\u5d4c\u5957\u67e5\u8be2\u201d\u53c8\u79f0\u4e3a\u201c\u5b50\u67e5\u8be2\u201d\uff0c\u4e5f\u5373\u5728\u4e00\u6761 SQL \u8bed\u53e5\u4e2d\uff0c\u201c\u5185\u5c42\u67e5\u8be2\u201d\u7684\u8ba1\u7b97\u7ed3\u679c\u53ef\u4ee5\u4f5c\u4e3a\u201c\u5916\u5c42\u67e5\u8be2\u201d\u7684\u8ba1\u7b97\u5bf9\u8c61\u6765\u4f7f\u7528\u3002"),(0,r.kt)("p",null,"\u4ece 2.2.0.0 \u7248\u672c\u5f00\u59cb\uff0cTDengine \u7684\u67e5\u8be2\u5f15\u64ce\u5f00\u59cb\u652f\u6301\u5728 FROM \u5b50\u53e5\u4e2d\u4f7f\u7528\u975e\u5173\u8054\u5b50\u67e5\u8be2\uff08\u201c\u975e\u5173\u8054\u201d\u7684\u610f\u601d\u662f\uff0c\u5b50\u67e5\u8be2\u4e0d\u4f1a\u7528\u5230\u7236\u67e5\u8be2\u4e2d\u7684\u53c2\u6570\uff09\u3002\u4e5f\u5373\u5728\u666e\u901a SELECT \u8bed\u53e5\u7684 tb_name_list \u4f4d\u7f6e\uff0c\u7528\u4e00\u4e2a\u72ec\u7acb\u7684 SELECT \u8bed\u53e5\u6765\u4ee3\u66ff\uff08\u8fd9\u4e00 SELECT \u8bed\u53e5\u88ab\u5305\u542b\u5728\u82f1\u6587\u5706\u62ec\u53f7\u5185\uff09\uff0c\u4e8e\u662f\u5b8c\u6574\u7684\u5d4c\u5957\u67e5\u8be2 SQL \u8bed\u53e5\u5f62\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT ... FROM (SELECT ... FROM ...) ...;\n")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol"},"\u76ee\u524d\u4ec5\u652f\u6301\u4e00\u5c42\u5d4c\u5957\uff0c\u4e5f\u5373\u4e0d\u80fd\u5728\u5b50\u67e5\u8be2\u4e2d\u518d\u5d4c\u5165\u5b50\u67e5\u8be2\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5185\u5c42\u67e5\u8be2\u7684\u8fd4\u56de\u7ed3\u679c\u5c06\u4f5c\u4e3a\u201c\u865a\u62df\u8868\u201d\u4f9b\u5916\u5c42\u67e5\u8be2\u4f7f\u7528\uff0c\u6b64\u865a\u62df\u8868\u53ef\u4ee5\u4f7f\u7528 AS \u8bed\u6cd5\u505a\u91cd\u547d\u540d\uff0c\u4ee5\u4fbf\u4e8e\u5916\u5c42\u67e5\u8be2\u4e2d\u65b9\u4fbf\u5f15\u7528\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u76ee\u524d\u4e0d\u80fd\u5728\u201c\u8fde\u7eed\u67e5\u8be2\u201d\u529f\u80fd\u4e2d\u4f7f\u7528\u5b50\u67e5\u8be2\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u5185\u5c42\u548c\u5916\u5c42\u67e5\u8be2\u4e2d\uff0c\u90fd\u652f\u6301\u666e\u901a\u7684\u8868\u95f4/\u8d85\u7ea7\u8868\u95f4 JOIN\u3002\u5185\u5c42\u67e5\u8be2\u7684\u8ba1\u7b97\u7ed3\u679c\u4e5f\u53ef\u4ee5\u518d\u53c2\u4e0e\u6570\u636e\u5b50\u8868\u7684 JOIN \u64cd\u4f5c\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u76ee\u524d\u5185\u5c42\u67e5\u8be2\u3001\u5916\u5c42\u67e5\u8be2\u5747\u4e0d\u652f\u6301 UNION \u64cd\u4f5c\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5185\u5c42\u67e5\u8be2\u652f\u6301\u7684\u529f\u80fd\u7279\u6027\u4e0e\u975e\u5d4c\u5957\u7684\u67e5\u8be2\u8bed\u53e5\u80fd\u529b\u662f\u4e00\u81f4\u7684\u3002",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5185\u5c42\u67e5\u8be2\u7684 ORDER BY \u5b50\u53e5\u4e00\u822c\u6ca1\u6709\u610f\u4e49\uff0c\u5efa\u8bae\u907f\u514d\u8fd9\u6837\u7684\u5199\u6cd5\u4ee5\u514d\u65e0\u8c13\u7684\u8d44\u6e90\u6d88\u8017\u3002"))),(0,r.kt)("li",{parentName:"ol"},"\u4e0e\u975e\u5d4c\u5957\u7684\u67e5\u8be2\u8bed\u53e5\u76f8\u6bd4\uff0c\u5916\u5c42\u67e5\u8be2\u6240\u80fd\u652f\u6301\u7684\u529f\u80fd\u7279\u6027\u5b58\u5728\u5982\u4e0b\u9650\u5236\uff1a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u8ba1\u7b97\u51fd\u6570\u90e8\u5206\uff1a\n",(0,r.kt)("em",{parentName:"li"},". \u5982\u679c\u5185\u5c42\u67e5\u8be2\u7684\u7ed3\u679c\u6570\u636e\u672a\u63d0\u4f9b\u65f6\u95f4\u6233\uff0c\u90a3\u4e48\u8ba1\u7b97\u8fc7\u7a0b\u4f9d\u8d56\u65f6\u95f4\u6233\u7684\u51fd\u6570\u5728\u5916\u5c42\u4f1a\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u4f8b\u5982\uff1aTOP, BOTTOM, FIRST, LAST, DIFF\u3002\n"),". \u8ba1\u7b97\u8fc7\u7a0b\u9700\u8981\u4e24\u904d\u626b\u63cf\u7684\u51fd\u6570\uff0c\u5728\u5916\u5c42\u67e5\u8be2\u4e2d\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\u3002\u4f8b\u5982\uff1a\u6b64\u7c7b\u51fd\u6570\u5305\u62ec\uff1aSTDDEV, PERCENTILE\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5916\u5c42\u67e5\u8be2\u4e2d\u4e0d\u652f\u6301 IN \u7b97\u5b50\uff0c\u4f46\u5728\u5185\u5c42\u4e2d\u53ef\u4ee5\u4f7f\u7528\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5916\u5c42\u67e5\u8be2\u4e0d\u652f\u6301 GROUP BY\u3002")))))),(0,r.kt)("h3",{id:"union-all-\u5b50\u53e5"},"UNION ALL \u5b50\u53e5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-txt",metastring:"title=\u8bed\u6cd5",title:"\u8bed\u6cd5"},"SELECT ...\nUNION ALL SELECT ...\n[UNION ALL SELECT ...]\n")),(0,r.kt)("p",null,"TDengine \u652f\u6301 UNION ALL \u64cd\u4f5c\u7b26\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u591a\u4e2a SELECT \u5b50\u53e5\u8fd4\u56de\u7ed3\u679c\u96c6\u7684\u7ed3\u6784\u5b8c\u5168\u76f8\u540c\uff08\u5217\u540d\u3001\u5217\u7c7b\u578b\u3001\u5217\u6570\u3001\u987a\u5e8f\uff09\uff0c\u90a3\u4e48\u53ef\u4ee5\u901a\u8fc7 UNION ALL \u628a\u8fd9\u4e9b\u7ed3\u679c\u96c6\u5408\u5e76\u5230\u4e00\u8d77\u3002\u76ee\u524d\u53ea\u652f\u6301 UNION ALL \u6a21\u5f0f\uff0c\u4e5f\u5373\u5728\u7ed3\u679c\u96c6\u7684\u5408\u5e76\u8fc7\u7a0b\u4e2d\u662f\u4e0d\u53bb\u91cd\u7684\u3002\u5728\u540c\u4e00\u4e2a sql \u8bed\u53e5\u4e2d\uff0cUNION ALL \u6700\u591a\u652f\u6301 100 \u4e2a\u3002"),(0,r.kt)("h4",{id:"sql-\u793a\u4f8b"},"SQL \u793a\u4f8b"),(0,r.kt)("p",null,"\u5bf9\u4e8e\u4e0b\u9762\u7684\u4f8b\u5b50\uff0c\u8868 tb1 \u7528\u4ee5\u4e0b\u8bed\u53e5\u521b\u5efa\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE TABLE tb1 (ts TIMESTAMP, col1 INT, col2 FLOAT, col3 BINARY(50));\n")),(0,r.kt)("p",null,"\u67e5\u8be2 tb1 \u521a\u8fc7\u53bb\u7684\u4e00\u4e2a\u5c0f\u65f6\u7684\u6240\u6709\u8bb0\u5f55\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT * FROM tb1 WHERE ts >= NOW - 1h;\n")),(0,r.kt)("p",null,"\u67e5\u8be2\u8868 tb1 \u4ece 2018-06-01 08:00:00.000 \u5230 2018-06-02 08:00:00.000 \u65f6\u95f4\u8303\u56f4\uff0c\u5e76\u4e14 col3 \u7684\u5b57\u7b26\u4e32\u662f'nny'\u7ed3\u5c3e\u7684\u8bb0\u5f55\uff0c\u7ed3\u679c\u6309\u7167\u65f6\u95f4\u6233\u964d\u5e8f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT * FROM tb1 WHERE ts > '2018-06-01 08:00:00.000' AND ts <= '2018-06-02 08:00:00.000' AND col3 LIKE '%nny' ORDER BY ts DESC;\n")),(0,r.kt)("p",null,"\u67e5\u8be2 col1 \u4e0e col2 \u7684\u548c\uff0c\u5e76\u53d6\u540d complex, \u65f6\u95f4\u5927\u4e8e 2018-06-01 08:00:00.000, col2 \u5927\u4e8e 1.2\uff0c\u7ed3\u679c\u8f93\u51fa\u4ec5\u4ec5 10 \u6761\u8bb0\u5f55\uff0c\u4ece\u7b2c 5 \u6761\u5f00\u59cb\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT (col1 + col2) AS 'complex' FROM tb1 WHERE ts > '2018-06-01 08:00:00.000' AND col2 > 1.2 LIMIT 10 OFFSET 5;\n")),(0,r.kt)("p",null,"\u67e5\u8be2\u8fc7\u53bb 10 \u5206\u949f\u7684\u8bb0\u5f55\uff0ccol2 \u7684\u503c\u5927\u4e8e 3.14\uff0c\u5e76\u4e14\u5c06\u7ed3\u679c\u8f93\u51fa\u5230\u6587\u4ef6 ",(0,r.kt)("inlineCode",{parentName:"p"},"/home/testoutpu.csv"),"\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT COUNT(*) FROM tb1 WHERE ts >= NOW - 10m AND col2 > 3.14 >> /home/testoutpu.csv;\n")),(0,r.kt)("h2",{id:"sql-\u51fd\u6570"},"SQL \u51fd\u6570"),(0,r.kt)("h3",{id:"\u805a\u5408\u51fd\u6570"},"\u805a\u5408\u51fd\u6570"),(0,r.kt)("p",null,"TDengine \u652f\u6301\u9488\u5bf9\u6570\u636e\u7684\u805a\u5408\u67e5\u8be2\u3002\u63d0\u4f9b\u652f\u6301\u7684\u805a\u5408\u548c\u9009\u62e9\u51fd\u6570\u5982\u4e0b\uff1a"),(0,r.kt)("h4",{id:"count"},"COUNT"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT COUNT([*|field_name]) FROM tb_name [WHERE clause];\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u8bb0\u5f55\u884c\u6570\u6216\u67d0\u5217\u7684\u975e\u7a7a\u503c\u4e2a\u6570\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u957f\u6574\u578b INT64\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u5e94\u7528\u5168\u90e8\u5b57\u6bb5\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("ul",{parentName:"div"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528\u661f\u53f7(","*",")\u6765\u66ff\u4ee3\u5177\u4f53\u7684\u5b57\u6bb5\uff0c\u4f7f\u7528\u661f\u53f7(","*",")\u8fd4\u56de\u5168\u90e8\u8bb0\u5f55\u6570\u91cf\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u9488\u5bf9\u540c\u4e00\u8868\u7684\uff08\u4e0d\u5305\u542b NULL \u503c\uff09\u5b57\u6bb5\u67e5\u8be2\u7ed3\u679c\u5747\u76f8\u540c\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u7edf\u8ba1\u5bf9\u8c61\u662f\u5177\u4f53\u7684\u5217\uff0c\u5219\u8fd4\u56de\u8be5\u5217\u4e2d\u975e NULL \u503c\u7684\u8bb0\u5f55\u6570\u91cf\u3002")))),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT COUNT(*), COUNT(voltage) FROM meters;\n    count(*)        |    count(voltage)     |\n================================================\n                    9 |                     9 |\nQuery OK, 1 row(s) in set (0.004475s)\n\ntaos> SELECT COUNT(*), COUNT(voltage) FROM d1001;\n    count(*)        |    count(voltage)     |\n================================================\n                    3 |                     3 |\nQuery OK, 1 row(s) in set (0.001075s)\n")),(0,r.kt)("h4",{id:"avg"},"AVG"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT AVG(field_name) FROM tb_name [WHERE clause];\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u5e73\u5747\u503c\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 Double\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u5b57\u6bb5\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002")),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT AVG(current), AVG(voltage), AVG(phase) FROM meters;\n    avg(current)        |       avg(voltage)        |        avg(phase)         |\n====================================================================================\n            11.466666751 |             220.444444444 |               0.293333333 |\nQuery OK, 1 row(s) in set (0.004135s)\n\ntaos> SELECT AVG(current), AVG(voltage), AVG(phase) FROM d1001;\n    avg(current)        |       avg(voltage)        |        avg(phase)         |\n====================================================================================\n            11.733333588 |             219.333333333 |               0.316666673 |\nQuery OK, 1 row(s) in set (0.000943s)\n")),(0,r.kt)("h4",{id:"twa"},"TWA"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT TWA(field_name) FROM tb_name WHERE clause;\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u65f6\u95f4\u52a0\u6743\u5e73\u5747\u51fd\u6570\u3002\u7edf\u8ba1\u8868\u4e2d\u67d0\u5217\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u7684\u65f6\u95f4\u52a0\u6743\u5e73\u5747\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 Double\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\uff08\u8d85\u7ea7\u8868\u3002")),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\u4ece 2.1.3.0 \u7248\u672c\u5f00\u59cb\uff0cTWA \u51fd\u6570\u53ef\u4ee5\u5728\u7531 GROUP BY \u5212\u5206\u51fa\u5355\u72ec\u65f6\u95f4\u7ebf\u7684\u60c5\u51b5\u4e0b\u7528\u4e8e\u8d85\u7ea7\u8868\uff08\u4e5f\u5373 GROUP BY tbname\uff09\u3002"),(0,r.kt)("h4",{id:"irate"},"IRATE"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT IRATE(field_name) FROM tb_name WHERE clause;\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u8ba1\u7b97\u77ac\u65f6\u589e\u957f\u7387\u3002\u4f7f\u7528\u65f6\u95f4\u533a\u95f4\u4e2d\u6700\u540e\u4e24\u4e2a\u6837\u672c\u6570\u636e\u6765\u8ba1\u7b97\u77ac\u65f6\u589e\u957f\u901f\u7387\uff1b\u5982\u679c\u8fd9\u4e24\u4e2a\u503c\u5448\u9012\u51cf\u5173\u7cfb\uff0c\u90a3\u4e48\u53ea\u53d6\u6700\u540e\u4e00\u4e2a\u6570\u7528\u4e8e\u8ba1\u7b97\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u4e8c\u8005\u5dee\u503c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 Double\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,"\u9002\u7528\u4e8e\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u8868\u3001\uff08\u8d85\u7ea7\u8868\uff09"),"\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\uff08\u4ece 2.1.3.0 \u7248\u672c\u5f00\u59cb\u65b0\u589e\u6b64\u51fd\u6570\uff09IRATE \u53ef\u4ee5\u5728\u7531 GROUP BY \u5212\u5206\u51fa\u5355\u72ec\u65f6\u95f4\u7ebf\u7684\u60c5\u51b5\u4e0b\u7528\u4e8e\u8d85\u7ea7\u8868\uff08\u4e5f\u5373 GROUP BY tbname\uff09\u3002"),(0,r.kt)("h4",{id:"sum"},"SUM"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT SUM(field_name) FROM tb_name [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u548c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 Double \u548c\u957f\u6574\u578b INT64\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT SUM(current), SUM(voltage), SUM(phase) FROM meters;\n    sum(current)        |     sum(voltage)      |        sum(phase)         |\n================================================================================\n            103.200000763 |                  1984 |               2.640000001 |\nQuery OK, 1 row(s) in set (0.001702s)\n\ntaos> SELECT SUM(current), SUM(voltage), SUM(phase) FROM d1001;\n    sum(current)        |     sum(voltage)      |        sum(phase)         |\n================================================================================\n            35.200000763 |                   658 |               0.950000018 |\nQuery OK, 1 row(s) in set (0.000980s)\n")),(0,r.kt)("h4",{id:"stddev"},"STDDEV"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT STDDEV(field_name) FROM tb_name [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868\u4e2d\u67d0\u5217\u7684\u5747\u65b9\u5dee\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 Double\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3002\uff08\u4ece 2.0.15.1 \u7248\u672c\u5f00\u59cb\uff0c\u672c\u51fd\u6570\u4e5f\u652f\u6301",(0,r.kt)("strong",{parentName:"p"},"\u8d85\u7ea7\u8868"),"\uff09"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT STDDEV(current) FROM d1001;\n    stddev(current)      |\n============================\n            1.020892909 |\nQuery OK, 1 row(s) in set (0.000915s)\n")),(0,r.kt)("h4",{id:"leastsquares"},"LEASTSQUARES"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT LEASTSQUARES(field_name, start_val, step_val) FROM tb_name [WHERE clause];\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868\u4e2d\u67d0\u5217\u7684\u503c\u662f\u4e3b\u952e\uff08\u65f6\u95f4\u6233\uff09\u7684\u62df\u5408\u76f4\u7ebf\u65b9\u7a0b\u3002start_val \u662f\u81ea\u53d8\u91cf\u521d\u59cb\u503c\uff0cstep_val \u662f\u81ea\u53d8\u91cf\u7684\u6b65\u957f\u503c\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u5b57\u7b26\u4e32\u8868\u8fbe\u5f0f\uff08\u659c\u7387, \u622a\u8ddd\uff09\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3002")),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT LEASTSQUARES(current, 1, 1) FROM d1001;\n            leastsquares(current, 1, 1)             |\n=====================================================\n{slop:1.000000, intercept:9.733334}                 |\nQuery OK, 1 row(s) in set (0.000921s)\n")),(0,r.kt)("h3",{id:"\u9009\u62e9\u51fd\u6570"},"\u9009\u62e9\u51fd\u6570"),(0,r.kt)("p",null,"\u5728\u4f7f\u7528\u6240\u6709\u7684\u9009\u62e9\u51fd\u6570\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u8f93\u51fa ts \u5217\u6216\u6807\u7b7e\u5217\uff08\u5305\u62ec tbname\uff09\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u65b9\u4fbf\u5730\u77e5\u9053\u88ab\u9009\u51fa\u7684\u503c\u662f\u6e90\u4e8e\u54ea\u4e2a\u6570\u636e\u884c\u7684\u3002"),(0,r.kt)("h4",{id:"min"},"MIN"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT MIN(field_name) FROM {tb_name | stb_name} [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u503c\u6700\u5c0f\u503c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5e94\u7528\u7684\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT MIN(current), MIN(voltage) FROM meters;\n    min(current)     | min(voltage) |\n======================================\n            10.20000 |          218 |\nQuery OK, 1 row(s) in set (0.001765s)\n\ntaos> SELECT MIN(current), MIN(voltage) FROM d1001;\n    min(current)     | min(voltage) |\n======================================\n            10.30000 |          218 |\nQuery OK, 1 row(s) in set (0.000950s)\n")),(0,r.kt)("h4",{id:"max"},"MAX"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT MAX(field_name) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u503c\u6700\u5927\u503c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5e94\u7528\u7684\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT MAX(current), MAX(voltage) FROM meters;\n    max(current)     | max(voltage) |\n======================================\n            13.40000 |          223 |\nQuery OK, 1 row(s) in set (0.001123s)\n\ntaos> SELECT MAX(current), MAX(voltage) FROM d1001;\n    max(current)     | max(voltage) |\n======================================\n            12.60000 |          221 |\nQuery OK, 1 row(s) in set (0.000987s)\n")),(0,r.kt)("h4",{id:"first"},"FIRST"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT FIRST(field_name) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u503c\u6700\u5148\u5199\u5165\u7684\u975e NULL \u503c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5e94\u7528\u7684\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u6240\u6709\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a"),(0,r.kt)("p",null,"1\uff09\u5982\u679c\u8981\u8fd4\u56de\u5404\u4e2a\u5217\u7684\u9996\u4e2a\uff08\u65f6\u95f4\u6233\u6700\u5c0f\uff09\u975e NULL \u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 FIRST(","*",")\uff1b"),(0,r.kt)("p",null,"2\uff09\u5982\u679c\u7ed3\u679c\u96c6\u4e2d\u7684\u67d0\u5217\u5168\u90e8\u4e3a NULL \u503c\uff0c\u5219\u8be5\u5217\u7684\u8fd4\u56de\u7ed3\u679c\u4e5f\u662f NULL\uff1b"),(0,r.kt)("p",null,"3\uff09\u5982\u679c\u7ed3\u679c\u96c6\u4e2d\u6240\u6709\u5217\u5168\u90e8\u4e3a NULL \u503c\uff0c\u5219\u4e0d\u8fd4\u56de\u7ed3\u679c\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT FIRST(*) FROM meters;\n        first(ts)        |    first(current)    | first(voltage) |     first(phase)     |\n=========================================================================================\n2018-10-03 14:38:04.000 |             10.20000 |            220 |              0.23000 |\nQuery OK, 1 row(s) in set (0.004767s)\n\ntaos> SELECT FIRST(current) FROM d1002;\n    first(current)    |\n=======================\n            10.20000 |\nQuery OK, 1 row(s) in set (0.001023s)\n")),(0,r.kt)("h4",{id:"last"},"LAST"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT LAST(field_name) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u503c\u6700\u540e\u5199\u5165\u7684\u975e NULL \u503c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5e94\u7528\u7684\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u6240\u6709\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a"),(0,r.kt)("p",null,"1\uff09\u5982\u679c\u8981\u8fd4\u56de\u5404\u4e2a\u5217\u7684\u6700\u540e\uff08\u65f6\u95f4\u6233\u6700\u5927\uff09\u4e00\u4e2a\u975e NULL \u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 LAST(","*",")\uff1b"),(0,r.kt)("p",null,"2\uff09\u5982\u679c\u7ed3\u679c\u96c6\u4e2d\u7684\u67d0\u5217\u5168\u90e8\u4e3a NULL \u503c\uff0c\u5219\u8be5\u5217\u7684\u8fd4\u56de\u7ed3\u679c\u4e5f\u662f NULL\uff1b\u5982\u679c\u7ed3\u679c\u96c6\u4e2d\u6240\u6709\u5217\u5168\u90e8\u4e3a NULL \u503c\uff0c\u5219\u4e0d\u8fd4\u56de\u7ed3\u679c\u3002"),(0,r.kt)("p",null,"3\uff09\u5728\u7528\u4e8e\u8d85\u7ea7\u8868\u65f6\uff0c\u65f6\u95f4\u6233\u5b8c\u5168\u4e00\u6837\u4e14\u540c\u4e3a\u6700\u5927\u7684\u6570\u636e\u884c\u53ef\u80fd\u6709\u591a\u4e2a\uff0c\u90a3\u4e48\u4f1a\u4ece\u4e2d\u968f\u673a\u8fd4\u56de\u4e00\u6761\uff0c\u800c\u5e76\u4e0d\u4fdd\u8bc1\u591a\u6b21\u8fd0\u884c\u6240\u6311\u9009\u7684\u6570\u636e\u884c\u5fc5\u7136\u4e00\u81f4\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT LAST(*) FROM meters;\n        last(ts)         |    last(current)     | last(voltage) |     last(phase)      |\n========================================================================================\n2018-10-03 14:38:16.800 |             12.30000 |           221 |              0.31000 |\nQuery OK, 1 row(s) in set (0.001452s)\n\ntaos> SELECT LAST(current) FROM d1002;\n    last(current)     |\n=======================\n            10.30000 |\nQuery OK, 1 row(s) in set (0.000843s)\n")),(0,r.kt)("h4",{id:"top"},"TOP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT TOP(field_name, K) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a \u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u503c\u6700\u5927 ",(0,r.kt)("em",{parentName:"p"},"k")," \u4e2a\u975e NULL \u503c\u3002\u5982\u679c\u591a\u6761\u6570\u636e\u53d6\u503c\u4e00\u6837\uff0c\u5168\u90e8\u53d6\u7528\u53c8\u4f1a\u8d85\u51fa k \u6761\u9650\u5236\u65f6\uff0c\u7cfb\u7edf\u4f1a\u4ece\u76f8\u540c\u503c\u4e2d\u968f\u673a\u9009\u53d6\u7b26\u5408\u8981\u6c42\u7684\u6570\u91cf\u8fd4\u56de\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5e94\u7528\u7684\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a"),(0,r.kt)("p",null,"1\uff09",(0,r.kt)("em",{parentName:"p"},"k"),"\u503c\u53d6\u503c\u8303\u56f4 1\u2264",(0,r.kt)("em",{parentName:"p"},"k"),"\u2264100\uff1b"),(0,r.kt)("p",null,"2\uff09\u7cfb\u7edf\u540c\u65f6\u8fd4\u56de\u8be5\u8bb0\u5f55\u5173\u8054\u7684\u65f6\u95f4\u6233\u5217\uff1b"),(0,r.kt)("p",null,"3\uff09\u9650\u5236\uff1aTOP \u51fd\u6570\u4e0d\u652f\u6301 FILL \u5b50\u53e5\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT TOP(current, 3) FROM meters;\n        ts            |   top(current, 3)    |\n=================================================\n2018-10-03 14:38:15.000 |             12.60000 |\n2018-10-03 14:38:16.600 |             13.40000 |\n2018-10-03 14:38:16.800 |             12.30000 |\nQuery OK, 3 row(s) in set (0.001548s)\n\ntaos> SELECT TOP(current, 2) FROM d1001;\n        ts            |   top(current, 2)    |\n=================================================\n2018-10-03 14:38:15.000 |             12.60000 |\n2018-10-03 14:38:16.800 |             12.30000 |\nQuery OK, 2 row(s) in set (0.000810s)\n")),(0,r.kt)("h4",{id:"bottom"},"BOTTOM"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT BOTTOM(field_name, K) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u503c\u6700\u5c0f ",(0,r.kt)("em",{parentName:"p"},"k")," \u4e2a\u975e NULL \u503c\u3002\u5982\u679c\u591a\u6761\u6570\u636e\u53d6\u503c\u4e00\u6837\uff0c\u5168\u90e8\u53d6\u7528\u53c8\u4f1a\u8d85\u51fa k \u6761\u9650\u5236\u65f6\uff0c\u7cfb\u7edf\u4f1a\u4ece\u76f8\u540c\u503c\u4e2d\u968f\u673a\u9009\u53d6\u7b26\u5408\u8981\u6c42\u7684\u6570\u91cf\u8fd4\u56de\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5e94\u7528\u7684\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a"),(0,r.kt)("p",null,"1\uff09",(0,r.kt)("em",{parentName:"p"},"k"),"\u503c\u53d6\u503c\u8303\u56f4 1\u2264",(0,r.kt)("em",{parentName:"p"},"k"),"\u2264100\uff1b"),(0,r.kt)("p",null,"2\uff09\u7cfb\u7edf\u540c\u65f6\u8fd4\u56de\u8be5\u8bb0\u5f55\u5173\u8054\u7684\u65f6\u95f4\u6233\u5217\uff1b"),(0,r.kt)("p",null,"3\uff09\u9650\u5236\uff1aBOTTOM \u51fd\u6570\u4e0d\u652f\u6301 FILL \u5b50\u53e5\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT BOTTOM(voltage, 2) FROM meters;\n        ts            | bottom(voltage, 2) |\n===============================================\n2018-10-03 14:38:15.000 |                218 |\n2018-10-03 14:38:16.650 |                218 |\nQuery OK, 2 row(s) in set (0.001332s)\n\ntaos> SELECT BOTTOM(current, 2) FROM d1001;\n        ts            |  bottom(current, 2)  |\n=================================================\n2018-10-03 14:38:05.000 |             10.30000 |\n2018-10-03 14:38:16.800 |             12.30000 |\nQuery OK, 2 row(s) in set (0.000793s)\n")),(0,r.kt)("h4",{id:"percentile"},"PERCENTILE"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT PERCENTILE(field_name, P) FROM { tb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868\u4e2d\u67d0\u5217\u7684\u503c\u767e\u5206\u6bd4\u5206\u4f4d\u6570\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 Double\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a",(0,r.kt)("em",{parentName:"p"},"P"),"\u503c\u53d6\u503c\u8303\u56f4 0\u2264",(0,r.kt)("em",{parentName:"p"},"P"),"\u2264100\uff0c\u4e3a 0 \u7684\u65f6\u5019\u7b49\u540c\u4e8e MIN\uff0c\u4e3a 100 \u7684\u65f6\u5019\u7b49\u540c\u4e8e MAX\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT PERCENTILE(current, 20) FROM d1001;\npercentile(current, 20)  |\n============================\n            11.100000191 |\nQuery OK, 1 row(s) in set (0.000787s)\n")),(0,r.kt)("h4",{id:"apercentile"},"APERCENTILE"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT APERCENTILE(field_name, P[, algo_type])\nFROM { tb_name | stb_name } [WHERE clause]\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u6307\u5b9a\u5217\u7684\u503c\u767e\u5206\u6bd4\u5206\u4f4d\u6570\uff0c\u4e0e PERCENTILE \u51fd\u6570\u76f8\u4f3c\uff0c\u4f46\u662f\u8fd4\u56de\u8fd1\u4f3c\u7ed3\u679c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a \u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570 Double\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"p"},"P"),"\u503c\u6709\u6548\u53d6\u503c\u8303\u56f4 0\u2264P\u2264100\uff0c\u4e3a 0 \u7684\u65f6\u5019\u7b49\u540c\u4e8e MIN\uff0c\u4e3a 100 \u7684\u65f6\u5019\u7b49\u540c\u4e8e MAX\uff1b",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"p"},"algo_type"),"\u7684\u6709\u6548\u8f93\u5165\uff1a",(0,r.kt)("strong",{parentName:"p"},"default")," \u548c ",(0,r.kt)("strong",{parentName:"p"},"t-digest"),'\u3002 \u7528\u4e8e\u6307\u5b9a\u8ba1\u7b97\u8fd1\u4f3c\u5206\u4f4d\u6570\u7684\u7b97\u6cd5\u3002\u53ef\u4e0d\u63d0\u4f9b\u7b2c\u4e09\u4e2a\u53c2\u6570\u7684\u8f93\u5165\uff0c\u6b64\u65f6\u5c06\u4f7f\u7528 default \u7684\u7b97\u6cd5\u8fdb\u884c\u8ba1\u7b97\uff0c\u5373 apercentile(column_name, 50, "default") \u4e0e apercentile(column_name, 50) \u7b49\u4ef7\u3002\u5f53\u4f7f\u7528\u201ct-digest\u201d\u53c2\u6570\u7684\u65f6\u5019\uff0c\u5c06\u4f7f\u7528 t-digest \u65b9\u5f0f\u91c7\u6837\u8ba1\u7b97\u8fd1\u4f3c\u5206\u4f4d\u6570\u3002\u4f46\u8be5\u53c2\u6570\u6307\u5b9a\u8ba1\u7b97\u7b97\u6cd5\u7684\u529f\u80fd\u4ece 2.2.0.x \u7248\u672c\u5f00\u59cb\u652f\u6301\uff0c2.2.0.0 \u4e4b\u524d\u7684\u7248\u672c\u4e0d\u652f\u6301\u6307\u5b9a\u4f7f\u7528\u7b97\u6cd5\u7684\u529f\u80fd\u3002',(0,r.kt)("br",null)),(0,r.kt)("p",null,"\u5d4c\u5957\u5b50\u67e5\u8be2\u652f\u6301\uff1a\u9002\u7528\u4e8e\u5185\u5c42\u67e5\u8be2\u548c\u5916\u5c42\u67e5\u8be2\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT APERCENTILE(current, 20) FROM d1001;\napercentile(current, 20)  |\n============================\n            10.300000191 |\nQuery OK, 1 row(s) in set (0.000645s)\n\ntaos> select apercentile (count, 80, 'default') from stb1;\n apercentile (c0, 80, 'default') |\n==================================\n             601920857.210056424 |\nQuery OK, 1 row(s) in set (0.012363s)\n\ntaos> select apercentile (count, 80, 't-digest') from stb1;\n apercentile (c0, 80, 't-digest') |\n===================================\n              605869120.966666579 |\nQuery OK, 1 row(s) in set (0.011639s)\n")),(0,r.kt)("h4",{id:"last_row"},"LAST_ROW"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT LAST_ROW(field_name) FROM { tb_name | stb_name };\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u8fd4\u56de\u8868/\u8d85\u7ea7\u8868\u7684\u6700\u540e\u4e00\u6761\u8bb0\u5f55\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5e94\u7528\u7684\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u6240\u6709\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u9650\u5236\uff1aLAST_ROW() \u4e0d\u80fd\u4e0e INTERVAL \u4e00\u8d77\u4f7f\u7528\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\u5728\u7528\u4e8e\u8d85\u7ea7\u8868\u65f6\uff0c\u65f6\u95f4\u6233\u5b8c\u5168\u4e00\u6837\u4e14\u540c\u4e3a\u6700\u5927\u7684\u6570\u636e\u884c\u53ef\u80fd\u6709\u591a\u4e2a\uff0c\u90a3\u4e48\u4f1a\u4ece\u4e2d\u968f\u673a\u8fd4\u56de\u4e00\u6761\uff0c\u800c\u5e76\u4e0d\u4fdd\u8bc1\u591a\u6b21\u8fd0\u884c\u6240\u6311\u9009\u7684\u6570\u636e\u884c\u5fc5\u7136\u4e00\u81f4\u3002",(0,r.kt)("br",null)),(0,r.kt)("p",null,'{" "}'),(0,r.kt)("p",null,'{" "}'),(0,r.kt)("br",null),"\u793a\u4f8b\uff1a",(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"}," taos> SELECT LAST_ROW(current) FROM meters;\n last_row(current)   |\n =======================\n             12.30000 |\n Query OK, 1 row(s) in set (0.001238s)\n\n taos> SELECT LAST_ROW(current) FROM d1002;\n last_row(current)   |\n =======================\n             10.30000 |\n Query OK, 1 row(s) in set (0.001042s)\n")),(0,r.kt)("h4",{id:"interp-231-\u53ca\u4e4b\u540e\u7684\u7248\u672c"},"INTERP ","[2.3.1 \u53ca\u4e4b\u540e\u7684\u7248\u672c]"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT INTERP(field_name) FROM { tb_name | stb_name } [WHERE where_condition] [ RANGE(timestamp1,timestamp2) ] [EVERY(interval)] [FILL ({ VALUE | PREV | NULL | LINEAR | NEXT})];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u8fd4\u56de\u8868/\u8d85\u7ea7\u8868\u7684\u6307\u5b9a\u65f6\u95f4\u622a\u9762\u6307\u5b9a\u5217\u7684\u8bb0\u5f55\u503c\uff08\u63d2\u503c\uff09\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5b57\u6bb5\u7c7b\u578b\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u6570\u503c\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,"\u9002\u7528\u4e8e\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u8868\u3001\u8d85\u7ea7\u8868\u3001\u5d4c\u5957\u67e5\u8be2"),"\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\n1\uff09INTERP \u7528\u4e8e\u5728\u6307\u5b9a\u65f6\u95f4\u65ad\u9762\u83b7\u53d6\u6307\u5b9a\u5217\u7684\u8bb0\u5f55\u503c\uff0c\u5982\u679c\u8be5\u65f6\u95f4\u65ad\u9762\u4e0d\u5b58\u5728\u7b26\u5408\u6761\u4ef6\u7684\u884c\u6570\u636e\uff0c\u90a3\u4e48\u4f1a\u6839\u636e FILL \u53c2\u6570\u7684\u8bbe\u5b9a\u8fdb\u884c\u63d2\u503c\u3002"),(0,r.kt)("p",null,"2\uff09INTERP \u7684\u8f93\u5165\u6570\u636e\u4e3a\u6307\u5b9a\u5217\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7\u6761\u4ef6\u8bed\u53e5\uff08where \u5b50\u53e5\uff09\u6765\u5bf9\u539f\u59cb\u5217\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\u8fc7\u6ee4\u6761\u4ef6\u5219\u8f93\u5165\u4e3a\u5168\u90e8\u6570\u636e\u3002"),(0,r.kt)("p",null,"3\uff09INTERP \u7684\u8f93\u51fa\u65f6\u95f4\u8303\u56f4\u6839\u636e RANGE(timestamp1,timestamp2)\u5b57\u6bb5\u6765\u6307\u5b9a\uff0c\u9700\u6ee1\u8db3 timestamp1<=timestamp2\u3002\u5176\u4e2d timestamp1\uff08\u5fc5\u9009\u503c\uff09\u4e3a\u8f93\u51fa\u65f6\u95f4\u8303\u56f4\u7684\u8d77\u59cb\u503c\uff0c\u5373\u5982\u679c timestamp1 \u65f6\u523b\u7b26\u5408\u63d2\u503c\u6761\u4ef6\u5219 timestamp1 \u4e3a\u8f93\u51fa\u7684\u7b2c\u4e00\u6761\u8bb0\u5f55\uff0ctimestamp2\uff08\u5fc5\u9009\u503c\uff09\u4e3a\u8f93\u51fa\u65f6\u95f4\u8303\u56f4\u7684\u7ed3\u675f\u503c\uff0c\u5373\u8f93\u51fa\u7684\u6700\u540e\u4e00\u6761\u8bb0\u5f55\u7684 timestamp \u4e0d\u80fd\u5927\u4e8e timestamp2\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a RANGE\uff0c\u90a3\u4e48\u6ee1\u8db3\u8fc7\u6ee4\u6761\u4ef6\u7684\u8f93\u5165\u6570\u636e\u4e2d\u7b2c\u4e00\u6761\u8bb0\u5f55\u7684 timestamp \u5373\u4e3a timestamp1\uff0c\u6700\u540e\u4e00\u6761\u8bb0\u5f55\u7684 timestamp \u5373\u4e3a timestamp2\uff0c\u540c\u6837\u4e5f\u6ee1\u8db3 timestamp1 <= timestamp2\u3002"),(0,r.kt)("p",null,"4\uff09INTERP \u6839\u636e EVERY \u5b57\u6bb5\u6765\u786e\u5b9a\u8f93\u51fa\u65f6\u95f4\u8303\u56f4\u5185\u7684\u7ed3\u679c\u6761\u6570\uff0c\u5373\u4ece timestamp1 \u5f00\u59cb\u6bcf\u9694\u56fa\u5b9a\u957f\u5ea6\u7684\u65f6\u95f4\uff08EVERY \u503c\uff09\u8fdb\u884c\u63d2\u503c\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a EVERY\uff0c\u5219\u9ed8\u8ba4\u7a97\u53e3\u5927\u5c0f\u4e3a\u65e0\u7a77\u5927\uff0c\u5373\u4ece timestamp1 \u5f00\u59cb\u53ea\u6709\u4e00\u4e2a\u7a97\u53e3\u3002"),(0,r.kt)("p",null,"5\uff09INTERP \u6839\u636e FILL \u5b57\u6bb5\u6765\u51b3\u5b9a\u5728\u6bcf\u4e2a\u7b26\u5408\u8f93\u51fa\u6761\u4ef6\u7684\u65f6\u523b\u5982\u4f55\u8fdb\u884c\u63d2\u503c\uff0c\u5982\u679c\u6ca1\u6709 FILL \u5b57\u6bb5\u5219\u9ed8\u8ba4\u4e0d\u63d2\u503c\uff0c\u5373\u8f93\u51fa\u4e3a\u539f\u59cb\u8bb0\u5f55\u503c\u6216\u4e0d\u8f93\u51fa\uff08\u539f\u59cb\u8bb0\u5f55\u4e0d\u5b58\u5728\uff09\u3002"),(0,r.kt)("p",null,"6\uff09INTERP \u53ea\u80fd\u5728\u4e00\u4e2a\u65f6\u95f4\u5e8f\u5217\u5185\u8fdb\u884c\u63d2\u503c\uff0c\u56e0\u6b64\u5f53\u4f5c\u7528\u4e8e\u8d85\u7ea7\u8868\u65f6\u5fc5\u987b\u8ddf group by tbname \u4e00\u8d77\u4f7f\u7528\uff0c\u5f53\u4f5c\u7528\u5d4c\u5957\u67e5\u8be2\u5916\u5c42\u65f6\u5185\u5c42\u5b50\u67e5\u8be2\u4e0d\u80fd\u542b GROUP BY \u4fe1\u606f\u3002"),(0,r.kt)("p",null,"7\uff09INTERP \u7684\u63d2\u503c\u7ed3\u679c\u4e0d\u53d7 ORDER BY timestamp \u7684\u5f71\u54cd\uff0cORDER BY timestamp \u53ea\u5f71\u54cd\u8f93\u51fa\u7ed3\u679c\u7684\u6392\u5e8f\u3002"),(0,r.kt)("p",null,"SQL \u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  1) \u5355\u70b9\u7ebf\u6027\u63d2\u503c\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"}," taos> SELECT INTERP(*) FROM t1 RANGE('2017-7-14 18:40:00'\uff0c'2017-7-14 18:40:00') FILL(LINEAR);\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  2) \u57282017-07-14 18:00:00\u52302017-07-14 19:00:00\u95f4\u6bcf\u96945\u79d2\u949f\u8fdb\u884c\u53d6\u503c(\u4e0d\u63d2\u503c)\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"}," taos> SELECT INTERP(*) FROM t1 RANGE('2017-7-14 18:00:00'\uff0c'2017-7-14 19:00:00') EVERY(5s);\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  3) \u57282017-07-14 18:00:00\u52302017-07-14 19:00:00\u95f4\u6bcf\u96945\u79d2\u949f\u8fdb\u884c\u7ebf\u6027\u63d2\u503c\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  taos> SELECT INTERP(*) FROM t1 RANGE('2017-7-14 18:00:00'\uff0c'2017-7-14 19:00:00') EVERY(5s) FILL(LINEAR);\n")),(0,r.kt)("p",null,"4.\u5728\u6240\u6709\u65f6\u95f4\u8303\u56f4\u5185\u6bcf\u9694 5 \u79d2\u949f\u8fdb\u884c\u5411\u540e\u63d2\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  taos> SELECT INTERP(*) FROM t1 EVERY(5s) FILL(NEXT);\n")),(0,r.kt)("p",null,"5.\u6839\u636e 2017-07-14 17:00:00 \u5230 2017-07-14 20:00:00 \u95f4\u7684\u6570\u636e\u8fdb\u884c\u4ece 2017-07-14 18:00:00 \u5230 2017-07-14 19:00:00 \u95f4\u6bcf\u9694 5 \u79d2\u949f\u8fdb\u884c\u7ebf\u6027\u63d2\u503c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"  taos> SELECT INTERP(*) FROM t1 where ts >= '2017-07-14 17:00:00' and ts <= '2017-07-14 20:00:00' RANGE('2017-7-14 18:00:00'\uff0c'2017-7-14 19:00:00') EVERY(5s) FILL(LINEAR);\n")),(0,r.kt)("h4",{id:"interp-231-\u4e4b\u524d\u7684\u7248\u672c"},"INTERP ","[2.3.1 \u4e4b\u524d\u7684\u7248\u672c]"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT INTERP(field_name) FROM { tb_name | stb_name } WHERE ts='timestamp' [FILL ({ VALUE | PREV | NULL | LINEAR | NEXT})];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u8fd4\u56de\u8868/\u8d85\u7ea7\u8868\u7684\u6307\u5b9a\u65f6\u95f4\u622a\u9762\u3001\u6307\u5b9a\u5b57\u6bb5\u7684\u8bb0\u5f55\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5b57\u6bb5\u7c7b\u578b\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u6570\u503c\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\uff08\u4ece 2.0.15.0 \u7248\u672c\u5f00\u59cb\u65b0\u589e\u6b64\u51fd\u6570\uff09 ",(0,r.kt)("br",null),"1\uff09INTERP \u5fc5\u987b\u6307\u5b9a\u65f6\u95f4\u65ad\u9762\uff0c\u5982\u679c\u8be5\u65f6\u95f4\u65ad\u9762\u4e0d\u5b58\u5728\u76f4\u63a5\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u90a3\u4e48\u4f1a\u6839\u636e FILL \u53c2\u6570\u7684\u8bbe\u5b9a\u8fdb\u884c\u63d2\u503c\u3002\u6b64\u5916\uff0c\u6761\u4ef6\u8bed\u53e5\u91cc\u9762\u53ef\u9644\u5e26\u7b5b\u9009\u6761\u4ef6\uff0c\u4f8b\u5982\u6807\u7b7e\u3001tbname\u3002",(0,r.kt)("br",null),"2\uff09INTERP \u67e5\u8be2\u8981\u6c42\u67e5\u8be2\u7684\u65f6\u95f4\u533a\u95f4\u5fc5\u987b\u4f4d\u4e8e\u6570\u636e\u96c6\u5408\uff08\u8868\uff09\u7684\u6240\u6709\u8bb0\u5f55\u7684\u65f6\u95f4\u8303\u56f4\u4e4b\u5185\u3002\u5982\u679c\u7ed9\u5b9a\u7684\u65f6\u95f4\u6233\u4f4d\u4e8e\u65f6\u95f4\u8303\u56f4\u4e4b\u5916\uff0c\u5373\u4f7f\u6709\u63d2\u503c\u6307\u4ee4\uff0c\u4ecd\u7136\u4e0d\u8fd4\u56de\u7ed3\u679c\u3002",(0,r.kt)("br",null),"3\uff09\u5355\u4e2a INTERP \u51fd\u6570\u67e5\u8be2\u53ea\u80fd\u591f\u9488\u5bf9\u4e00\u4e2a\u65f6\u95f4\u70b9\u8fdb\u884c\u67e5\u8be2\uff0c\u5982\u679c\u9700\u8981\u8fd4\u56de\u7b49\u65f6\u95f4\u95f4\u9694\u7684\u65ad\u9762\u6570\u636e\uff0c\u53ef\u4ee5\u901a\u8fc7 INTERP \u914d\u5408 EVERY \u7684\u65b9\u5f0f\u6765\u8fdb\u884c\u67e5\u8be2\u5904\u7406\uff08\u800c\u4e0d\u662f\u4f7f\u7528 INTERVAL\uff09\uff0c\u5176\u542b\u4e49\u662f\u6bcf\u9694\u56fa\u5b9a\u957f\u5ea6\u7684\u65f6\u95f4\u8fdb\u884c\u63d2\u503c\u3002",(0,r.kt)("br",null),(0,r.kt)("br",{parentName:"p"}),"\n","\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"}," taos> SELECT INTERP(*) FROM meters WHERE ts='2017-7-14 18:40:00.004';\n        interp(ts)        |   interp(current)    | interp(voltage) |    interp(phase)     |\n ==========================================================================================\n  2017-07-14 18:40:00.004 |              9.84020 |             216 |              0.32222 |\n Query OK, 1 row(s) in set (0.002652s)\n")),(0,r.kt)("p",null,"\u5982\u679c\u7ed9\u5b9a\u7684\u65f6\u95f4\u6233\u65e0\u5bf9\u5e94\u7684\u6570\u636e\uff0c\u5728\u4e0d\u6307\u5b9a\u63d2\u503c\u751f\u6210\u7b56\u7565\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u4f1a\u8fd4\u56de\u7ed3\u679c\uff0c\u5982\u679c\u6307\u5b9a\u4e86\u63d2\u503c\u7b56\u7565\uff0c\u4f1a\u6839\u636e\u63d2\u503c\u7b56\u7565\u8fd4\u56de\u7ed3\u679c\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"}," taos> SELECT INTERP(*) FROM meters WHERE tbname IN ('d636') AND ts='2017-7-14 18:40:00.005';\n Query OK, 0 row(s) in set (0.004022s)\n\n taos> SELECT INTERP(*) FROM meters WHERE tbname IN ('d636') AND ts='2017-7-14 18:40:00.005' FILL(PREV);\n        interp(ts)        |   interp(current)    | interp(voltage) |    interp(phase)     |\n ==========================================================================================\n  2017-07-14 18:40:00.005 |              9.88150 |             217 |              0.32500 |\n Query OK, 1 row(s) in set (0.003056s)\n")),(0,r.kt)("p",null,"\u5982\u4e0b\u6240\u793a\u4ee3\u7801\u8868\u793a\u5728\u65f6\u95f4\u533a\u95f4 ",(0,r.kt)("inlineCode",{parentName:"p"},"['2017-7-14 18:40:00', '2017-7-14 18:40:00.014']")," \u4e2d\u6bcf\u9694 5 \u6beb\u79d2 \u8fdb\u884c\u4e00\u6b21\u65ad\u9762\u8ba1\u7b97\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"}," taos> SELECT INTERP(current) FROM d636 WHERE ts>='2017-7-14 18:40:00' AND ts<='2017-7-14 18:40:00.014' EVERY(5a);\n            ts            |   interp(current)    |\n =================================================\n  2017-07-14 18:40:00.000 |             10.04179 |\n  2017-07-14 18:40:00.010 |             10.16123 |\n Query OK, 2 row(s) in set (0.003487s)\n")),(0,r.kt)("h3",{id:"\u8ba1\u7b97\u51fd\u6570"},"\u8ba1\u7b97\u51fd\u6570"),(0,r.kt)("h4",{id:"diff"},"DIFF"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT DIFF(field_name) FROM tb_name [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868\u4e2d\u67d0\u5217\u7684\u503c\u4e0e\u524d\u4e00\u884c\u5bf9\u5e94\u503c\u7684\u5dee\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u540c\u5e94\u7528\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,"\u9002\u7528\u4e8e\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u8868\u3001\uff08\u8d85\u7ea7\u8868\uff09"),"\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\u8f93\u51fa\u7ed3\u679c\u884c\u6570\u662f\u8303\u56f4\u5185\u603b\u884c\u6570\u51cf\u4e00\uff0c\u7b2c\u4e00\u884c\u6ca1\u6709\u7ed3\u679c\u8f93\u51fa\u3002\u4ece 2.1.3.0 \u7248\u672c\u5f00\u59cb\uff0cDIFF \u51fd\u6570\u53ef\u4ee5\u5728\u7531 GROUP BY \u5212\u5206\u51fa\u5355\u72ec\u65f6\u95f4\u7ebf\u7684\u60c5\u51b5\u4e0b\u7528\u4e8e\u8d85\u7ea7\u8868\uff08\u4e5f\u5373 GROUP BY tbname\uff09\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT DIFF(current) FROM d1001;\n        ts            |    diff(current)     |\n=================================================\n2018-10-03 14:38:15.000 |              2.30000 |\n2018-10-03 14:38:16.800 |             -0.30000 |\nQuery OK, 2 row(s) in set (0.001162s)\n")),(0,r.kt)("h4",{id:"derivative"},"DERIVATIVE"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT DERIVATIVE(field_name, time_interval, ignore_negative) FROM tb_name [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868\u4e2d\u67d0\u5217\u6570\u503c\u7684\u5355\u4f4d\u53d8\u5316\u7387\u3002\u5176\u4e2d\u5355\u4f4d\u65f6\u95f4\u533a\u95f4\u7684\u957f\u5ea6\u53ef\u4ee5\u901a\u8fc7 time_interval \u53c2\u6570\u6307\u5b9a\uff0c\u6700\u5c0f\u53ef\u4ee5\u662f 1 \u79d2\uff081s\uff09\uff1bignore_negative \u53c2\u6570\u7684\u503c\u53ef\u4ee5\u662f 0 \u6216 1\uff0c\u4e3a 1 \u65f6\u8868\u793a\u5ffd\u7565\u8d1f\u503c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,"\u9002\u7528\u4e8e\uff1a",(0,r.kt)("strong",{parentName:"p"},"\u8868\u3001\uff08\u8d85\u7ea7\u8868\uff09"),"\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\uff08\u4ece 2.1.3.0 \u7248\u672c\u5f00\u59cb\u65b0\u589e\u6b64\u51fd\u6570\uff09\u8f93\u51fa\u7ed3\u679c\u884c\u6570\u662f\u8303\u56f4\u5185\u603b\u884c\u6570\u51cf\u4e00\uff0c\u7b2c\u4e00\u884c\u6ca1\u6709\u7ed3\u679c\u8f93\u51fa\u3002DERIVATIVE \u51fd\u6570\u53ef\u4ee5\u5728\u7531 GROUP BY \u5212\u5206\u51fa\u5355\u72ec\u65f6\u95f4\u7ebf\u7684\u60c5\u51b5\u4e0b\u7528\u4e8e\u8d85\u7ea7\u8868\uff08\u4e5f\u5373 GROUP BY tbname\uff09\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> select derivative(current, 10m, 0) from t1;\n           ts            | derivative(current, 10m, 0) |\n========================================================\n 2021-08-20 10:11:22.790 |                 0.500000000 |\n 2021-08-20 11:11:22.791 |                 0.166666620 |\n 2021-08-20 12:11:22.791 |                 0.000000000 |\n 2021-08-20 13:11:22.792 |                 0.166666620 |\n 2021-08-20 14:11:22.792 |                -0.666666667 |\nQuery OK, 5 row(s) in set (0.004883s)\n")),(0,r.kt)("h4",{id:"spread"},"SPREAD"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT SPREAD(field_name) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u7684\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\u4e4b\u5dee\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\u53ef\u7528\u4e8e TIMESTAMP \u5b57\u6bb5\uff0c\u6b64\u65f6\u8868\u793a\u8bb0\u5f55\u7684\u65f6\u95f4\u8986\u76d6\u8303\u56f4\u3002"),(0,r.kt)("p",null,"\u793a\u4f8b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"taos> SELECT SPREAD(voltage) FROM meters;\n    spread(voltage)      |\n============================\n            5.000000000 |\nQuery OK, 1 row(s) in set (0.001792s)\n\ntaos> SELECT SPREAD(voltage) FROM d1001;\n    spread(voltage)      |\n============================\n            3.000000000 |\nQuery OK, 1 row(s) in set (0.000836s)\n")),(0,r.kt)("h4",{id:"ceil"},"CEIL"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT CEIL(field_name) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u83b7\u5f97\u6307\u5b9a\u5217\u7684\u5411\u4e0a\u53d6\u6574\u6570\u7684\u7ed3\u679c\u3002"),(0,r.kt)("p",null,"\u8fd4\u56de\u7ed3\u679c\u7c7b\u578b\uff1a\u4e0e\u6307\u5b9a\u5217\u7684\u539f\u59cb\u6570\u636e\u7c7b\u578b\u4e00\u81f4\u3002\u4f8b\u5982\uff0c\u5982\u679c\u6307\u5b9a\u5217\u7684\u539f\u59cb\u6570\u636e\u7c7b\u578b\u4e3a Float\uff0c\u90a3\u4e48\u8fd4\u56de\u7684\u6570\u636e\u7c7b\u578b\u4e5f\u4e3a Float\uff1b\u5982\u679c\u6307\u5b9a\u5217\u7684\u539f\u59cb\u6570\u636e\u7c7b\u578b\u4e3a Double\uff0c\u90a3\u4e48\u8fd4\u56de\u7684\u6570\u636e\u7c7b\u578b\u4e5f\u4e3a Double\u3002"),(0,r.kt)("p",null,"\u9002\u7528\u6570\u636e\u7c7b\u578b\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u4e0a\uff1b\u5728\u8d85\u7ea7\u8868\u67e5\u8be2\u4e2d\u4f7f\u7528\u65f6\uff0c\u4e0d\u80fd\u5e94\u7528\u5728 tag \u5217\uff0c\u65e0\u8bba tag \u5217\u7684\u7c7b\u578b\u662f\u4ec0\u4e48\u7c7b\u578b\u3002"),(0,r.kt)("p",null,"\u5d4c\u5957\u5b50\u67e5\u8be2\u652f\u6301\uff1a\u9002\u7528\u4e8e\u5185\u5c42\u67e5\u8be2\u548c\u5916\u5c42\u67e5\u8be2\u3002"),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a\n\u652f\u6301 +\u3001-\u3001","*","\u3001/ \u8fd0\u7b97\uff0c\u5982 ceil(col1) + ceil(col2)\u3002\n\u53ea\u80fd\u4e0e\u666e\u901a\u5217\uff0c\u9009\u62e9\uff08Selection\uff09\u3001\u6295\u5f71\uff08Projection\uff09\u51fd\u6570\u4e00\u8d77\u4f7f\u7528\uff0c\u4e0d\u80fd\u4e0e\u805a\u5408\uff08Aggregation\uff09\u51fd\u6570\u4e00\u8d77\u4f7f\u7528\u3002\n\u8be5\u51fd\u6570\u53ef\u4ee5\u5e94\u7528\u5728\u666e\u901a\u8868\u548c\u8d85\u7ea7\u8868\u4e0a\u3002"),(0,r.kt)("h4",{id:"floor"},"FLOOR"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT FLOOR(field_name) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u83b7\u5f97\u6307\u5b9a\u5217\u7684\u5411\u4e0b\u53d6\u6574\u6570\u7684\u7ed3\u679c\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u5176\u4ed6\u4f7f\u7528\u8bf4\u660e\u53c2\u89c1 CEIL \u51fd\u6570\u63cf\u8ff0\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"ROUND")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"SELECT ROUND(field_name) FROM { tb_name | stb_name } [WHERE clause];\n")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u83b7\u5f97\u6307\u5b9a\u5217\u7684\u56db\u820d\u4e94\u5165\u7684\u7ed3\u679c\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u5176\u4ed6\u4f7f\u7528\u8bf4\u660e\u53c2\u89c1 CEIL \u51fd\u6570\u63cf\u8ff0\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u56db\u5219\u8fd0\u7b97")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"SELECT field_name [+|-|*|/|%][Value|field_name] FROM { tb_name | stb_name }  [WHERE clause];\n")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u529f\u80fd\u8bf4\u660e"),"\uff1a\u7edf\u8ba1\u8868/\u8d85\u7ea7\u8868\u4e2d\u67d0\u5217\u6216\u591a\u5217\u95f4\u7684\u503c\u52a0\u3001\u51cf\u3001\u4e58\u3001\u9664\u3001\u53d6\u4f59\u8ba1\u7b97\u7ed3\u679c\u3002"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u8fd4\u56de\u6570\u636e\u7c7b\u578b"),"\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u3002"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u5e94\u7528\u5b57\u6bb5"),"\uff1a\u4e0d\u80fd\u5e94\u7528\u5728 timestamp\u3001binary\u3001nchar\u3001bool \u7c7b\u578b\u5b57\u6bb5\u3002"),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"\u9002\u7528\u4e8e"),"\uff1a\u8868\u3001\u8d85\u7ea7\u8868\u3002"),(0,r.kt)("p",{parentName:"li"},"\u8bf4\u660e\uff1a"),(0,r.kt)("p",{parentName:"li"},"1\uff09\u652f\u6301\u4e24\u5217\u6216\u591a\u5217\u4e4b\u95f4\u8fdb\u884c\u8ba1\u7b97\uff0c\u53ef\u4f7f\u7528\u62ec\u53f7\u63a7\u5236\u8ba1\u7b97\u4f18\u5148\u7ea7\uff1b"),(0,r.kt)("p",{parentName:"li"},"2\uff09NULL \u5b57\u6bb5\u4e0d\u53c2\u4e0e\u8ba1\u7b97\uff0c\u5982\u679c\u53c2\u4e0e\u8ba1\u7b97\u7684\u67d0\u884c\u4e2d\u5305\u542b NULL\uff0c\u8be5\u884c\u7684\u8ba1\u7b97\u7ed3\u679c\u4e3a NULL\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"taos> SELECT current + voltage * phase FROM d1001;\n(current+(voltage*phase)) |\n============================\n            78.190000713 |\n            84.540003240 |\n            80.810000718 |\nQuery OK, 3 row(s) in set (0.001046s)\n")))),(0,r.kt)("h2",{id:"\u6309\u7a97\u53e3\u5207\u5206\u805a\u5408"},"\u6309\u7a97\u53e3\u5207\u5206\u805a\u5408"),(0,r.kt)("p",null,"TDengine \u652f\u6301\u6309\u65f6\u95f4\u6bb5\u7a97\u53e3\u5207\u5206\u65b9\u5f0f\u8fdb\u884c\u805a\u5408\u7ed3\u679c\u67e5\u8be2\uff0c\u6bd4\u5982\u6e29\u5ea6\u4f20\u611f\u5668\u6bcf\u79d2\u91c7\u96c6\u4e00\u6b21\u6570\u636e\uff0c\u4f46\u9700\u67e5\u8be2\u6bcf\u9694 10 \u5206\u949f\u7684\u6e29\u5ea6\u5e73\u5747\u503c\u3002\u8fd9\u79cd\u573a\u666f\u4e0b\u53ef\u4ee5\u4f7f\u7528\u7a97\u53e3\u5b50\u53e5\u6765\u83b7\u5f97\u9700\u8981\u7684\u67e5\u8be2\u7ed3\u679c\u3002\n\u7a97\u53e3\u5b50\u53e5\u7528\u4e8e\u9488\u5bf9\u67e5\u8be2\u7684\u6570\u636e\u96c6\u5408\u8fdb\u884c\u6309\u7167\u7a97\u53e3\u5207\u5206\u6210\u4e3a\u67e5\u8be2\u5b50\u96c6\u5e76\u8fdb\u884c\u805a\u5408\uff0c\u7a97\u53e3\u5305\u542b\u65f6\u95f4\u7a97\u53e3\uff08time window\uff09\u3001\u72b6\u6001\u7a97\u53e3\uff08status window\uff09\u3001\u4f1a\u8bdd\u7a97\u53e3\uff08session window\uff09\u4e09\u79cd\u7a97\u53e3\u3002\u5176\u4e2d\u65f6\u95f4\u7a97\u53e3\u53c8\u53ef\u5212\u5206\u4e3a\u6ed1\u52a8\u65f6\u95f4\u7a97\u53e3\u548c\u7ffb\u8f6c\u65f6\u95f4\u7a97\u53e3\u3002"),(0,r.kt)("p",null,"\u65f6\u95f4\u7a97\u53e3"),(0,r.kt)("p",null,"INTERVAL \u5b50\u53e5\u7528\u4e8e\u4ea7\u751f\u76f8\u7b49\u65f6\u95f4\u5468\u671f\u7684\u7a97\u53e3\uff0cSLIDING \u7528\u4ee5\u6307\u5b9a\u7a97\u53e3\u5411\u524d\u6ed1\u52a8\u7684\u65f6\u95f4\u3002\u6bcf\u6b21\u6267\u884c\u7684\u67e5\u8be2\u662f\u4e00\u4e2a\u65f6\u95f4\u7a97\u53e3\uff0c\u65f6\u95f4\u7a97\u53e3\u968f\u7740\u65f6\u95f4\u6d41\u52a8\u5411\u524d\u6ed1\u52a8\u3002\u5728\u5b9a\u4e49\u8fde\u7eed\u67e5\u8be2\u7684\u65f6\u5019\u9700\u8981\u6307\u5b9a\u65f6\u95f4\u7a97\u53e3\uff08time window \uff09\u5927\u5c0f\u548c\u6bcf\u6b21\u524d\u5411\u589e\u91cf\u65f6\u95f4\uff08forward sliding times\uff09\u3002\u5982\u56fe\uff0c","[t0s, t0e]"," \uff0c","[t1s , t1e]","\uff0c ","[t2s, t2e]"," \u662f\u5206\u522b\u662f\u6267\u884c\u4e09\u6b21\u8fde\u7eed\u67e5\u8be2\u7684\u65f6\u95f4\u7a97\u53e3\u8303\u56f4\uff0c\u7a97\u53e3\u7684\u524d\u5411\u6ed1\u52a8\u7684\u65f6\u95f4\u8303\u56f4 sliding time \u6807\u8bc6 \u3002\u67e5\u8be2\u8fc7\u6ee4\u3001\u805a\u5408\u7b49\u64cd\u4f5c\u6309\u7167\u6bcf\u4e2a\u65f6\u95f4\u7a97\u53e3\u4e3a\u72ec\u7acb\u7684\u5355\u4f4d\u6267\u884c\u3002\u5f53 SLIDING \u4e0e INTERVAL \u76f8\u7b49\u7684\u65f6\u5019\uff0c\u6ed1\u52a8\u7a97\u53e3\u5373\u4e3a\u7ffb\u8f6c\u7a97\u53e3\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u65f6\u95f4\u7a97\u53e3\u793a\u610f\u56fe",src:n(268).Z,width:"2276",height:"1077"})),(0,r.kt)("p",null,"INTERVAL \u548c SLIDING \u5b50\u53e5\u9700\u8981\u914d\u5408\u805a\u5408\u548c\u9009\u62e9\u51fd\u6570\u6765\u4f7f\u7528\u3002\u4ee5\u4e0b SQL \u8bed\u53e5\u975e\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT * FROM temp_table INTERVAL(1S)\n")),(0,r.kt)("p",null,"SLIDING \u7684\u5411\u524d\u6ed1\u52a8\u7684\u65f6\u95f4\u4e0d\u80fd\u8d85\u8fc7\u4e00\u4e2a\u7a97\u53e3\u7684\u65f6\u95f4\u8303\u56f4\u3002\u4ee5\u4e0b\u8bed\u53e5\u975e\u6cd5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT COUNT(*) FROM temp_table INTERVAL(1D) SLIDING(2D)\n")),(0,r.kt)("p",null,"\u5f53 SLIDING \u4e0e INTERVAL \u53d6\u503c\u76f8\u7b49\u7684\u65f6\u5019\uff0c\u6ed1\u52a8\u7a97\u53e3\u5373\u4e3a\u7ffb\u8f6c\u7a97\u53e3\u3002\n",(0,r.kt)("em",{parentName:"p"}," \u805a\u5408\u65f6\u95f4\u6bb5\u7684\u7a97\u53e3\u5bbd\u5ea6\u7531\u5173\u952e\u8bcd INTERVAL \u6307\u5b9a\uff0c\u6700\u77ed\u65f6\u95f4\u95f4\u9694 10 \u6beb\u79d2\uff0810a\uff09\uff1b\u5e76\u4e14\u652f\u6301\u504f\u79fb offset\uff08\u504f\u79fb\u5fc5\u987b\u5c0f\u4e8e\u95f4\u9694\uff09\uff0c\u4e5f\u5373\u65f6\u95f4\u7a97\u53e3\u5212\u5206\u4e0e\u201cUTC \u65f6\u523b 0\u201d\u76f8\u6bd4\u7684\u504f\u79fb\u91cf\u3002SLIDING \u8bed\u53e5\u7528\u4e8e\u6307\u5b9a\u805a\u5408\u65f6\u95f4\u6bb5\u7684\u524d\u5411\u589e\u91cf\uff0c\u4e5f\u5373\u6bcf\u6b21\u7a97\u53e3\u5411\u524d\u6ed1\u52a8\u7684\u65f6\u957f\u3002\n")," \u4ece 2.1.5.0 \u7248\u672c\u5f00\u59cb\uff0cINTERVAL \u8bed\u53e5\u5141\u8bb8\u7684\u6700\u77ed\u65f6\u95f4\u95f4\u9694\u8c03\u6574\u4e3a 1 \u5fae\u79d2\uff081u\uff09\uff0c\u5f53\u7136\u5982\u679c\u6240\u67e5\u8be2\u7684 DATABASE \u7684\u65f6\u95f4\u7cbe\u5ea6\u8bbe\u7f6e\u4e3a\u6beb\u79d2\u7ea7\uff0c\u90a3\u4e48\u5141\u8bb8\u7684\u6700\u77ed\u65f6\u95f4\u95f4\u9694\u4e3a 1 \u6beb\u79d2\uff081a\uff09\u3002 ","*"," ",(0,r.kt)("strong",{parentName:"p"},"\u6ce8\u610f"),"\uff1a\u7528\u5230 INTERVAL \u8bed\u53e5\u65f6\uff0c\u9664\u975e\u6781\u7279\u6b8a\u7684\u60c5\u51b5\uff0c\u90fd\u8981\u6c42\u628a\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\u7684 taos.cfg \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 timezone \u53c2\u6570\u914d\u7f6e\u4e3a\u76f8\u540c\u7684\u53d6\u503c\uff0c\u4ee5\u907f\u514d\u65f6\u95f4\u5904\u7406\u51fd\u6570\u9891\u7e41\u8fdb\u884c\u8de8\u65f6\u533a\u8f6c\u6362\u800c\u5bfc\u81f4\u7684\u4e25\u91cd\u6027\u80fd\u5f71\u54cd\u3002"),(0,r.kt)("p",null,"\u72b6\u6001\u7a97\u53e3"),(0,r.kt)("p",null,"\u4f7f\u7528\u6574\u6570\uff08\u5e03\u5c14\u503c\uff09\u6216\u5b57\u7b26\u4e32\u6765\u6807\u8bc6\u4ea7\u751f\u8bb0\u5f55\u65f6\u5019\u8bbe\u5907\u7684\u72b6\u6001\u91cf\u3002\u4ea7\u751f\u7684\u8bb0\u5f55\u5982\u679c\u5177\u6709\u76f8\u540c\u7684\u72b6\u6001\u91cf\u6570\u503c\u5219\u5f52\u5c5e\u4e8e\u540c\u4e00\u4e2a\u72b6\u6001\u7a97\u53e3\uff0c\u6570\u503c\u6539\u53d8\u540e\u8be5\u7a97\u53e3\u5173\u95ed\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u6839\u636e\u72b6\u6001\u91cf\u786e\u5b9a\u7684\u72b6\u6001\u7a97\u53e3\u5206\u522b\u662f","[2019-04-28 14:22:07\uff0c2019-04-28 14:22:10]","\u548c","[2019-04-28 14:22:11\uff0c2019-04-28 14:22:12]","\u4e24\u4e2a\u3002\uff08\u72b6\u6001\u7a97\u53e3\u6682\u4e0d\u652f\u6301\u5bf9\u8d85\u7ea7\u8868\u4f7f\u7528\uff09"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u65f6\u95f4\u7a97\u53e3\u793a\u610f\u56fe",src:n(3109).Z,width:"580",height:"177"})),(0,r.kt)("p",null,"\u4f7f\u7528 STATE_WINDOW \u6765\u786e\u5b9a\u72b6\u6001\u7a97\u53e3\u5212\u5206\u7684\u5217\u3002\u4f8b\u5982\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT COUNT(*), FIRST(ts), status FROM temp_tb_1 STATE_WINDOW(status)\n")),(0,r.kt)("p",null,"\u4f1a\u8bdd\u7a97\u53e3"),(0,r.kt)("p",null,"\u4f1a\u8bdd\u7a97\u53e3\u6839\u636e\u8bb0\u5f55\u7684\u65f6\u95f4\u6233\u4e3b\u952e\u7684\u503c\u6765\u786e\u5b9a\u662f\u5426\u5c5e\u4e8e\u540c\u4e00\u4e2a\u4f1a\u8bdd\u3002\u5982\u4e0b\u56fe\u6240\u793a\uff0c\u5982\u679c\u8bbe\u7f6e\u65f6\u95f4\u6233\u7684\u8fde\u7eed\u7684\u95f4\u9694\u5c0f\u4e8e\u7b49\u4e8e 12 \u79d2\uff0c\u5219\u4ee5\u4e0b 6 \u6761\u8bb0\u5f55\u6784\u6210 2 \u4e2a\u4f1a\u8bdd\u7a97\u53e3\uff0c\u5206\u522b\u662f\uff1a","[2019-04-28 14:22:10\uff0c2019-04-28 14:22:30]","\u548c","[2019-04-28 14:23:10\uff0c2019-04-28 14:23:30]","\u3002\u56e0\u4e3a 2019-04-28 14:22:30 \u4e0e 2019-04-28 14:23:10 \u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694\u662f 40 \u79d2\uff0c\u8d85\u8fc7\u4e86\u8fde\u7eed\u65f6\u95f4\u95f4\u9694\uff0812 \u79d2\uff09\u3002"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"\u65f6\u95f4\u7a97\u53e3\u793a\u610f\u56fe",src:n(811).Z,width:"589",height:"175"})),(0,r.kt)("p",null,"\u5728 tol_value \u65f6\u95f4\u95f4\u9694\u8303\u56f4\u5185\u7684\u7ed3\u679c\u90fd\u8ba4\u4e3a\u5f52\u5c5e\u4e8e\u540c\u4e00\u4e2a\u7a97\u53e3\uff0c\u5982\u679c\u8fde\u7eed\u7684\u4e24\u6761\u8bb0\u5f55\u7684\u65f6\u95f4\u8d85\u8fc7 tol_val\uff0c\u5219\u81ea\u52a8\u5f00\u542f\u4e0b\u4e00\u4e2a\u7a97\u53e3\u3002\uff08\u4f1a\u8bdd\u7a97\u53e3\u6682\u4e0d\u652f\u6301\u5bf9\u8d85\u7ea7\u8868\u4f7f\u7528\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\nSELECT COUNT(*), FIRST(ts) FROM temp_tb_1 SESSION(ts, tol_val)\n")),(0,r.kt)("p",null,"\u8fd9\u79cd\u7c7b\u578b\u7684\u67e5\u8be2\u8bed\u6cd5\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT function_list FROM tb_name\n  [WHERE where_condition]\n  [SESSION(ts_col, tol_val)]\n  [STATE_WINDOW(col)]\n  [INTERVAL(interval [, offset]) [SLIDING sliding]]\n  [FILL({NONE | VALUE | PREV | NULL | LINEAR | NEXT})]\n\nSELECT function_list FROM stb_name\n  [WHERE where_condition]\n  [INTERVAL(interval [, offset]) [SLIDING sliding]]\n  [FILL({NONE | VALUE | PREV | NULL | LINEAR | NEXT})]\n  [GROUP BY tags]\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728\u805a\u5408\u67e5\u8be2\u4e2d\uff0cfunction_list \u4f4d\u7f6e\u5141\u8bb8\u4f7f\u7528\u805a\u5408\u548c\u9009\u62e9\u51fd\u6570\uff0c\u5e76\u8981\u6c42\u6bcf\u4e2a\u51fd\u6570\u4ec5\u8f93\u51fa\u5355\u4e2a\u7ed3\u679c\uff08\u4f8b\u5982\uff1aCOUNT\u3001AVG\u3001SUM\u3001STDDEV\u3001LEASTSQUARES\u3001PERCENTILE\u3001MIN\u3001MAX\u3001FIRST\u3001LAST\uff09\uff0c\u800c\u4e0d\u80fd\u4f7f\u7528\u5177\u6709\u591a\u884c\u8f93\u51fa\u7ed3\u679c\u7684\u51fd\u6570\uff08\u4f8b\u5982\uff1aDIFF \u4ee5\u53ca\u56db\u5219\u8fd0\u7b97\uff09\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6b64\u5916\u4e5f LAST_ROW \u67e5\u8be2\u4e5f\u4e0d\u80fd\u4e0e\u7a97\u53e3\u805a\u5408\u540c\u65f6\u51fa\u73b0\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6807\u91cf\u51fd\u6570\uff08\u5982\uff1aCEIL/FLOOR \u7b49\uff09\u4e5f\u4e0d\u80fd\u4f7f\u7528\u5728\u7a97\u53e3\u805a\u5408\u67e5\u8be2\u4e2d\u3002")),(0,r.kt)("li",{parentName:"ul"}),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"WHERE \u8bed\u53e5\u53ef\u4ee5\u6307\u5b9a\u67e5\u8be2\u7684\u8d77\u6b62\u65f6\u95f4\u548c\u5176\u4ed6\u8fc7\u6ee4\u6761\u4ef6\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"FILL \u8bed\u53e5\u6307\u5b9a\u67d0\u4e00\u7a97\u53e3\u533a\u95f4\u6570\u636e\u7f3a\u5931\u7684\u60c5\u51b5\u4e0b\u7684\u586b\u5145\u6a21\u5f0f\u3002\u586b\u5145\u6a21\u5f0f\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\uff1a"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4e0d\u8fdb\u884c\u586b\u5145\uff1aNONE\uff08\u9ed8\u8ba4\u586b\u5145\u6a21\u5f0f\uff09\u3002"),(0,r.kt)("li",{parentName:"ol"},"VALUE \u586b\u5145\uff1a\u56fa\u5b9a\u503c\u586b\u5145\uff0c\u6b64\u65f6\u9700\u8981\u6307\u5b9a\u586b\u5145\u7684\u6570\u503c\u3002\u4f8b\u5982\uff1aFILL(VALUE, 1.23)\u3002"),(0,r.kt)("li",{parentName:"ol"},"PREV \u586b\u5145\uff1a\u4f7f\u7528\u524d\u4e00\u4e2a\u975e NULL \u503c\u586b\u5145\u6570\u636e\u3002\u4f8b\u5982\uff1aFILL(PREV)\u3002"),(0,r.kt)("li",{parentName:"ol"},"NULL \u586b\u5145\uff1a\u4f7f\u7528 NULL \u586b\u5145\u6570\u636e\u3002\u4f8b\u5982\uff1aFILL(NULL)\u3002"),(0,r.kt)("li",{parentName:"ol"},"LINEAR \u586b\u5145\uff1a\u6839\u636e\u524d\u540e\u8ddd\u79bb\u6700\u8fd1\u7684\u975e NULL \u503c\u505a\u7ebf\u6027\u63d2\u503c\u586b\u5145\u3002\u4f8b\u5982\uff1aFILL(LINEAR)\u3002"),(0,r.kt)("li",{parentName:"ol"},"NEXT \u586b\u5145\uff1a\u4f7f\u7528\u4e0b\u4e00\u4e2a\u975e NULL \u503c\u586b\u5145\u6570\u636e\u3002\u4f8b\u5982\uff1aFILL(NEXT)\u3002")))),(0,r.kt)("p",null,"\u8bf4\u660e\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u4f7f\u7528 FILL \u8bed\u53e5\u7684\u65f6\u5019\u53ef\u80fd\u751f\u6210\u5927\u91cf\u7684\u586b\u5145\u8f93\u51fa\uff0c\u52a1\u5fc5\u6307\u5b9a\u67e5\u8be2\u7684\u65f6\u95f4\u533a\u95f4\u3002\u9488\u5bf9\u6bcf\u6b21\u67e5\u8be2\uff0c\u7cfb\u7edf\u53ef\u8fd4\u56de\u4e0d\u8d85\u8fc7 1 \u5343\u4e07\u6761\u5177\u6709\u63d2\u503c\u7684\u7ed3\u679c\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u65f6\u95f4\u7ef4\u5ea6\u805a\u5408\u4e2d\uff0c\u8fd4\u56de\u7684\u7ed3\u679c\u4e2d\u65f6\u95f4\u5e8f\u5217\u4e25\u683c\u5355\u8c03\u9012\u589e\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5982\u679c\u67e5\u8be2\u5bf9\u8c61\u662f\u8d85\u7ea7\u8868\uff0c\u5219\u805a\u5408\u51fd\u6570\u4f1a\u4f5c\u7528\u4e8e\u8be5\u8d85\u7ea7\u8868\u4e0b\u6ee1\u8db3\u503c\u8fc7\u6ee4\u6761\u4ef6\u7684\u6240\u6709\u8868\u7684\u6570\u636e\u3002\u5982\u679c\u67e5\u8be2\u4e2d\u6ca1\u6709\u4f7f\u7528 GROUP BY \u8bed\u53e5\uff0c\u5219\u8fd4\u56de\u7684\u7ed3\u679c\u6309\u7167\u65f6\u95f4\u5e8f\u5217\u4e25\u683c\u5355\u8c03\u9012\u589e\uff1b\u5982\u679c\u67e5\u8be2\u4e2d\u4f7f\u7528\u4e86 GROUP BY \u8bed\u53e5\u5206\u7ec4\uff0c\u5219\u8fd4\u56de\u7ed3\u679c\u4e2d\u6bcf\u4e2a GROUP \u5185\u4e0d\u6309\u7167\u65f6\u95f4\u5e8f\u5217\u4e25\u683c\u5355\u8c03\u9012\u589e\u3002")),(0,r.kt)("p",null,"\u65f6\u95f4\u805a\u5408\u4e5f\u5e38\u88ab\u7528\u4e8e\u8fde\u7eed\u67e5\u8be2\u573a\u666f\uff0c\u53ef\u4ee5\u53c2\u8003\u6587\u6863 ",(0,r.kt)("a",{parentName:"p",href:"https://www.taosdata.com/cn/documentation/advanced-features#continuous-query"},"\u8fde\u7eed\u67e5\u8be2(Continuous Query)"),"\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u793a\u4f8b"),"\uff1a \u667a\u80fd\u7535\u8868\u7684\u5efa\u8868\u8bed\u53e5\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"CREATE TABLE meters (ts TIMESTAMP, current FLOAT, voltage INT, phase FLOAT) TAGS (location BINARY(64), groupId INT);\n")),(0,r.kt)("p",null,"\u9488\u5bf9\u667a\u80fd\u7535\u8868\u91c7\u96c6\u7684\u6570\u636e\uff0c\u4ee5 10 \u5206\u949f\u4e3a\u4e00\u4e2a\u9636\u6bb5\uff0c\u8ba1\u7b97\u8fc7\u53bb 24 \u5c0f\u65f6\u7684\u7535\u6d41\u6570\u636e\u7684\u5e73\u5747\u503c\u3001\u6700\u5927\u503c\u3001\u7535\u6d41\u7684\u4e2d\u4f4d\u6570\u3002\u5982\u679c\u6ca1\u6709\u8ba1\u7b97\u503c\uff0c\u7528\u524d\u4e00\u4e2a\u975e NULL \u503c\u586b\u5145\u3002\u4f7f\u7528\u7684\u67e5\u8be2\u8bed\u53e5\u5982\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"SELECT AVG(current), MAX(current), APERCENTILE(current, 50) FROM meters\n  WHERE ts>=NOW-1d and ts<=now\n  INTERVAL(10m)\n  FILL(PREV);\n")),(0,r.kt)("h2",{id:"taos-sql-\u8fb9\u754c\u9650\u5236"},"TAOS SQL \u8fb9\u754c\u9650\u5236"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u5e93\u540d\u6700\u5927\u957f\u5ea6\u4e3a 32\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u8868\u540d\u6700\u5927\u957f\u5ea6\u4e3a 192\uff0c\u6bcf\u884c\u6570\u636e\u6700\u5927\u957f\u5ea6 16k \u4e2a\u5b57\u7b26, \u4ece 2.1.7.0 \u7248\u672c\u5f00\u59cb\uff0c\u6bcf\u884c\u6570\u636e\u6700\u5927\u957f\u5ea6 48k \u4e2a\u5b57\u7b26\uff08\u6ce8\u610f\uff1a\u6570\u636e\u884c\u5185\u6bcf\u4e2a BINARY/NCHAR \u7c7b\u578b\u7684\u5217\u8fd8\u4f1a\u989d\u5916\u5360\u7528 2 \u4e2a\u5b57\u8282\u7684\u5b58\u50a8\u4f4d\u7f6e\uff09\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5217\u540d\u6700\u5927\u957f\u5ea6\u4e3a 64\uff0c\u6700\u591a\u5141\u8bb8 1024 \u5217\uff0c\u6700\u5c11\u9700\u8981 2 \u5217\uff0c\u7b2c\u4e00\u5217\u5fc5\u987b\u662f\u65f6\u95f4\u6233\u3002\uff08\u4ece 2.1.7.0 \u7248\u672c\u5f00\u59cb\uff0c\u6539\u4e3a\u6700\u591a\u5141\u8bb8 4096 \u5217\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u6807\u7b7e\u540d\u6700\u5927\u957f\u5ea6\u4e3a 64\uff0c\u6700\u591a\u5141\u8bb8 128 \u4e2a\uff0c\u53ef\u4ee5 1 \u4e2a\uff0c\u4e00\u4e2a\u8868\u4e2d\u6807\u7b7e\u503c\u7684\u603b\u957f\u5ea6\u4e0d\u8d85\u8fc7 16k \u4e2a\u5b57\u7b26\u3002"),(0,r.kt)("li",{parentName:"ul"},"SQL \u8bed\u53e5\u6700\u5927\u957f\u5ea6 1048576 \u4e2a\u5b57\u7b26\uff0c\u4e5f\u53ef\u901a\u8fc7\u5ba2\u6237\u7aef\u914d\u7f6e\u53c2\u6570 maxSQLLength \u4fee\u6539\uff0c\u53d6\u503c\u8303\u56f4 65480 ~ 1048576\u3002"),(0,r.kt)("li",{parentName:"ul"},"SELECT \u8bed\u53e5\u7684\u67e5\u8be2\u7ed3\u679c\uff0c\u6700\u591a\u5141\u8bb8\u8fd4\u56de 1024 \u5217\uff08\u8bed\u53e5\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u53ef\u80fd\u4e5f\u4f1a\u5360\u7528\u4e00\u4e9b\u5217\u7a7a\u95f4\uff09\uff0c\u8d85\u9650\u65f6\u9700\u8981\u663e\u5f0f\u6307\u5b9a\u8f83\u5c11\u7684\u8fd4\u56de\u6570\u636e\u5217\uff0c\u4ee5\u907f\u514d\u8bed\u53e5\u6267\u884c\u62a5\u9519\u3002\uff08\u4ece 2.1.7.0 \u7248\u672c\u5f00\u59cb\uff0c\u6539\u4e3a\u6700\u591a\u5141\u8bb8 4096 \u5217\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u5e93\u7684\u6570\u76ee\uff0c\u8d85\u7ea7\u8868\u7684\u6570\u76ee\u3001\u8868\u7684\u6570\u76ee\uff0c\u7cfb\u7edf\u4e0d\u505a\u9650\u5236\uff0c\u4ec5\u53d7\u7cfb\u7edf\u8d44\u6e90\u9650\u5236\u3002")),(0,r.kt)("h2",{id:"taos-sql-\u5176\u4ed6\u7ea6\u5b9a"},"TAOS SQL \u5176\u4ed6\u7ea6\u5b9a"),(0,r.kt)("h3",{id:"group-by-\u7684\u9650\u5236"},"GROUP BY \u7684\u9650\u5236"),(0,r.kt)("p",null,"TAOS SQL \u652f\u6301\u5bf9\u6807\u7b7e\u3001TBNAME \u8fdb\u884c GROUP BY \u64cd\u4f5c\uff0c\u4e5f\u652f\u6301\u666e\u901a\u5217\u8fdb\u884c GROUP BY\uff0c\u524d\u63d0\u662f\uff1a\u4ec5\u9650\u4e00\u5217\u4e14\u8be5\u5217\u7684\u552f\u4e00\u503c\u5c0f\u4e8e 10 \u4e07\u4e2a\u3002\u6ce8\u610f\uff1agroup by \u4e0d\u652f\u6301 float,double \u7c7b\u578b\u3002"),(0,r.kt)("h3",{id:"is-not-null-\u4e0e\u4e0d\u4e3a\u7a7a\u7684\u8868\u8fbe\u5f0f\u9002\u7528\u8303\u56f4"},"IS NOT NULL \u4e0e\u4e0d\u4e3a\u7a7a\u7684\u8868\u8fbe\u5f0f\u9002\u7528\u8303\u56f4"),(0,r.kt)("p",null,"IS NOT NULL \u652f\u6301\u6240\u6709\u7c7b\u578b\u7684\u5217\u3002\u4e0d\u4e3a\u7a7a\u7684\u8868\u8fbe\u5f0f\u4e3a <",">",'""\uff0c\u4ec5\u5bf9\u975e\u6570\u503c\u7c7b\u578b\u7684\u5217\u9002\u7528\u3002'),(0,r.kt)("h3",{id:"order-by-\u7684\u9650\u5236"},"ORDER BY \u7684\u9650\u5236"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u975e\u8d85\u7ea7\u8868\u53ea\u80fd\u6709\u4e00\u4e2a order by."),(0,r.kt)("li",{parentName:"ul"},"\u8d85\u7ea7\u8868\u6700\u591a\u4e24\u4e2a order by\uff0c \u5e76\u4e14\u7b2c\u4e8c\u4e2a\u5fc5\u987b\u4e3a ts."),(0,r.kt)("li",{parentName:"ul"},"order by tag\uff0c\u5fc5\u987b\u548c group by tag \u4e00\u8d77\uff0c\u5e76\u4e14\u662f\u540c\u4e00\u4e2a tag\u3002 tbname \u548c tag \u4e00\u6837\u903b\u8f91\u3002 \u53ea\u9002\u7528\u4e8e\u8d85\u7ea7\u8868"),(0,r.kt)("li",{parentName:"ul"},"order by \u666e\u901a\u5217\uff0c\u5fc5\u987b\u548c group by \u4e00\u8d77\u6216\u8005\u548c top/bottom \u4e00\u8d77\uff0c\u5e76\u4e14\u662f\u540c\u4e00\u4e2a\u666e\u901a\u5217\u3002 \u9002\u7528\u4e8e\u8d85\u7ea7\u8868\u548c\u666e\u901a\u8868\u3002\u5982\u679c\u540c\u65f6\u5b58\u5728 group by \u548c top/bottom \u4e00\u8d77\uff0corder by \u4f18\u5148\u5fc5\u987b\u548c group by \u540c\u4e00\u5217\u3002"),(0,r.kt)("li",{parentName:"ul"},"order by ts. \u9002\u7528\u4e8e\u8d85\u7ea7\u8868\u548c\u666e\u901a\u8868\u3002"),(0,r.kt)("li",{parentName:"ul"},"order by ts \u540c\u65f6\u542b\u6709 group by \u65f6 \u9488\u5bf9 group \u5185\u90e8\u7528 ts \u6392\u5e8f")),(0,r.kt)("h2",{id:"\u8868\u5217\u540d\u5408\u6cd5\u6027\u8bf4\u660e"},"\u8868(\u5217)\u540d\u5408\u6cd5\u6027\u8bf4\u660e"),(0,r.kt)("p",null,"TDengine \u4e2d\u7684\u8868\uff08\u5217\uff09\u540d\u547d\u540d\u89c4\u5219\u5982\u4e0b\uff1a\n\u53ea\u80fd\u7531\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u6784\u6210\uff0c\u6570\u5b57\u4e0d\u80fd\u5728\u9996\u4f4d\uff0c\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7 192 \u5b57\u8282\uff0c\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u8fd9\u91cc\u8868\u540d\u79f0\u4e0d\u5305\u62ec\u6570\u636e\u5e93\u540d\u7684\u524d\u7f00\u548c\u5206\u9694\u7b26\u3002"),(0,r.kt)("p",null,'\u8f6c\u79fb\u540e\u8868\uff08\u5217\uff09\u540d\u89c4\u5219\uff1a\n\u4e3a\u4e86\u517c\u5bb9\u652f\u6301\u66f4\u591a\u5f62\u5f0f\u7684\u8868\uff08\u5217\uff09\u540d\uff0cTDengine \u5f15\u5165\u65b0\u7684\u8f6c\u4e49\u7b26 "`"\u3002\u53ef\u7528\u8ba9\u8868\u540d\u4e0e\u5173\u952e\u8bcd\u4e0d\u51b2\u7a81\uff0c\u540c\u65f6\u4e0d\u53d7\u9650\u4e8e\u4e0a\u8ff0\u8868\u540d\u79f0\u5408\u6cd5\u6027\u7ea6\u675f\u68c0\u67e5\uff0c\u8f6c\u4e49\u7b26\u4e0d\u8ba1\u5165\u8868\u540d\u79f0\u7684\u957f\u5ea6\u3002\n\u8f6c\u4e49\u540e\u7684\u8868\uff08\u5217\uff09\u540d\u540c\u6837\u53d7\u5230\u957f\u5ea6\u9650\u5236\u8981\u6c42\uff0c\u4e14\u957f\u5ea6\u8ba1\u7b97\u7684\u65f6\u5019\u4e0d\u8ba1\u7b97\u8f6c\u4e49\u7b26\u3002\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u4ee5\u540e\uff0c\u4e0d\u518d\u5bf9\u8f6c\u4e49\u5b57\u7b26\u4e2d\u7684\u5185\u5bb9\u8fdb\u884c\u5927\u5c0f\u5199\u7edf\u4e00\u3002'),(0,r.kt)("p",null,"\u4f8b\u5982\uff1a\n","`","aBc","`"," \u548c ","`","abc","`"," \u662f\u4e0d\u540c\u7684\u8868\uff08\u5217\uff09\u540d\uff0c\u4f46\u662f abc \u548c aBc \u662f\u76f8\u540c\u7684\u8868\uff08\u5217\uff09\u540d\u3002"),(0,r.kt)("p",null,"\u9700\u8981\u6ce8\u610f\u7684\u662f\u8f6c\u4e49\u5b57\u7b26\u4e2d\u7684\u5185\u5bb9\u5fc5\u987b\u662f\u53ef\u6253\u5370\u5b57\u7b26\u3002"),(0,r.kt)("p",null,"\u652f\u6301\u7248\u672c\n\u652f\u6301\u8f6c\u4e49\u7b26\u7684\u529f\u80fd\u4ece 2.3.0.1 \u7248\u672c\u5f00\u59cb\u3002"),(0,r.kt)("h2",{id:"json-\u7c7b\u578b\u4f7f\u7528\u8bf4\u660e"},"Json \u7c7b\u578b\u4f7f\u7528\u8bf4\u660e"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8bed\u6cd5\u8bf4\u660e"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa json \u7c7b\u578b tag"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},'create stable s1 (ts timestamp, v1 int) tags (info json)\n\ncreate table s1_1 using s1 tags (\'{"k1": "v1"}\')\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"json \u53d6\u503c\u64cd\u4f5c\u7b26 ->"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"select * from s1 where info->'k1' = 'v1'\n\nselect info->'k1' from s1\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"json key \u662f\u5426\u5b58\u5728\u64cd\u4f5c\u7b26 contains"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"select * from s1 where info contains 'k2'\n\nselect * from s1 where info contains 'k1'\n"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u652f\u6301\u7684\u64cd\u4f5c"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5728 where \u6761\u4ef6\u4e2d\u65f6\uff0c\u652f\u6301\u51fd\u6570 match/nmatch/between and/like/and/or/is null/is no null\uff0c\u4e0d\u652f\u6301 in"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"select * from s1 where info->'k1' match 'v*';\n\nselect * from s1 where info->'k1' like 'v%' and info contains 'k2';\n\nselect * from s1 where info is null;\n\nselect * from s1 where info->'k1' is not null\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u652f\u6301 json tag \u653e\u5728 group by\u3001order by\u3001join \u5b50\u53e5\u3001union all \u4ee5\u53ca\u5b50\u67e5\u8be2\u4e2d\uff0c\u6bd4\u5982 group by json->'key'")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u652f\u6301 distinct \u64cd\u4f5c."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"select distinct info->'k1' from s1\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6807\u7b7e\u64cd\u4f5c"),(0,r.kt)("p",{parentName:"li"},"\u652f\u6301\u4fee\u6539 json \u6807\u7b7e\u503c\uff08\u5168\u91cf\u8986\u76d6\uff09"),(0,r.kt)("p",{parentName:"li"},"\u652f\u6301\u4fee\u6539 json \u6807\u7b7e\u540d"),(0,r.kt)("p",{parentName:"li"},"\u4e0d\u652f\u6301\u6dfb\u52a0 json \u6807\u7b7e\u3001\u5220\u9664 json \u6807\u7b7e\u3001\u4fee\u6539 json \u6807\u7b7e\u5217\u5bbd")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5176\u4ed6\u7ea6\u675f\u6761\u4ef6"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u53ea\u6709\u6807\u7b7e\u5217\u53ef\u4ee5\u4f7f\u7528 json \u7c7b\u578b\uff0c\u5982\u679c\u7528 json \u6807\u7b7e\uff0c\u6807\u7b7e\u5217\u53ea\u80fd\u6709\u4e00\u4e2a\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u957f\u5ea6\u9650\u5236\uff1ajson \u4e2d key \u7684\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7 256\uff0c\u5e76\u4e14 key \u5fc5\u987b\u4e3a\u53ef\u6253\u5370 ascii \u5b57\u7b26\uff1bjson \u5b57\u7b26\u4e32\u603b\u957f\u5ea6\u4e0d\u8d85\u8fc7 4096 \u4e2a\u5b57\u8282\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"json \u683c\u5f0f\u9650\u5236\uff1a"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},'json \u8f93\u5165\u5b57\u7b26\u4e32\u53ef\u4ee5\u4e3a\u7a7a\uff08"","\\t"," "\u6216 null\uff09\u6216 object\uff0c\u4e0d\u80fd\u4e3a\u975e\u7a7a\u7684\u5b57\u7b26\u4e32\uff0c\u5e03\u5c14\u578b\u548c\u6570\u7ec4\u3002'),(0,r.kt)("li",{parentName:"ol"},'object \u53ef\u4e3a{}\uff0c\u5982\u679c object \u4e3a{}\uff0c\u5219\u6574\u4e2a json \u4e32\u8bb0\u4e3a\u7a7a\u3002key \u53ef\u4e3a""\uff0c\u82e5 key \u4e3a""\uff0c\u5219 json \u4e32\u4e2d\u5ffd\u7565\u8be5 k-v \u5bf9\u3002'),(0,r.kt)("li",{parentName:"ol"},"value \u53ef\u4ee5\u4e3a\u6570\u5b57(int/double)\u6216\u5b57\u7b26\u4e32\u6216 bool \u6216 null\uff0c\u6682\u4e0d\u53ef\u4ee5\u4e3a\u6570\u7ec4\u3002\u4e0d\u5141\u8bb8\u5d4c\u5957\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u82e5 json \u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0\u4e24\u4e2a\u76f8\u540c\u7684 key\uff0c\u5219\u7b2c\u4e00\u4e2a\u751f\u6548\u3002"),(0,r.kt)("li",{parentName:"ol"},"json \u5b57\u7b26\u4e32\u91cc\u6682\u4e0d\u652f\u6301\u8f6c\u4e49\u3002"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5f53\u67e5\u8be2 json \u4e2d\u4e0d\u5b58\u5728\u7684 key \u65f6\uff0c\u8fd4\u56de NULL")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5f53 json tag \u4f5c\u4e3a\u5b50\u67e5\u8be2\u7ed3\u679c\u65f6\uff0c\u4e0d\u518d\u652f\u6301\u4e0a\u5c42\u67e5\u8be2\u7ee7\u7eed\u5bf9\u5b50\u67e5\u8be2\u4e2d\u7684 json \u4e32\u505a\u89e3\u6790\u67e5\u8be2\u3002"),(0,r.kt)("p",{parentName:"li"},"\u6bd4\u5982\u6682\u4e0d\u652f\u6301"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"select jtag->'key' from (select jtag from stable)\n")),(0,r.kt)("p",{parentName:"li"},"\u4e0d\u652f\u6301"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre"},"select jtag->'key' from (select jtag from stable) where jtag->'key'>0\n")))))),(0,r.kt)("h2",{id:"\u8f6c\u4e49\u5b57\u7b26\u8bf4\u660e"},"\u8f6c\u4e49\u5b57\u7b26\u8bf4\u660e"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8f6c\u4e49\u5b57\u7b26\u8868 \uff08\u8f6c\u4e49\u7b26\u7684\u529f\u80fd\u4ece 2.4.0.4 \u7248\u672c\u5f00\u59cb\uff09"),(0,r.kt)("table",{parentName:"li"},(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"},"\u5b57\u7b26\u5e8f\u5217"),(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("strong",{parentName:"th"},"\u4ee3\u8868\u7684\u5b57\u7b26")))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"\\'")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5355\u5f15\u53f7'")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},'\\"')),(0,r.kt)("td",{parentName:"tr",align:null},'\u53cc\u5f15\u53f7"')),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"\\n"),(0,r.kt)("td",{parentName:"tr",align:null},"\u6362\u884c\u7b26")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"\\r"),(0,r.kt)("td",{parentName:"tr",align:null},"\u56de\u8f66\u7b26")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"\\t"),(0,r.kt)("td",{parentName:"tr",align:null},"tab \u7b26")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"\\\\")),(0,r.kt)("td",{parentName:"tr",align:null},"\u659c\u6760\\ ")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"\\%")),(0,r.kt)("td",{parentName:"tr",align:null},"% \u89c4\u5219\u89c1\u4e0b")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},(0,r.kt)("inlineCode",{parentName:"td"},"\\_")),(0,r.kt)("td",{parentName:"tr",align:null},"_"," \u89c4\u5219\u89c1\u4e0b"))))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u8f6c\u4e49\u5b57\u7b26\u4f7f\u7528\u89c4\u5219"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u6807\u8bc6\u7b26\u91cc\u6709\u8f6c\u4e49\u5b57\u7b26\uff08\u6570\u636e\u5e93\u540d\u3001\u8868\u540d\u3001\u5217\u540d\uff09"),(0,r.kt)("li",{parentName:"ol"},"\u666e\u901a\u6807\u8bc6\u7b26\uff1a \u76f4\u63a5\u63d0\u793a\u9519\u8bef\u7684\u6807\u8bc6\u7b26\uff0c\u56e0\u4e3a\u6807\u8bc6\u7b26\u89c4\u5b9a\u5fc5\u987b\u662f\u6570\u5b57\u3001\u5b57\u6bcd\u548c\u4e0b\u5212\u7ebf\uff0c\u5e76\u4e14\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u53cd\u5f15\u53f7``\u6807\u8bc6\u7b26\uff1a \u4fdd\u6301\u539f\u6837\uff0c\u4e0d\u8f6c\u4e49"),(0,r.kt)("li",{parentName:"ol"},"\u6570\u636e\u91cc\u6709\u8f6c\u4e49\u5b57\u7b26"),(0,r.kt)("li",{parentName:"ol"},"\u9047\u5230\u4e0a\u9762\u5b9a\u4e49\u7684\u8f6c\u4e49\u5b57\u7b26\u4f1a\u8f6c\u4e49\uff08%\u548c","_","\u89c1\u4e0b\u9762\u8bf4\u660e\uff09\uff0c\u5982\u679c\u6ca1\u6709\u5339\u914d\u7684\u8f6c\u4e49\u5b57\u7b26\u4f1a\u5ffd\u7565\u6389\u8f6c\u4e49\u7b26\\\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5bf9\u4e8e%\u548c",(0,r.kt)("em",{parentName:"li"},"\uff0c\u56e0\u4e3a\u5728 like \u91cc\u8fd9\u4e24\u4e2a\u5b57\u7b26\u662f\u901a\u914d\u7b26\uff0c\u6240\u4ee5\u5728\u6a21\u5f0f\u5339\u914d like \u91cc\u7528",(0,r.kt)("inlineCode",{parentName:"em"},"\\%"),"%\u548c",(0,r.kt)("inlineCode",{parentName:"em"},"\\_"),"\u8868\u793a\u5b57\u7b26\u91cc\u672c\u8eab\u7684%\u548c"),"\uff0c\u5982\u679c\u5728 like \u6a21\u5f0f\u5339\u914d\u4e0a\u4e0b\u6587\u4e4b\u5916\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"\\%"),"\u6216",(0,r.kt)("inlineCode",{parentName:"li"},"\\_"),"\uff0c\u5219\u5b83\u4eec\u7684\u8ba1\u7b97\u7ed3\u679c\u4e3a\u5b57\u7b26\u4e32",(0,r.kt)("inlineCode",{parentName:"li"},"\\%"),"\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"\\_"),"\uff0c\u800c\u4e0d\u662f%\u548c","_","\u3002")))))}s.isMDXComponent=!0},268:function(e,t,n){t.Z=n.p+"assets/images/timewindow-1-580ee7e154105b3830fc62d50103252c.png"},811:function(e,t,n){t.Z=n.p+"assets/images/timewindow-2-a2b5f9c89aeb90dc5a1789e9339b4f39.png"},3109:function(e,t,n){t.Z=n.p+"assets/images/timewindow-3-094ede07baa05e3f8855fd073a7a92ca.png"}}]);